;===========================================================
; era命蓮寺OverDrive!!Ver1.0+修正パッチVer1用
; ｵﾊﾖｰ響子ちゃん口上 Version 0.1.0
;-------------------------------------------------
; Copyright
;  本口上の修正について
;   【误字・脱字修正】【分岐条件・erb構文に関する修正】【本体Ver・Rev変更対応】【フラグの管理・修正】
;  
;  本口上の加筆・改変について
;   【未记入部位加筆】【ランダム分岐加筆】【记入済部位加筆】【记入済部位削除】【记入済部位コメントアウト】
;  
;  本口上に対するメンテナンス禁止时限について
;   【未设定】
;  
;  本口上に対するその他但し书き
;   1. Copyrightと良识に从っている限り、修正や加筆、改変、新规の口上へ派生させる行为において、
;      AT92G4(以下筆者とする)に一切のことわりを入れる必要はない。
;   2. 全ての修正、加筆、改変において、筆者が改変者のハンドルを併记した上で、
;      取捨选择や改変を加えて取り込んでいく事を許可しているものとみなす。
;   
; PS 寅の人
; オリジナル作者と连絡が取れない场合、上记Copyrightに从い加筆改変を行って下さい
; また本体处理・他口上处理等に干渉する异常处理がある场合でオリジナル作者による修正が
; 行われない・もしくは困難な场合、Copyrightに関わらず有志による修正を許可します
; その際は元处理を削除せずコメントアウトし修正处理を插入して下さい
;
;-------------------------------------------------
; 更新履历
;  11/11/10: バージョン0.1.0リリース
;  
;-------------------------------------------------
; 基礎情报メモ
;  名前:幽谷響子, 呼び名:響子
;  体力:1700, 气力:1500, 法力:1800, 工作量:2100
;  能力
;   顺从1, 侍奉精神5, 清扫技能5, 话术技能1, 战斗能力1, 料理技能3
;  経験
;   清扫经验20, 会话经验10, 料理经验10
;  素質
;   [处女](女性)[キス未经验]
;   [素直][目立ちたがり][恥薄い][痛みに强い]
;   [习得早い][自慰しやすい]
;   [小柄体型][Ａ鈍感][Ｂ敏感][动物耳]
;  相性
;   星(200), 白蓮(150)
;  フラグ
;   服装     CFLAG:7   = 108
;   地位     CFLAG:310 = 170(ナズーリン>響子>小伞)
;   开始位置 CFLAG:311 = 99(平日は初始位置[1]山门, 定住させた场合は初始位置[20]響子の房间(元物置))
;   职场     CFLAG:326 = [1]山门
;   味觉嗜好 CFLAG:322 = 0b01010010(嗜好:薄味, 耐性:甘, 酸)
;  
;-------------------------------------------------
; 関数メモ void=意味のある戻り值がない, int=整数を返す, str=文字列を返す
;  式中関数
;   int  K88_KYOKO_GET_VARSION()
;   str  K88_KYOKO_HEART()
;   int  K88_KYOKO_TRYENDURE(ARG = -1)
;   int  K88_KYOKO_DIFF_BODYSIZE(ARG = -1, ARG:1 = -1)
;   int  K88_KYOKO_RELATION(ARG)
;   str  K88_KYOKO_CALLNAME(ARG = -1)
;  関数
;   void K88_KYOKO_UPDATE
;   void K88_KYOKO_INPUT_CALLNAME
;  
;-------------------------------------------------
; 変数メモ
;  MASTERNAME:88 呼び名(任意でCSTR:20と同期する时はCALLF K88_KYOKO_CALLNAME(MASTER))
;  CFLAG 1100~1999
;   1100 = 口上バージョン
;   1101 = 雑多なフラグ(0b1 = 呼び名, )
;  CSTR 20~30(口上向け領域が明记されていないため、本体版本升级で互换性丧失の恐れあり)
;   20 = 觉えた呼び名
;  TCVAR 350~399
;   350 = 时间带毎の挨拶フラグ(0b1 = 朝, 0b10 = 昼, 0b100 = 夜)
;   351 = 出会った回数
;   352 = 要フォロー項目(0b1 = 恋人かつ无视した, 0b10 = 怒らせた, 0b100 = 好みじゃない料理食べた, 
;                        0b1000 = 他人とネチョってるの見た, 以降未定)
;   353 = 呼び名変えたフラグ
;   354 = その日押し倒された回数
;  
;-------------------------------------------------
; 口上内容メモ
;  记入中
;   房间で遭遇, 会话, スキンシップ, 头を抚でる, キスする
;  记入済(暫定含む)
;   エク, 扫除, 战斗训练, 勉强, 料理, 移动时すれちがい, 食事系, 食事を取る, 食事をふるまう, 仕事を手伝う, お茶を淹れる, 
;   デート帰りキス, お仕事中, 浴场で遭遇, 推倒た, 寝床に忍び込み, 添い寝する, おはよう, おやすみ, MASTERが推倒た, 
;   
;  状况
;   分岐后回しで埋め优先
;  
;===========================================================

;-------------------------------------------------
; 口上存在判定
;-------------------------------------------------
@M_KOJO_K88(ARG)
;RESULTS = _ONKYO_
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_UPDATE_K88
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ场合等にどうぞ
;UPDATE判定でCFLAGを使う场合、キャラ番号の指定が必要になります
IF FIRSTTIME("U88-1",0,88) && CFLAG:88:认识
	PRINTFORML 呼び名が変わってしまった场合の救済措置です
	PRINTFORML 呼び名が変わって居ない方には手数をおかけします、申し訳ありません
	MASTERNAME:88 = 
	CALL K88_KYOKO_INPUT_CALLNAME
ENDIF
RETURN 1

;-------------------------------------------------
; "ENCOUNTER"系イベント（エクストラ構文）
;  初対面、挨拶のタイミング
;  TALENTの変更はここでどうぞ。
;-------------------------------------------------
@M_KOJO_ENCOUNTER_K88
SELECTCASE TIME:2
	CASE 1,2
		PRINTFORMW 「おはよーございます！」
	CASE 3,4
		PRINTFORMW 「こんにちはー！」
	CASEELSE
		; 误字じゃないよわざとだよウサだけど
		PRINTFORMW 「こんばんは！！１！」
ENDSELECT
PRINTFORML 耳を塞ぎたくなるような大声と共に、
PRINTFORMW 土煙を巻き上げそうな勢いで、竹箒を持った垂れ耳の少女がこっちに駆けてくる
PRINTFORMW 「あんたが%K88_KYOKO_CALLNAME(55)%の言っていた新入りの入门者ね。名前を教えてもらっていいかしら？」
SIF FIRSTTIME("U88-1")
	PRINTL  
CALL K88_KYOKO_INPUT_CALLNAME
PRINTFORMW 「%MASTERNAME:88%ね、觉えたわ！」
PRINTFORML 挨拶を済ませ、お互いに質問をかわす
PRINTFORMW 激しい弾幕のような質問を顧みるに、とにかくテンションの高い少女のようだ
SETBIT TCVAR:350, (TIME:2 - 1)
CFLAG:1100 = K88_KYOKO_GET_VARSION()
RETURN 1

;===========================================================
; "SP_EVENT"系イベント
;===========================================================
; デート帰りにファーストKISS（合意も付く）
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_SPEVENT_K88_1(ARG, ARG:1)
;地の文表示
;CALL SPEVENT_MESSAGE_1(ARG,ARG:1)
LOCAL = 1
IF LOCAL
	PRINTFORMW 命蓮寺の门までもう少しという所で先行していた響子が突然立ち止まった
	PRINTFORML どうかしたと声をかけ、返事が无いことを訝しんで%CALLNAME:MASTER%が近づくと、
	PRINTFORMW あっと驚く间もなく響子は\@ K88_KYOKO_DIFF_BODYSIZE(TARGET, MASTER) >= 0 ? 背伸びして # 腰を屈めて \@%CALLNAME:MASTER%へキスをしてきた
	PRINTFORMW ……もちろん考える间もなく唇を奪われ、驚きのあまり时间の感觉すら失ってしまう
	PRINTFORML 呆然とする%CALLNAME:MASTER%に響子はどうかした？と先ほどの言叶をオウム返しにし、
	PRINTFORMW 颜を朱色に染めたかと思ったら、今度はぎゃーぎゃー叫びながら命蓮寺へ飛んで行ってしまった
	PRINTW 
	PRINTFORML %CALLNAME:MASTER%は落ち着きを取り戻した后、真っ赤になって命连寺に逃げ込んでいった響子を急いで追いかけるのだった
	PRINTFORMW ……もう少し情绪があればいいのにと思いながら
ENDIF
RETURN 1

;==================================================
;デート帰りに告白（恋人が付く）
;---------------------------------------
; 口上主はTARGET
;==================================================
@M_KOJO_SPEVENT_K88_2(ARG, ARG:1)
;地の文表示
CALL SPEVENT_MESSAGE_2(ARG,ARG:1)
LOCAL = 0
IF LOCAL
	; 告白内容
	; この告白内容表示后に受けるかどうかの选择分が表示されます
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	; 告白成功
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	; 告白失敗
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;===========================================================
; "EVENT"系イベント
;===========================================================
; 房间で遭遇
;=================================================
@M_KOJO_EVENT_K88_1(ARG, ARG:1)
;口上主はTARGET
LOCAL = 1
IF LOCAL
	; 互换处理呼び出し
	SIF !TCVAR:351
		CALL K88_KYOKO_UPDATE
	; 书き分けが大変なのでどっちが入ってきた场合もまとめとく
	; 内部ではARGで分岐する可能性もある
	LOCAL:1 = 1
	IF LOCAL:1 && ARG
		; 仕事中(まだいっぱい)
		IF CFLAG:行动 == 5 && BASE:工作量 > MAXBASE:工作量 / 2
			PRINTFORML 響子はリズムよくお経を唱えながら扫除をしている
			PRINTFORMW 仕事が終わるまでには、もう少し时间がかかりそうに見える
			TCVAR:351++
		; 仕事中(もうすぐ終わる)
		ELSEIF CFLAG:行动 == 5 && BASE:工作量 > 0
			PRINTFORML 響子は鼻歌を歌いながら扫除をしている
			PRINTFORMW 仕事はあと少しで終わりそうだ
			TCVAR:351++
		; それ以外
		ELSE
			; まだ朝の挨拶してない
			IF TIME:2 <= 2 && TCVAR:今日会ったか == 1
				IF TALENT:恋慕 && RAND:2
					PRINTFORML 「おはよーございます
					PRINTFORMW 　おはよーございます！」
					PRINTFORML 元气な挨拶と共に子犬がじゃれつくかのごとく響子が飛びかかってきた
					PRINTFORMW おはよう犬とでも名付けようか？心の中で
					TCVAR:今日会ったか = 2
				ELSE
					PRINTFORML 「おはよーございます！」
					PRINTFORML おお、おはようおはよう
					PRINTFORMW 今日も朝からハイテンションなようだ
					TCVAR:今日会ったか = 2
				ENDIF
			; まだ昼の挨拶してない
			ELSEIF TIME:2 > 2 && TIME:2 <= 4 && TCVAR:今日会ったか <= 2
				IF TALENT:恋慕 && RAND:2
					PRINTFORMW 「ちわーっす！！」
					PRINTFORML ……その挨拶はどうかと思うと苦言を呈したら、
					PRINTFORMW 参拝に来ていた里の人がそういってたので真似をしたのだそうだ
					PRINTFORMW おのれ純真な子になんて挨拶を吹き込むのだ
					IF TCVAR:今日会ったか == 2
						TCVAR:今日会ったか = 4
					ELSE
						TCVAR:今日会ったか = 3
					ENDIF
				ELSE
					PRINTFORML 「こんにちは！！」
					PRINTFORMW 今日もお寺に皆を笑颜にさせるような挨拶が響く
					IF TCVAR:今日会ったか == 2
						TCVAR:今日会ったか = 4
					ELSE
						TCVAR:今日会ったか = 3
					ENDIF
				ENDIF
			; まだ夜の挨拶してない
			ELSEIF TIME:2 > 4 && TCVAR:今日会ったか <= 4
				IF TALENT:恋慕 && RAND:2
					PRINTFORML 「こんばんは！」
					SIF TCVAR:今日会ったか == 4
						PRINTFORML 「今日はおはようからこんばんはまでコンプリートね！」
					PRINTFORMW ニコニコと笑う響子の姿についつい見惚れてしまった
					TCVAR:今日会ったか = 5
				ELSE
					PRINTFORML 「こんばんワおーん！」
					PRINTFORML 挨拶の途中に聞こえてきた遠吠えを律儀に返すのはいいが、
					PRINTFORML ヤマビコと挨拶は混ぜない方が良いと思うのだ
					PRINTFORMW もちろん山彦のアイデンティティを奪うわけにはいかないので口には出せない
					TCVAR:今日会ったか = 5
				ENDIF
			; 既に挨拶済み
			ELSE
				IF TCVAR:351 > 8
					PRINTFORML 「なんだか今日はよく会うわね」
					IF ARG == 2
						PRINTFORML 響子は首を傾げてるが、その原因は響子が动き回っているからじゃないだろうか？
					ELSE
						PRINTFORML (もしかして后をつけられてるのかしら？)
						PRINTFORML 何だか響子は\@ TALENT:恋慕 ? 嬉しそうな # 複雑な\@表情をしている
					ENDIF
				ELSEIF TCVAR:351 > 4
					; <工事中> 何か思いついたら后で书き直すよ
					PRINTFORML ＼Google!／
				ELSEIF TCVAR:351 > 2
					; <工事中> 何か思いついたら后で书き直すよ
					PRINTFORML ＼Excite!／
				ELSE
					; <工事中> 何か思いついたら后で书き直すよ
					PRINTFORML ＼YAHOO!／
				ENDIF
			ENDIF
			TCVAR:351++
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 朝起きたとき（おはよう口上）
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_2(ARG, ARG:1)
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	; 互换处理呼び出し
	SIF !TCVAR:351
		CALL K88_KYOKO_UPDATE
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;非同棲かつ相手が先に起きてる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;TARGET私室にMASTERが入っている（恋慕时陪睡中就寝时のみ？
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER私室にTARGETが入ってきてる(恋慕无しでも入ってくる可能性有り
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;同棲かつ相手が起きている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;同棲かつ相手が寝ている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERが起きていて、相手が起きてきた
	;添い寝时TARGET起床はこちら（TARGET衰弱or陪睡中TARGET睡魔負け后そのままMASTERが起き続けた上で相手が起床した场合限定
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;非同棲
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML 「んあ……、おあよーございまーす……」
			PRINTFORML 響子は眠そうに小さな欠伸を手で隠しながら挨拶をしてきた
			PRINTFORMW 寝ぼけているのだろうか？%CALLNAMe:MASTER%をよく認识していない感じがする
			SETBIT TCVAR:350, (TIME:2 - 1)
			TCVAR:351++
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;同棲中
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML 「んあ……、おあよーございまーす……」
			PRINTFORML まだ眠そうに小さな欠伸をしながら挨拶をする響子の头をわしわしと抚でてやる
			PRINTFORML 「きゃっ、何するのよ！」
			PRINTFORMW ふてくされた表情と引き换えに、響子はパッチリと目觉めたようだ
			SETBIT TCVAR:350, (TIME:2 - 1)
			TCVAR:351++
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 夜寝るとき（おやすみ口上）
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_3(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	;自室に帰る（定时になって寝る）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「おやすみなさい、%MASTERNAME:88%」
		PRINTFORMW おやすみを交わして\@ FLAG:住宿人物 == 8 ? 房间に戻る # 山に帰る \@響子を見送った
		RETURN 1
	ENDIF
	
	;眠そうにしている
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「ねむくないのおー……」
		PRINTFORML 眠いかという質問にうつらうつらと舟を漕ぎながら呂律の怪しい言叶で返答される
		PRINTFORMW 誰がどう見ても眠いのを无理して付き合っている感が滲み出ていた
		RETURN 1
	ENDIF
	
	;睡眠中（起きていないので会话というよりは寝言？）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 3
		PRINTFORML 
		RETURN 1
	ENDIF
	
	;恶作剧中
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 4
		PRINTFORML 
		RETURN 1
	ENDIF
	
	;衰弱中
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 5
		IF TALENT:恋慕 && FLAG:住宿人物 == 8
			PRINTFORML 「もうだめー誰か運んでくれないかしらー？」
			PRINTFORMW 響子はへたり込んで%CALLNAME:MASTER%をちらちらと見ている
			PRINTFORMW 分かりやすい态度に苦笑しつつも軽い響子を抱えて房间まで運びこんだ
		ELSE
			PRINTFORML 「もうだめ……むり……」
			PRINTFORMW ふらふらと\@ FLAG:住宿人物 == 8 ? 房间 # 山 \@へ飛んでいく響子を見て、本当に大丈夫なのかと心配になった
		ENDIF
		RETURN 1
	ENDIF
	
	;MASTERがダウン（房间まで運ばれる）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 「ねえ%MASTERNAME:88%、……って眠っちゃってるのね」
		PRINTFORML 返事が无いことに气付くと%CALLNAME:MASTER%は眠り込んでしまっていた
		PRINTFORMW 「まっ、しょうがないわねぇ」
		PRINTFORML さすがは弱くても妖怪と言うべきか、
		PRINTFORMW 響子は\@ K88_KYOKO_DIFF_BODYSIZE(TARGET, MASTER) < 0 ? 体格差を物ともせず # \@に%CALLNAME:MASTER%を抱きかかえると房间まで飛んで運んで行った
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 移动时すれちがい
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_4(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	;立ち止まった
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	
	;軽く会釈して通り過ぎた
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 2
		; 恋慕
		IF TALENT:恋慕
			; 仕事中ならセリフ追加
			PRINTFORML 「\@ CFLAG:行动 == 5 ? 仕事中だから # \@また后でねー！」
			PRINTFORMW 急いでいるため会话している暇は无かったが元气そうで何よりだ
		; 他
		ELSE
			PRINTFORML 「お疲れ様！」
			PRINTFORMW 鼻歌を歌っている響子に会釈して通り過ぎると、元气の良いねぎらいの言叶をかけられた
		ENDIF
		RETURN 1
	ENDIF
	
	;无视して通り過ぎた
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 3
		; 恋人だと后で釈明するイベントを插入する
		IF TALENT:恋人
			PRINTFORML 急いでいたのでついつい響子を无视してしまった
			PRINTFORML ちらりと后ろを振り返ると涙目で耳を垂らして落ち込んでいる姿が見えた
			PRINTFORMW ……后で暇ができたら釈明しておこうか
			SETBIT TCVAR:352, 0
		ENDIF
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 他者介入で情绪変化
;---------------------------------------
; 口上主はTARGET
; ARG = 介入者キャラNo.
;=================================================
@M_KOJO_EVENT_K88_5(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	LOCAL:1 = 0
	IF LOCAL:1 && ARG
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 情事を目撃した
;---------------------------------------
; 口上主はTARGET
; ARGに情事相手
;=================================================
@M_KOJO_EVENT_K88_6(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	;情事を目撃した（馴れ合い度:低）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	
	;負けじと参加（馴れ合い度:高）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	
	;气まずそうに立ち去る
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	
	;MASTERに诱われて参加
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 情事を見られた
;---------------------------------------
; 口上主はTARGET
; ARGに目撃者
;=================================================
@M_KOJO_EVENT_K88_7(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	;情事を見られた（目撃者の馴れ合い度:低）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	
	;目撃者が負けじと参加（目撃者の馴れ合い度:高）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	
	;目撃者が立ち去る
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	
	;MASTERに诱われて目撃者も参加
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 目撃した情事を問い詰める
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_8(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	;MASTERだけ問い詰め
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	
	;二人とも説教
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 弱みを握った
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_9(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	LOCAL:1 = 0
	IF LOCAL:1
		PRINTFORML
		RETURN 1
	ENDIF
	
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; (MASTERを)推倒た
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_10(ARG, ARG:1)
#LOCALSIZE 2
LOCAL = 1
IF LOCAL
	;MASTERを推倒た（开始时）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 1
		IF NO:MASTER == 0 && !TCVAR:354
			PRINTFORML 普段は明るい性格や大声などのせいで色气の薄い響子が妙に艶めかしく見える
			PRINTFORML 气圧されているうちに外見からでは想像もつかない力で押し倒されてしまった
			PRINTFORMW 「ねえ%MASTERNAME:88%……、しよ%K88_KYOKO_HEART()%」
			TCVAR:354++
		ENDIF
		RETURN 1
	ENDIF
	
	;なだめられた（終了时）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 2
		SELECTCASE K88_KYOKO_TRYENDURE(TARGET)
			; 確率100だとまたすぐに押し倒されるよね……
			CASE 100
				PRINTFORML 「まだ何もしてないじゃないのよー……」
				PRINTFORMW 響子は不満たらたらだ
			CASE IS > 50
				PRINTFORML 「ねえ、もう少ししない？」
				PRINTFORMW どうにも響子はまだし足りないようだ
			CASE IS > 10
				PRINTFORML 「うーん、まっいいか！」
				PRINTFORML 響子は少し思い悩んだ后にっこり笑って%CALLNAME:MASTER%にすり寄る
				PRINTFORMW どうやらおおむね満足してくれたようだ
			CASEELSE
				PRINTFORML 「へへへっ、大満足かな！」
				PRINTFORML 押し倒された时の艶やかさが綺丽に吹き飛んでしまい、響子はいつも通りの能天气に戻っている
				PRINTFORMW 嬉しいような残念なような何とも言い難い微妙な气持ちが%CALLNAME:MASTER%を襲った
		ENDSELECT
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 浴场で遭遇
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_11(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	; 追い出された
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 1
		PRINTFORML 澡堂场に入ると身体を洗っていた響子と目が合う
		PRINTFORML お互いに言叶もなく嵐の前の静けさがしばらく続き……、
		PRINTFORMW 鼓膜の破れそうな大音響に追い出される羽目になった
		RETURN 1
	ENDIF
	
	;目が合った（追い出されない）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「一绪にお澡堂入りたいの？别にかまわないわよ」
		PRINTFORMW あっさりと了承されてしまい少し拍子抜けだ
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 寝床に忍び込み
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_12(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	;寝床に侵入
	; 恋慕つけないと寺に居つかないのでありえない？
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	
	;寝床に侵入（相手が恋慕）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML 音に敏感な響子を起こさないように抜き足差し足で寝床へ忍び寄る
		PRINTFORML 「まあね……、これも……勤行なのよ……」
		PRINTFORMW 时々漏らす寝言は……理解しがたい
		RETURN 1
	ENDIF
	
	;寝床に侵入（相手が恋慕・衰弱）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML 疲れ切っているだろう響子は、%CALLNAME:MASTER%の侵入にも气づくことなく昏々と眠っている
		PRINTFORMW 时々耳がひくつくのに驚かされながら響子の寝颜をしばし観察した
		RETURN 1
	ENDIF
	
	;追い出される
	; 恋慕つけないと寺に居つかないのでありえない？怒ってたら追い出されるか？
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	
	;追い出される（衰弱）
	; 恋慕つけないと寺に居つかないのでありえない？怒ってたら追い出されるか？
	LOCAL:1 = 0
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; お仕事中（現在、本体のみの场合 星・白蓮・響子のみ有效）
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_13(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	; 仕事开始（职场へ移动する）
	; 移动开始は自室同じにしないときついんじゃないかなぁ……
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋慕 || TALENT:恋人
			PRINTFORML 「それじゃあ朝のお勤めに行ってくるわね」
			PRINTFORMW 房间に取り残されるのは少し寂しいが、どうしようか
		ENDIF
		RETURN 1
	ENDIF
	
	; 業務中
	; 口上から介入できるようになったら本气出す
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	
	; 仕事終了
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 食事系
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_14(ARG, ARG:1)
LOCAL = 0
IF LOCAL
	;持っていた食物を食べられた
	LOCAL:1 = 1
	IF LOCAL:1
		IF TCVAR:TARGET:料理评价值 >= 700
			PRINTFORML 「あら？おいしいじゃない」
			PRINTFORMW つまみ食いで褒められても困るのだが……
		ELSEIF TASTE_REACTION("辛い") || TASTE_REACTION("わさび")
			PRINTFORML 「な……、なによこれー！」
			PRINTFORML  \@ TASTE_REACTION("辛い") ? 激辛の # わさび山盛りの \@料理を食べた響子はぎゃーぎゃー悲鳴を上げて跳ね回っている
			PRINTFORMW 泣きながら迫られても料理をよく見ずにつまみ食いする方が悪いとしか言いようがない
		ENDIF
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; MASTERが推倒た
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_15(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	;MASTERが推倒た（ウフフ开始时）
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「やーん%K88_KYOKO_HEART()%」
		PRINTFORMW わざとらしすぎる言叶に色气はないが響子の表情は普段は見れない女そのものだ
		RETURN 1
	ENDIF
	
	;逢瀬終了（ウフフ終了时）
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;=================================================
; 添い寝する
;---------------------------------------
; 口上主はTARGET
;=================================================
@M_KOJO_EVENT_K88_16(ARG, ARG:1)
LOCAL = 1
IF LOCAL
	;添い寝を始めた（开始时）
	; まあ、仕様上恋慕后であるはず
	LOCAL:1 = 0
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「私はそんなに儿童じゃないわよー」
		PRINTFORMW 頬を膨らませつつ言われても説得力はないのだがと笑いながら隣にもぐりこんだ
		RETURN 1
	ENDIF
	
	;添い寝を終了した（終了时）
	; まあ、仕様上恋慕后であるはず
	LOCAL:1 = 1
	IF LOCAL:1 && ARG == 2
		IF !CFLAG:睡眠
			PRINTFORML 「あら、もういっちゃうの？」
			PRINTFORML まるで子犬のような響子の目に引き止められつつも振り切り、
			;2018/08/08 TIME:2の详细化に対応してなかった部分の修正
			;PRINTFORMW \@ TIME:2 == 3 ? また明日 # また后で \@と抜け出した
			PRINTFORM 
			IF TIME:0 >= 1140 || TIME:0 <= 240
				PRINTFORM また明日
			ELSE
				PRINTFORM また后で
			ENDIF
			PRINTFORMW と抜け出した
		ELSE
			PRINTFORML 眠っている響子の隣を抜け出すとその表情が寂しげに変化した
			PRINTFORMW 起こしてしまったわけではなく、隣の温もりが失われたからのようだ
		ENDIF
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1


;===========================================================
; 日常系コマンド
;===========================================================
; 300, 会话
;=================================================
@M_KOJO_MESSAGE_COM_K88_300
;コマンド共通メッセージ(TRAIN_MESSAGE) 
;削除すると「～話をした。」とかが消えます
CALL TRAIN_MESSAGE
;口上メイン呼出
CALL M_KOJO_MESSAGE_COM_K88_300_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_300_1
LOCAL = 1
IF LOCAL
	; 仕事中
	IF CFLAG:行动 == 5
		IF TALENT:恋慕 || TALENT:恋人
			PRINTFORML 「話すのは嬉しいんだけど仕事は大切なのよー」
			PRINTFORMW 「それとも手伝ってくれるの？」
		ELSE
			PRINTFORML 「邪魔する暇があるなら大人しく見てるか手伝ってくれればいいのに」
			PRINTFORMW \@ TFLAG:193 ? まんざらでもないようだが、 # \@ここは言うとおりにするべきではないだろうか
		ENDIF
	; 成功
	ELSEIF TFLAG:193 != -1
		; まだ今日は一度も挨拶してない
		IF !GETBIT(TCVAR:350, 0) && !GETBIT(TCVAR:350, 1) && !GETBIT(TCVAR:350, 2)
			; <工事中> 条件。恋慕でもない时にこんなことしてたらおかしいかもしれないからね
			PRINTFORMW 「私としたことが挨拶を忘れてたわ！」
			PRINTFORML 響子が突然耳をそばだてて手を叩くと、こちらに向き直る
			PRINTFORML 髪とおそろいの萌葱色の瞳としばし見つめあった后、
			; ここから
			SELECTCASE TIME:2
				CASE 1,2
					PRINTFORM 「おはよーございます！」と、
				CASE 3,4
					PRINTFORM 「こんにちは！」と、
				CASEELSE
					PRINTFORM 「こんばんは！」と、
			ENDSELECT
			PRINTFORMW 二人で笑い合いながら挨拶を交わした
			; ここまで一文
			; 挨拶フラグたてる
			SETBIT TCVAR:350, (TIME:2 - 1)
;		; 陪睡中
		ELSEIF CFLAG:陪睡中
			; 呼び名変更はここに放り込むことにした
			IF TCVAR:353 == 0
				PRINTFORML 「ねえ%MASTERNAME:88%、たまには呼び名変えてみないとか思わない？」
				PRINTFORML 響子の提案をどうしようか？
				$INPUT_LOOP_KYO0
				PRINTBUTTON "[ 0] やめておく", 0
				PRINTBUTTON "[ 1] うなずいて答える", 1
				INPUT
				SELECTCASE RESULT
					CASE 0
						PRINTFORML 「わかったわ」
						PRINTFORMW 変えなくていいとことわると響子は特にごねることもなく受け入れた
					CASE 1
						CALL K88_KYOKO_INPUT_CALLNAME
						PRINTFORML 「%MASTERNAME:88%ね、分かったわ」
						PRINTFORMW 響子に呼び名を変えてもらった
					CASEELSE
						SIF STRLENS(@"{RESULT}")
							CLEARLINE 1
						REUSELASTLINE 
						GOTO INPUT_LOOP_KYO0
				ENDSELECT
				SETBIT TCVAR:353, 0
			ELSE
				; <工事中>
;				PRINTFORML 
			ENDIF
		; 恋慕
		ELSEIF TALENT:恋慕
			; <工事中>
;			PRINTFORML 
		; その他
		ELSE
			SELECTCASE RAND(3)
				CASE 0
					PRINTFORML 「何でお経を唱えるのかって？だってその方が入门生『らしい』じゃない」
					PRINTFORMW 「なんなら私が教えてあげてもいいのよ」
				CASE 1
					PRINTFORML 「私の仕事は门前のお扫除よ。朝早い时间でもたまに人间が来るから油断できないわ」
					PRINTFORMW 「どんな人间が来るのかって？巫女とか魔法使いとか、あと刃物振り回す危ない奴！」
				CASEELSE
					PRINTFORML 「みんなの房间はけっこう污れてることが多いのだけど私じゃ手は出せないわね」
					PRINTFORMW 「%MASTERNAME:88%は住み込みなんだからたまには綺丽にしてあげたらどう？」
			ENDSELECT
		ENDIF
	; 失敗
	ELSE
		PRINTFORML 『おはよう』っていうと「おはよう」っていう
		PRINTFORML 『是无上呪』っていうと「ぜーむーとーどーしゅー」っていいつなぐ
		PRINTFORML 『遊ばない？』っていうと「遊ばない」っていう
		PRINTFORML そうして、あとでひとりでさみしくなって、
		PRINTFORML 「ごめんね」っていうと『ごめんね』っていう
		PRINTFORMW こだまでしょうか？　いいえ、響子ちゃんです
		; 挨拶フラグたてる
		SETBIT TCVAR:350, (TIME:2 - 1)
	ENDIF
ENDIF
RETURN 1

;=================================================
; 301, お茶を淹れる
;---------------------------------------
; これも信赖が入る
; 时间制限はやっぱり初めて会ったときは辛いくらい
;=================================================
@M_KOJO_MESSAGE_COM_K88_301
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_301_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_301_1
LOCAL = 1
IF LOCAL
	PRINTFORMW 「\@ CFLAG:行动 == 5 ? 仕事の休憩に # \@お茶？いただくわ」
	PRINTFORML 湯呑みを渡すと響子はためらいなくすすっていく
	; 成功
	IF TFLAG:193 != -1
		PRINTFORML 「\@ TFLAG:193 ? 美味しかった # まあまあだった\@わ。また机会があったら淹れてね」
		PRINTFORMW どうやら響子は\@ TFLAG:193 ? # それなりに \@气に入ってくれたようだ
	; 失敗
	ELSE
		PRINTFORML ……のだが、颜色がみるみる青ざめていく
		PRINTFORMW 「ごめんなさい。これ无理」
	ENDIF
ENDIF
RETURN 1

;=================================================
; 302, スキンシップ
;=================================================
@M_KOJO_MESSAGE_COM_K88_302
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_302_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_302_1
LOCAL = 1
IF LOCAL
	SIF TFLAG:193 == -1
		RETURN 1
	; 仕事中
	IF CFLAG:行动 == 5
		IF TALENT:恋慕 || TALENT:恋人
			PRINTFORMW 「触れ合えるのは嬉しいんだけど仕事は大切なのよー」
			PRINTFORML スキンシップを止めると颜をしかめてみせて文句を言っているが、再開するとすぐにへにゃりと表情が崩れる
			PRINTFORMW ……変化が面白いものだからついつい遊んで邪魔してしまった
		ELSE
			PRINTFORML 「邪魔する暇があるなら大人しく見てるか手伝ってくれればいいのに」
			PRINTFORMW \@ TFLAG:193 ? まんざらでもないようだが、 # \@ここは言うとおりにするべきではないだろうか
		ENDIF
	; 无视した
	ELSEIF GETBIT(TCVAR:352, 0)
		PRINTFORML 无视されたことを觉えているのかツンツンしている響子に急いでいたのだと言い訳をする
		PRINTFORML 「分かっていても寂しいのよ」
		PRINTFORMW 耳を項垂れさせて呟く響子を見て、急いでいたとしても无视は良くなかったことを思い知らされた
		CLEARBIT TCVAR:352, 0
	; お澡堂
	; 追い出されないということはそれなりに亲しいはずなので
	ELSEIF CFLAG:当前位置 == 112
		PRINTFORML 響子の髪をわしわし洗ってやるとぎゃーぎゃー騒ぎ出す
		PRINTFORMW 「耳引っ张らないでー！デリケートだからやさしくして！」
		PRINTFORMW 髪が絡まったとかそういうわけではなく、とにかく耳を大事にして欲しいらしい
		PRINTFORMW 今度は优しく耳の隅々まで洗ってやると、气持ちいいのかあえぎ声が澡堂场に反響する
		PRINTFORMW ……正直\@ GETBIT(TALENT:MASTER:性别, 1) ? 勃ちそうだから # こっちが恥ずかしいので \@勘弁してほしいのだが
	; 恋慕
	; <工事中>
	ELSEIF TALENT:恋慕
;		PRINTFORML 
	; 他
	; <工事中>
	ELSE
;		PRINTFORML 
	ENDIF
ENDIF
RETURN 1

;=================================================
; 303, 謝る
;---------------------------------------
; にゃんにゃんでも追っかけまわせばいいと思うよ
;=================================================
@M_KOJO_MESSAGE_COM_K88_303
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_303_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_303_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;=================================================
; 304, 仕事を手伝う
;----------------------------------------
; 手伝えるキャラなら信赖の為に手伝うよね
; 仕事中の黙々と仕事を――の地の文が響子ちゃんに似合ってなくて困る
;=================================================
@M_KOJO_MESSAGE_COM_K88_304
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_304_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_304_1
LOCAL = 1
IF LOCAL
	; 成功
	IF TFLAG:193 != -1
		PRINTFORML お互い的成果を報告しあった結果、\@ TFLAG:193 ? 思っていたよりも # \@顺調に進んだようだ
		PRINTFORMW 「ありがとう。%MASTERNAME:88%のおかげではかどったわ」
	; 失敗
	ELSE
		PRINTFORML 「あんまり進まなかったわねえ」
		PRINTFORMW 小一时间手分けして仕事を進めてきたのだが、まだまだ終わりは遠そうだ
	ENDIF
ENDIF
RETURN 1

;=================================================
; 308, 頬をつつく
;---------------------------------------
; 陪睡中専用のコマンド……かな
; ついでに普通に添い寝すると起きてしまうし衰弱させないとだめなの？
;=================================================
@M_KOJO_MESSAGE_COM_K88_308
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_308_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_308_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;================================================
; 309, 头を抚でる
;---------------------------------------
; 信赖の為に特に恋慕までに使用頻度多いコマンドだね
; それを考慮した分岐を作れるといいね
;================================================
@M_KOJO_MESSAGE_COM_K88_309
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_309_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_309_1
LOCAL = 1
IF LOCAL
	; 失敗は弾く
	SIF TFLAG:193 == -1
		RETURN 1
	; 寝てない
	IF !CFLAG:睡眠
		IF TALENT:恋人
			PRINTFORML 
		ELSEIF TALENT:恋慕
			PRINTFORML 
		ELSEIF CFLAG:2 > 800 || CFLAG:4 > 400
			PRINTFORML 
		ELSEIF CFLAG:2 > 500 || CFLAG:4 > 250
			PRINTFORML 
		ELSE
			PRINTFORML 
		ENDIF
	ENDIF
ENDIF
RETURN 1

;=================================================
; 310, 尻を抚でる
;=================================================
@M_KOJO_MESSAGE_COM_K88_310
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_310_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_310_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 311, 抱き付く
;=================================================
@M_KOJO_MESSAGE_COM_K88_311
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_311_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_311_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 312, キスする
;=================================================
@M_KOJO_MESSAGE_COM_K88_312
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_312_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_312_1
LOCAL = 0
IF LOCAL
	; <工事中> とりあえず分岐だけ
	IF CFLAG:诶嘿嘿 == 2
		PRINTFORML 
	ELSE
		; 睡眠
		IF CFLAG:睡眠
			PRINTFORML 
		; 陪睡中
		ELSEIF CFLAG:陪睡中
			PRINTFORML 
		; 恋慕
		ELSEIF TALENT:恋慕
			PRINTFORML 
		; 他
		ELSE
			PRINTFORML 
		ENDIF
	ENDIF
ENDIF
RETURN 1

;=================================================
; 313, 胸爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_313
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_313_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_313_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;=================================================
; 314, 肛门爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_314
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_314_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_314_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;=================================================
; 315, クリ爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_315
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_315_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_315_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;=================================================
; 316, 指插入れ
;=================================================
@M_KOJO_MESSAGE_COM_K88_316
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_316_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_316_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 350, 押し倒す
;=================================================
@M_KOJO_MESSAGE_COM_K88_350
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_350_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_350_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 351, 连れ出す
;=================================================
@M_KOJO_MESSAGE_COM_K88_351
;连れ出しにはTRAIN_MESSAGEが无い
CALL M_KOJO_MESSAGE_COM_K88_351_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_351_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 352, 告白する
;=================================================
@M_KOJO_MESSAGE_COM_K88_352
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_352_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_352_1
LOCAL = 0
IF LOCAL
	
ENDIF
RETURN 1

;=================================================
; 353, 恶作剧する
;=================================================
@M_KOJO_MESSAGE_COM_K88_353
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_353_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_353_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 354, 添い寝する
;---------------------------------------
; 相手は起きて布団に招く感じ
;=================================================
@M_KOJO_MESSAGE_COM_K88_354
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_354_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_354_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 360, 身を任せる
;---------------------------------------
; ｹﾞｷﾘｭｳﾆﾐｦﾏｶｾﾄﾞｳｶｽﾙ
;=================================================
@M_KOJO_MESSAGE_COM_K88_360
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_360_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_360_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 402, 就寝
;---------------------------------------
; 添い寝时
;=================================================
@M_KOJO_MESSAGE_COM_K88_402
;就寝にTRAIN_MESSAGEは无い
CALL M_KOJO_MESSAGE_COM_K88_402_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_402_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 403, 休憩
;---------------------------------------
; 澡堂场だと湯船に浸かる
;=================================================
@M_KOJO_MESSAGE_COM_K88_403
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_403_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_403_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 410, 扫除
;=================================================
@M_KOJO_MESSAGE_COM_K88_410
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_410_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_410_1
LOCAL = 1
IF LOCAL
	; 神灵庙勢登场してるとセリフに迎え撃ち追加
	;PRINTFORML 「扫除に炊饭\@ FLAG:17 ? 、迎え撃ち # \@。どれも大切よ！」
	;eraTWproto4.630时点ではFLAG:17が神灵庙フラグではなくなっているのでコメントアウト
	PRINTFORML 「扫除に炊饭。どれも大切よ！」
	PRINTFORMW 実にもっともだと思う
ENDIF
RETURN 1

;=================================================
; 411, 战斗训练
;=================================================
@M_KOJO_MESSAGE_COM_K88_411
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_411_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_411_1
LOCAL = 1
IF LOCAL
	PRINTFORML 響子の能力により境界を反射する弾幕は美しい軌迹を描くのだが……
	PRINTFORML 「声が小さい！」
	PRINTFORMW 掛け声やら活入れやらが一绪に境界を反響するせいでうるさくてしかたがない
ENDIF
RETURN 1

;=================================================
; 412, 勉强
;---------------------------------------
; 法力の勉强というものがピンとこないので読経と写経にした
;=================================================
@M_KOJO_MESSAGE_COM_K88_412
;CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_412_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_412_1
LOCAL = 1
IF LOCAL
	IF ABL:MASTER:教养 > ABL:教养
		PRINTFORMW 「むーむーみょー、やくむーむーみょーじん」
		PRINTFORML 響子は意味も分からずにお経を唱えているようなので、意味を教えているのだが……
		PRINTFORMW 法力を身に着けた山彦なんてものは一体どんな风になるのだろうか？
		PRINTFORMW ……山彦に答えた人间を呪い杀すとか？
	ELSEIF ABL:MASTER:教养 / 2 == ABL:教养 / 2
		PRINTFORMW 「ねえねえ、これ何て読むのよ？」
		PRINTFORML 一绪に写経をしてみると、響子はお経の難しい字はあんまり読めないようだ
		PRINTFORML 音を真似る山彦では仕方ないのかもしれないが、
		PRINTFORMW 字と音と意味は結びついていて欲しいと素人目にも思う
	ELSE
		PRINTFORMW 「おんりーいっさいてんどーむーそー」
		PRINTFORML 勉强のために響子の唱えるお経を復唱する
		PRINTFORMW 时々復唱したのをうっかり響子がまた復唱するものだから、なかなかはかどらない
	ENDIF
ENDIF
RETURN 1

;=================================================
; 413, 料理
;=================================================
@M_KOJO_MESSAGE_COM_K88_413
;料理にTRAIN_MESSAGEは无い
CALL M_KOJO_MESSAGE_COM_K88_413_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_413_1
LOCAL = 1
IF LOCAL
	PRINTFORMW 「炊饭も大切な勤行よ。まかせて！」
	PRINTFORML 響子は自信に満ち満ちてるし、手際もよどみない
	PRINTFORMW 大したものだと感心するほかなかった
	PRINTFORML  
	IF ABL:MASTER:料理技能 > ABL:料理技能
		PRINTFORMW 響子と一绪に和气あいあいと料理を作った
	ELSE
		PRINTFORMW 響子に色々なアドバイスを貰いながら料理を作った
	ENDIF
ENDIF
RETURN 1

;=================================================
; 414, 食事を取る
;---------------------------------------
; 414と415って差が分かりにくいよね
; あと、414も415も多人数がありえること
;=================================================
@M_KOJO_MESSAGE_COM_K88_414
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_414_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_414_1
LOCAL = 1
IF LOCAL
	; 混ぜ物してない
	IF TCVAR:MASTER:308 < 8
		; 好みの味(失敗しない)
		IF CFLAG:味觉嗜好 & TCVAR:MASTER:308
			PRINTFORML 「やっぱり味付けは薄味よね」
			PRINTFORMW 響子と料理の味付けについての反省会をしながら食事を終えた
		; 成功
		ELSEIF TFLAG:193 == 1
			PRINTFORML うらやましそうに見ていた響子を食事に诱ってみる
			PRINTFORMW 「えっ食べていいの？それじゃあ遠慮なくいただきます」
		; 失敗
		ELSE
			PRINTFORML 「%MASTERNAME:88%……、これ味見した？」
			PRINTFORML していないと答えると、響子はこわばった表情で皿を返してきた
			PRINTFORMW 「次はちゃんと味見をした方が良いわ。食材がもったいないから」
		ENDIF
	; イ・タ・ズ・ラ
	ELSE
		; 平气(甘酸)
		IF CFLAG:TARGET:味觉嗜好 & TCVAR:MASTER:308
			PRINTFORML ドキドキしながら恶作剧済みの食事を口に運ぶ響子を見守る
			PRINTFORMW 「おいしかったわ。って%MASTERNAME:88%どうかしたの？」
			PRINTFORMW 平然と平らげられたことに驚いていたのが表情に出てたようだ
		; ダメ(辛わさび)
		ELSE
			PRINTFORML \@ TCVAR:MASTER:308 & 8 ? 激辛の # わさびたっぷりの \@料理を食べた響子はぎゃーぎゃー悲鳴を上げている
			PRINTFORML 見た目からしておかしいのにまさか本当に食べるとは……
			PRINTFORMW 落ち着いた后に言い訳しておこう
			SETBIT TCVAR:352, 2
		ENDIF
	ENDIF
ENDIF
RETURN 1

;=================================================
; 415, 食事をふるまう
;=================================================
@M_KOJO_MESSAGE_COM_K88_415
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_415_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_415_1
LOCAL = 1
IF LOCAL
	CALL M_KOJO_MESSAGE_COM_K88_414_1
ENDIF
RETURN 1


;===========================================================
;デート系コマンド
;=================================================
; 600, デート会话
;=================================================
@M_KOJO_MESSAGE_COM_K88_600
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_600_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_600_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 601, デートスキンシップ
;=================================================
@M_KOJO_MESSAGE_COM_K88_601
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_601_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_601_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 602, デートキス
;=================================================
@M_KOJO_MESSAGE_COM_K88_602
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_602_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_602_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 603, 手を繋ぐ
;=================================================
@M_KOJO_MESSAGE_COM_K88_603
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_603_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_603_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 604, 散策する
;=================================================
@M_KOJO_MESSAGE_COM_K88_604
;散策するにはTRAIN_MESSAGEが无い
CALL M_KOJO_MESSAGE_COM_K88_604_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_604_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 610, 食事に诱う
;=================================================
@M_KOJO_MESSAGE_COM_K88_610
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_610_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_610_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;=================================================
; 613, お金稼ぎする
;=================================================
@M_KOJO_MESSAGE_COM_K88_613
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_613_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_613_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1

;===========================================================
; デート派生コマンド
;=================================================
; 80, 手を引く
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_80
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_80_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_80_1
LOCAL = 0
IF LOCAL

ENDIF
RETURN 1


;===========================================================
; 爱抚系コマンド
;=================================================
; 0, 爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_0
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_0_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_0_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;插入中
	LOCAL:1 = 0
	;V插入
	IF LOCAL:1 && TEQUIP:50 == PLAYER
		;射精した
		IF NOWEX:PLAYER:11
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;A插入
	ELSEIF LOCAL:1 && TEQUIP:51 == PLAYER
		;射精した
		IF NOWEX:PLAYER:11
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	
	;ふたなり
	LOCAL:1 = 0
	IF LOCAL:1 && (TALENT:2 & 3) == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;=================================================
; 1, クンニ
;=================================================
@M_KOJO_MESSAGE_COM_K88_1
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_1_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_1_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF

	;膣内射精直后
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	
	;绝顶した
	LOCAL:1 = 0
	IF LOCAL:1 && NOWEX:0
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;あとは適当な分岐を追加してください

;=================================================
; 2, フェラする
;=================================================
@M_KOJO_MESSAGE_COM_K88_2
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_2_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_2_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 3, 指插入れ
;=================================================
@M_KOJO_MESSAGE_COM_K88_3
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_3_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_3_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 4, 肛门舐め
;=================================================
@M_KOJO_MESSAGE_COM_K88_4
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_4_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_4_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 5, 肛门爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_5
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_5_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_5_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 6, 胸爱抚
;=================================================
@M_KOJO_MESSAGE_COM_K88_6
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_6_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_6_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 7, 乳头責め
;=================================================
@M_KOJO_MESSAGE_COM_K88_7
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_7_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_7_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 8, 秘貝開帳
;=================================================
@M_KOJO_MESSAGE_COM_K88_8
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_8_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_8_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 9, 自慰
;=================================================
@M_KOJO_MESSAGE_COM_K88_9
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_9_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_9_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; ソフト系コマンド
;=================================================
; 20, キスする
;=================================================
@M_KOJO_MESSAGE_COM_K88_20
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_20_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_20_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;=================================================
; 21, 何もしない
;=================================================
@M_KOJO_MESSAGE_COM_K88_21
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_21_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_21_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; 道具系コマンド
;=================================================
; 40, 跳蛋
;=================================================
@M_KOJO_MESSAGE_COM_K88_40
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_40_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_40_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 41, 电动按摩棒
;=================================================
@M_KOJO_MESSAGE_COM_K88_41
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_41_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_41_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 42, 阴蒂夹
;=================================================
@M_KOJO_MESSAGE_COM_K88_42
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_42_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_42_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:阴蒂夹
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;=================================================
; 43, 飞机杯
;=================================================
@M_KOJO_MESSAGE_COM_K88_43
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_43_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_43_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:飞机杯
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;=================================================
; 44, 振动棒
;=================================================
@M_KOJO_MESSAGE_COM_K88_44
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_44_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_44_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:振动棒
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;=================================================
; 45, 肛用振动棒
;=================================================
@M_KOJO_MESSAGE_COM_K88_45
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_45_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_45_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:肛用振动棒
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;=================================================
; 46, 后庭拉珠
;=================================================
@M_KOJO_MESSAGE_COM_K88_46
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_46_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_46_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:后庭拉珠
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;=================================================
; 47, 二プルキャップ
;=================================================
@M_KOJO_MESSAGE_COM_K88_47
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_47_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_47_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:乳头夹
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1
;=================================================
; 48, 搾乳机
;=================================================
@M_KOJO_MESSAGE_COM_K88_48
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_48_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_48_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:搾乳机
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW
	ENDIF
ENDIF
RETURN 1

;===========================================================
; 性交系コマンド
;=================================================
; 60, 正常位
;=================================================
@M_KOJO_MESSAGE_COM_K88_60
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_60_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_60_1
;立位
LOCAL = 0
IF LOCAL && TFLAG:193
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;正常位
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 61, 后背位
;=================================================
@M_KOJO_MESSAGE_COM_K88_61
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_61_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_61_1
;立位
LOCAL = 0
IF LOCAL && TFLAG:193
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;后背位
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 62, 正常位肛门
;=================================================
@M_KOJO_MESSAGE_COM_K88_62
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_62_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_62_1
;立位
LOCAL = 0
IF LOCAL && TFLAG:193
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;正常位
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 63, 后背位肛门
;=================================================
@M_KOJO_MESSAGE_COM_K88_63
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_63_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_63_1
;立位
LOCAL = 0
IF LOCAL && TFLAG:193
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;后背位
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 64, 逆レイプ
;=================================================
@M_KOJO_MESSAGE_COM_K88_64
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_64_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_64_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;调教者が处女
		IF TCVAR:PLAYER:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:PLAYER:100 == TARGET
		;前回射精した
		IF TCVAR:PLAYER:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 65, 骑乘位
;=================================================
@M_KOJO_MESSAGE_COM_K88_65
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_65_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_65_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 66, 骑乘位肛门
;=================================================
@M_KOJO_MESSAGE_COM_K88_66
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_66_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_66_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 67, 对面座位
;=================================================
@M_KOJO_MESSAGE_COM_K88_67
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_67_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_67_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 68, 背面座位
;=================================================
@M_KOJO_MESSAGE_COM_K88_68
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_68_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_68_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;处女
		IF TCVAR:破瓜 == 1
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:100 == PLAYER
		;前回射精した
		IF TCVAR:102
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 69, 对面座位肛门
;=================================================
@M_KOJO_MESSAGE_COM_K88_69
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_69_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_69_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 70, 背面座位肛门
;=================================================
@M_KOJO_MESSAGE_COM_K88_70
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_70_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_70_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		;肛门处女
		IF TCVAR:Ａ破瓜
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;插入継続
	LOCAL:1 = 0
	IF LOCAL:1 && TCVAR:101 == PLAYER
		;前回射精した
		IF TCVAR:104
			PRINTFORMW 
			RETURN 1
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 71, 二穴插し
;=================================================
@M_KOJO_MESSAGE_COM_K88_71
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_71_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_71_1
LOCAL = 0
IF LOCAL
	;考えうる分岐が多すぎるので地の文の大まかな分岐だけ
	;连続
	IF PREVCOM == SELECTCOM
		PRINTFORMW 
		RETURN 1
	;主人V插入→助手A插入
	ELSEIF TCVAR:100 == MASTER
		PRINTFORMW 
		RETURN 1
	;主人A插入→助手V插入
	ELSEIF TCVAR:101 == MASTER
		PRINTFORMW 
		RETURN 1
	;助手V插入→主人A插入
	ELSEIF TCVAR:100 == ASSI
		PRINTFORMW 
		RETURN 1
	;助手A插入→主人V插入
	ELSEIF TCVAR:101 == ASSI
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; 侍奉系コマンド
;=================================================
; 80, 手淫
;=================================================
@M_KOJO_MESSAGE_COM_K88_80
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_80_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_80_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 81, フェラチオ
;=================================================
@M_KOJO_MESSAGE_COM_K88_81
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_81_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_81_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 82, 乳交
;=================================================
@M_KOJO_MESSAGE_COM_K88_82
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_82_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_82_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 83, 素股
;=================================================
@M_KOJO_MESSAGE_COM_K88_83
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_83_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_83_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 84, 泡踊り
;=================================================
@M_KOJO_MESSAGE_COM_K88_84
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_84_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_84_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 85, 足扱き
;=================================================
@M_KOJO_MESSAGE_COM_K88_85
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_85_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_85_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;===========================================================
; 施虐系コマンド
;=================================================
; 100, スパンキング
;=================================================
@M_KOJO_MESSAGE_COM_K88_100
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_100_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_100_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 101, 鞭
;=================================================
@M_KOJO_MESSAGE_COM_K88_101
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_101_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_101_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 102, 蜡烛
;=================================================
@M_KOJO_MESSAGE_COM_K88_102
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_102_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_102_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 103, 针
;=================================================
@M_KOJO_MESSAGE_COM_K88_103
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_103_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_103_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 104, 眼罩
;=================================================
@M_KOJO_MESSAGE_COM_K88_104
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_104_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_104_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:眼罩
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 105, 绳
;=================================================
@M_KOJO_MESSAGE_COM_K88_105
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_105_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_105_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:绳
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 106, 口球
;=================================================
@M_KOJO_MESSAGE_COM_K88_106
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_106_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_106_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:口球
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; 助手によるコマンド、及びレズプレイ
;=================================================
; 120, クンニ强制
;=================================================
@M_KOJO_MESSAGE_COM_K88_120
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_120_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_120_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 121, 貝あわせ
;=================================================
@M_KOJO_MESSAGE_COM_K88_121
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_121_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_121_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 123, 足コキする
;=================================================
@M_KOJO_MESSAGE_COM_K88_123
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_123_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_123_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 126, 乳の揉み合い
;=================================================
@M_KOJO_MESSAGE_COM_K88_126
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_126_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_126_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; ハードな调教コマンド
;=================================================
; 140, イラマチオ
;=================================================
@M_KOJO_MESSAGE_COM_K88_140
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_140_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_140_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 141, フィストファック
;=================================================
@M_KOJO_MESSAGE_COM_K88_141
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_141_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_141_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 142, 肛门フィスト
;=================================================
@M_KOJO_MESSAGE_COM_K88_142
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_142_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_142_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 143, 两穴フィスト
;=================================================
@M_KOJO_MESSAGE_COM_K88_143
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_143_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_143_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 144, 放尿
;=================================================
@M_KOJO_MESSAGE_COM_K88_144
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_144_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_144_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 145, 肛门侍奉强制
;=================================================
@M_KOJO_MESSAGE_COM_K88_145
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_145_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_145_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 146, 浣肠器＋肛塞
;=================================================
@M_KOJO_MESSAGE_COM_K88_146
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_146_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_146_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;浣肠液注入
	IF TEQUIP:浣肠
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
; 147, 扩张气球
;==================================================
@M_KOJO_MESSAGE_COM_K88_147
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_147_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_147_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:扩张气球
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 148, 肛门电极
;=================================================
@M_KOJO_MESSAGE_COM_K88_148
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_148_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_148_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;装着
	IF TEQUIP:肛门电极
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;解除
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 特殊コマンド
;=================================================
; 180, 润滑液
;=================================================
@M_KOJO_MESSAGE_COM_K88_180
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_180_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_180_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 181, 媚药,
;=================================================
@M_KOJO_MESSAGE_COM_K88_181
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_181_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_181_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 182, 利尿剂,
;=================================================
@M_KOJO_MESSAGE_COM_K88_182
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_182_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_182_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 183, 摄像机,
;=================================================
@M_KOJO_MESSAGE_COM_K88_183
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_183_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_183_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;开始
	IF TEQUIP:ビデオ摄影
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;終了
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 187, お澡堂场プレイ
;=================================================
@M_KOJO_MESSAGE_COM_K88_187
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_187_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_187_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;开始
	IF TEQUIP:お澡堂场プレイ
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;終了
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 188, 淋浴
;=================================================
@M_KOJO_MESSAGE_COM_K88_188
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_188_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_188_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;开始
	IF TEQUIP:淋浴
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;終了
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;=================================================
; 189, 新妻プレイ
;=================================================
@M_KOJO_MESSAGE_COM_K88_189
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K88_189_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K88_189_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;开始
	IF TEQUIP:新妻プレイ
		;恋慕
		IF TALENT:恋慕
			PRINTFORMW 
			RETURN 1
		;屈服3
		ELSEIF MARK:屈服刻印 == 3
			PRINTFORMW 
			RETURN 1
		;それ以外
		ELSE
			PRINTFORMW 
			RETURN 1
		ENDIF
	;終了
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;===========================================================
; 派生コマンド
;=================================================
; 1, シックスナイン
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_1
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_1_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_1_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
;2,岩清水
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_2
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_2_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_2_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 3, Gスポット刺激
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_3
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_3_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_3_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 4, 乱れ牡丹
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_4
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_4_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_4_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 5, 手淫フェラ
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_5
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_5_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_5_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 6, 插入Ｇスポ責め
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_6
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_6_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_6_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 7, 插入子宫口責め
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_7
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_7_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_7_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 8, ６９乳交
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_8
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_8_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K88_8_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;=================================================
; 509, ダブルフェラ
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_9
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_9_1
;戻り值とTARGETを保存、TARGETを二人目に一时的に交代して二人目口上を呼び出した后、TARGETをもどして保存した戻り值でRETURNする
;二人目はいらない场合はここで处理
;二人目
LOCAL = MASTER_POSE(SET_M,SET_P,1)
LOCAL:1 = RESULT
LOCAL:2 = TARGET
TARGET = LOCAL
TRYCALLFORM M_KOJO_MESSAGE_SCOM_K{TARGET}_9_2
TARGET = LOCAL:2
RETURN LOCAL:1

;一人目口上
@M_KOJO_MESSAGE_SCOM_K88_9_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

;二人目口上
@M_KOJO_MESSAGE_SCOM_K88_9_2
VARSET LOCAL
;一人目
LOCAL:101 = MASTER_POSE(SET_M,SET_P)
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;=================================================
; 10, ダブル素股
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_10
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_10_1
;戻り值とTARGETを保存、TARGETを二人目に一时的に交代して二人目口上を呼び出した后、TARGETをもどして保存した戻り值でRETURNする
;二人目はいらない场合はここで处理
;二人目
LOCAL = MASTER_POSE(SET_C,SET_P,1)
LOCAL:1 = RESULT
LOCAL:2 = TARGET
TARGET = LOCAL
TRYCALLFORM M_KOJO_MESSAGE_SCOM_K{TARGET}_10_2
TARGET = LOCAL:2
RETURN LOCAL:1

@M_KOJO_MESSAGE_SCOM_K88_10_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

@M_KOJO_MESSAGE_SCOM_K88_10_2
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;=================================================
; 11, ダブル乳交
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_11
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_11_1
;戻り值とTARGETを保存、TARGETを二人目に一时的に交代して二人目口上を呼び出した后、TARGETをもどして保存した戻り值でRETURNする
;二人目はいらない场合はここで处理
;二人目
LOCAL = MASTER_POSE(SET_B,SET_P,1)
LOCAL:1 = RESULT
LOCAL:2 = TARGET
TARGET = LOCAL
TRYCALLFORM M_KOJO_MESSAGE_SCOM_K{TARGET}_11_2
TARGET = LOCAL:2
RETURN LOCAL:1

@M_KOJO_MESSAGE_SCOM_K88_11_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

@M_KOJO_MESSAGE_SCOM_K88_11_2
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;=================================================
; 12, 乳交フェラ
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_12
CALL TRAIN_MESSAGE
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(SELECTCOM)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;CALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}
RETURN 1

;=================================================
; 13, 交互插入
;=================================================
@M_KOJO_MESSAGE_SCOM_K88_13
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K88_13_1
;戻り值とTARGETを保存、TARGETを二人目に一时的に交代して二人目口上を呼び出した后、TARGETをもどして保存した戻り值でRETURNする
;二人目はいらない场合はここで处理
;二人目
LOCAL = MASTER_POSE(SET_V,SET_P,1)
LOCAL:1 = RESULT
LOCAL:2 = TARGET
TARGET = LOCAL
TRYCALLFORM M_KOJO_MESSAGE_SCOM_K{TARGET}_13_2
TARGET = LOCAL:2
RETURN LOCAL:1

@M_KOJO_MESSAGE_SCOM_K88_13_1
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
;未记入
;TRYCALLFORM M_KOJO_MESSAGE_COM_K88_{SELECTCOM}_1
RETURN 1

@M_KOJO_MESSAGE_SCOM_K88_13_2
LOCAL = 0
IF LOCAL
	;初めて
	LOCAL:1 = 0
	IF LOCAL:1 && FIRSTTIME(TFLAG:50 + 500)
		PRINTFORMW 
		RETURN 1
	ENDIF
	;基本セット
	;恋慕
	IF TALENT:恋慕
		PRINTFORMW 
		RETURN 1
	;屈服3
	ELSEIF MARK:屈服刻印 == 3
		PRINTFORMW 
		RETURN 1
	;それ以外
	ELSE
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;SOURCEやNOWEXを使ってSELECTCOMに依存しない口上があってもいいんじゃない
@M_KOJO_MESSAGE_COM_K88_00
;性交处女丧失をRETURN 100して
;IF RESULT == 100 でまとめるとか
;苦痛や快乐のSOURCEをトリガーとして汎用あえぎ口上を作るとか
;いろいろ利用方法は考えられますが適当にやってください



;===========================================================
; "COUNTER"系口上
;===========================================================
; ソフト
;=================================================
; 色っぽい仕草
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_10
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_10_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_10_1
RETURN 1

;=================================================
; 見つめる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_11
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_11_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_11_1
RETURN 1

;=================================================
; 体を摺り寄せる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_12
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_12_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_12_1
RETURN 1

;=================================================
; 裙子めくり
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_13
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_13_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_13_1
RETURN 1

;=================================================
; 息を吹きかける
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_14
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_14_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_14_1
RETURN 1

;=================================================
; 尻を抚でる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_15
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_15_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_15_1
RETURN 1

;=================================================
; 性骚扰
;=================================================
; キス
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_30
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_30_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_30_1
RETURN 1

;=================================================
; 后ろから抱きつく
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_31
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_31_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_31_1
RETURN 1

;=================================================
; 前から抱きつく
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_32
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_32_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_32_1
RETURN 1

;=================================================
; 胸を揉ませる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_33
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_33_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_33_1
RETURN 1

;=================================================
; 股间をまさぐる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_34
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_34_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_34_1
RETURN 1

;=================================================
; 裙子の中を見せる
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_35
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_35_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_35_1
RETURN 1

;=================================================
; 后ろから胸もみもみ
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_36
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_36_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_36_1
RETURN 1


;=================================================
; 爱抚
;=================================================
; 手淫
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_50
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_50_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_50_1
RETURN 1

;=================================================
; 口淫
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_51
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_51_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_51_1
RETURN 1

;=================================================
; 素股
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_52
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_52_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_52_1
RETURN 1

;=================================================
; 乳交
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_53
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_53_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_53_1
RETURN 1

;=================================================
; 足コキ
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_54
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_54_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_54_1
RETURN 1

;=================================================
; 肛门爱抚
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_55
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_55_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_55_1
RETURN 1

;=================================================
; 肛门舐め
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_56
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_56_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_56_1
RETURN 1

;=================================================
; 指插入
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_57
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_57_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_57_1
RETURN 1

;=================================================
; 胸爱抚
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_58
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_58_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_58_1
RETURN 1

;=================================================
; 乳头吸い
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_59
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_59_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_59_1
RETURN 1

;=================================================
; ディープキス
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_60
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_60_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_60_1
RETURN 1


;=================================================
; 侍奉
;=================================================
; クンニ强制
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_70
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_70_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_70_1
RETURN 1

;=================================================
; フェラチオ强制
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_71
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_71_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_71_1
RETURN 1

;=================================================
; 肛门侍奉
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_72
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_72_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_72_1
RETURN 1

;=================================================
; ぱふぱふ
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_73
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_73_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_73_1
RETURN 1

;=================================================
; 乳合わせ
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_74
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_74_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_74_1
RETURN 1

;=================================================
; タワシ洗い
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_75
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_75_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_75_1
RETURN 1

;=================================================
; 性交
;=================================================
; 插入される（MASTER受け）
;=================================================
@M_KOJO_MESSAGE_COUNTER_K88_80
CALL EVENT_COUNTER_MESSAGE
CALL M_KOJO_MESSAGE_COUNTER_K88_80_1
RETURN RESULT
@M_KOJO_MESSAGE_COUNTER_K88_80_1
RETURN 1

;=================================================
; 诶嘿嘿カウンター
;---------------------------------------
; まだ
;=================================================

;=================================================
; 奴隷の绝顶时の口上
;---------------------------------------
; NOWEX:0～3 CVAB绝顶
; NOWEX:二重绝顶 二重绝顶
; NOWEX:三重绝顶 三重绝顶
; NOWEX:四重绝顶 四重绝顶
; NOWEX:10 喷乳
; NOWEX:11 射精
; NOWEX:12 放尿
; 適当に組み合わせて使ってください
;=================================================
@M_KOJO_MESSAGE_PALAMCNG_B_K88
CALL PALAM_MESSAGE_B
;喷乳
LOCAL = 0
IF LOCAL && NOWEX:喷乳
	PRINTFORMW 
ENDIF

;射精
LOCAL = 0
IF LOCAL && NOWEX:11
	PRINTFORMW 
ENDIF

;放尿
LOCAL = 0
IF LOCAL && NOWEX:12
	PRINTFORMW 
ENDIF

;绝顶
LOCAL = 0
IF LOCAL
	;四重绝顶
	LOCAL:1 = 0
	IF NOWEX:四重绝顶
		PRINTFORMW 
		RETURN 1
	ENDIF
	;三重绝顶
	LOCAL:1 = 0
	IF NOWEX:三重绝顶
		SELECTCASE NOWEX:三重绝顶
			;Ｃ＆Ｖ＆Ａ绝顶
			CASE 1
				PRINTFORMW 
				RETURN 1
			;Ｂ＆Ｖ＆Ａ绝顶
			CASE 2
				PRINTFORMW 
				RETURN 1
			;Ｃ＆Ｂ＆Ａ绝顶
			CASE 3
				PRINTFORMW 
				RETURN 1
			;Ｃ＆Ｖ＆Ｂ绝顶
			CASE 4
				PRINTFORMW 
				RETURN 1
		ENDSELECT
	ENDIF
	;二重绝顶
	LOCAL:1 = 0
	IF NOWEX:二重绝顶
		SELECTCASE NOWEX:二重绝顶
			;Ｃ＆Ｖ绝顶
			CASE 1
				PRINTFORMW 
				RETURN 1
			;Ｃ＆Ａ绝顶
			CASE 2
				PRINTFORMW 
				RETURN 1
			;Ｖ＆Ａ绝顶
			CASE 3
				PRINTFORMW 
				RETURN 1
			;Ｃ＆Ｂ绝顶
			CASE 4
				PRINTFORMW 
				RETURN 1
			;Ｖ＆Ｂ绝顶
			CASE 5
				PRINTFORMW 
				RETURN 1
			;Ａ＆Ｂ绝顶
			CASE 6
				PRINTFORMW 
				RETURN 1
		ENDSELECT
	ENDIF
	IF NOWEX:0
		;强绝顶Ｃ
		IF NOWEX:0 == 2
			PRINTFORMW 
		;绝顶Ｃ
		ELSE
			PRINTFORMW 
		ENDIF
	ENDIF
	IF NOWEX:1
		;强绝顶Ｖ
		IF NOWEX:1 == 2
			PRINTFORMW 
		;绝顶Ｖ
		ELSE
			PRINTFORMW 
		ENDIF
	ENDIF
	IF NOWEX:2
		;强绝顶Ａ
		IF NOWEX:2 == 2
			PRINTFORMW 
		;绝顶Ａ
		ELSE
			PRINTFORMW 
		ENDIF
	ENDIF
	IF NOWEX:3
		;强绝顶Ｂ
		IF NOWEX:3 == 2
			PRINTFORMW 
		;绝顶Ｂ
		ELSE
			PRINTFORMW 
		ENDIF
	ENDIF
ENDIF


;=================================================
;射精に関する口上の表示
;---------------------------------------
;一时的にTARGETを口上主に设定している
;=================================================
@M_KOJO_MESSAGE_PALAMCNG_A_K88_0(ARG)
CALL PALAM_MESSAGE_A
;避孕套
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_23(ARG)
CALL PALAM_MESSAGE_A
;イラマチオ
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_22(ARG)
CALL PALAM_MESSAGE_A
;シックスナイン
LOCAL = 0
IF LOCAL
	;同时射精
	IF NOWEX:11 && NOWEX:MASTER:11
		PRINTFORMW
		RETURN 1
	;TARGETだけ射精
	ELSEIF NOWEX:11
		;PLAYERについてる
		IF TALENT:PLAYER & 2
			PRINTFORMW
			RETURN 1
		;付いてない
		ELSE
			PRINTFORMW
			RETURN 1
		ENDIF
	;PLAYERだけ射精
	ELSE
		;TARGETについてる
		IF TALENT:2 & 2
			PRINTFORMW
			RETURN 1
		;付いてない
		ELSE
			PRINTFORMW
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_21(ARG)
CALL PALAM_MESSAGE_A
;乳交フェラ
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_20(ARG)
CALL PALAM_MESSAGE_A
;手淫フェラ
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_9(ARG)
CALL PALAM_MESSAGE_A
;肛门侍奉
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_8(ARG)
CALL PALAM_MESSAGE_A
;泡踊り
LOCAL = 0
IF LOCAL
	;同时射精
	IF NOWEX:11 && NOWEX:MASTER:11
		PRINTFORMW
		RETURN 1
	;TARGETだけ射精
	ELSEIF NOWEX:11
		;PLAYERについてる
		IF TALENT:PLAYER & 2
			PRINTFORMW
			RETURN 1
		;付いてない
		ELSE
			PRINTFORMW
			RETURN 1
		ENDIF
	;PLAYERだけ射精
	ELSE
		;TARGETについてる
		IF TALENT:2 & 2
			PRINTFORMW
			RETURN 1
		;付いてない
		ELSE
			PRINTFORMW
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_7(ARG)
CALL PALAM_MESSAGE_A
;足コキ
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_6(ARG)
CALL PALAM_MESSAGE_A
;素股
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_5(ARG)
CALL PALAM_MESSAGE_A
;乳交
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_4(ARG)
CALL PALAM_MESSAGE_A
;フェラチオ
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_3(ARG)
CALL PALAM_MESSAGE_A
;手淫
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_2(ARG)
CALL PALAM_MESSAGE_A
;肛门
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_PALAMCNG_A_K88_1(ARG)
CALL PALAM_MESSAGE_A
;膣内
LOCAL = 0
IF LOCAL
	PRINTFORMW 
	RETURN 1
ENDIF
RETURN 1

;=================================================
; 调教后のテキスト
;---------------------------------------
; TFLAG:8 (1=TARGETがお扫除 2=ASSIがお扫除 3=TARGETとASSIがお扫除)
;=================================================
@M_KOJO_MESSAGE_PALAMCNG_C_K88
CALL PALAM_MESSAGE_C
;处女丧失
IF TFLAG:4
	PRINTFORMW 
ENDIF

;フェラで射精后のお扫除
IF (TFLAG:8 & 1) && NOWEX:PLAYER:11
	PRINTFORMW 
ENDIF

;=================================================
; 刻印取得
;=================================================
@M_KOJO_MESSAGE_MARKCNG_K88
;苦痛刻印
IF TFLAG:22 == 1
	PRINTFORMW 
ELSEIF TFLAG:22 == 2
	PRINTFORMW 
ELSEIF TFLAG:22 == 3
	PRINTFORMW 
ENDIF

;快乐刻印
IF TFLAG:23 == 1
	PRINTFORMW 
ELSEIF TFLAG:23 == 2
	PRINTFORMW 
ELSEIF TFLAG:23 == 3
	PRINTFORMW 
ENDIF

;屈服刻印
;快乐による刻印
;LV1
IF TFLAG:24 == 11
	PRINTFORMW 
;LV2
ELSEIF TFLAG:24 == 12
	PRINTFORMW 
;LV3
ELSEIF TFLAG:24 == 13
	PRINTFORMW 
;苦痛、恐怖による刻印
;LV1
ELSEIF TFLAG:24 == 21
	PRINTFORMW 
;LV2
ELSEIF TFLAG:24 == 22
	PRINTFORMW 
;LV3
ELSEIF TFLAG:24 == 23
	PRINTFORMW 
;屈服、恭顺による刻印
;LV1
ELSEIF TFLAG:24 == 31
	PRINTFORMW 
;LV2
ELSEIF TFLAG:24 == 32
	PRINTFORMW 
;LV3
ELSEIF TFLAG:24 == 33
	PRINTFORMW 
ENDIF

;反抗刻印
IF TFLAG:21 == 1
	PRINTFORMW 
ELSEIF TFLAG:21 == 2
	PRINTFORMW 
ELSEIF TFLAG:21 == 3
	PRINTFORMW 
ENDIF


;========================================================
; 口上内部バージョン取得(式中関数)
;-------------------------------------------------
; 口上の版本升级でフラグの変更などを行うための内部バージョン取得
;========================================================
@K88_KYOKO_GET_VARSION()
#FUNCTION
RETURNF 100

;========================================================
; ハート出力(式中関数)
;-------------------------------------------------
; ユニコード文字の中黒のハートを返す
;========================================================
@K88_KYOKO_HEART()
#FUNCTIONS
RETURNF UNICODE(0x2665)

;========================================================
; 推倒率取得(式中関数)
;-------------------------------------------------
; まあ口上側だけで済まそうと思ったらLOCALを外部参照しに行くか、
; 新しく計算する関数を作るか、本体に手を入れるかの3通りで、
; LOCAL外部参照なんて恐ろしい事したくないし本体に手は入れたくないしで、
; 結局それがこのざまである。
; もちろん本体で変更されたらこっちも変更しなければならない('A`)
;-------------------------------------------------
; 引数
;  ARG   = 比較対象キャラの登录番号(省略时内部でTARGETをセット)
;-------------------------------------------------
; 戻り值
;  数值(0~100) 推倒率。単位は%
;========================================================
@K88_KYOKO_TRYENDURE(ARG = -1)
#FUNCTION
#LOCALSIZE 2
VARSET LOCAL, 0
SIF ARG == -1
	ARG = TARGET
SIF ARG < 0 || ARG > CHARANUM
	RETURNF 0
; まるっとコピペ
;素質により判定変化
LOCAL = 100
SIF TALENT:ARG:处女
	LOCAL = LOCAL / 2
SIF TALENT:ARG:恋慕
	LOCAL = LOCAL + 30
SIF TALENT:ARG:度胸 < 0 || TALENT:ARG:応答 < 0 || TALENT:ARG:无関心 || TALENT:ARG:羞恥心 < 0
	LOCAL = LOCAL - 30
SIF TALENT:ARG:性的興味 > 0 || TALENT:ARG:羞恥心 > 0
	LOCAL = LOCAL + 20
SIF TALENT:ARG:自制心 || TALENT:ARG:性的興味 < 0
	LOCAL = LOCAL - ((LOCAL / 10) * 2)
SIF TALENT:ARG:贞操 < 0 || TALENT:ARG:小悪魔
	LOCAL = LOCAL + ((LOCAL / 10) * 2)
SIF TALENT:ARG:贞操 > 0 || TALENT:ARG:一线越えない
	LOCAL = LOCAL / 2

SIF TALENT:ARG:淫乱
	LOCAL = 300
SIF TALENT:ARG:性别嗜好 == 3 || MARK:ARG:反抗刻印 == 3
	LOCAL = 0

;体力に依存して推倒率減少
LOCAL:1 = MAXBASE:ARG:体力 - BASE:ARG:体力
IF LOCAL:1 < 500
	;Do Notting
ELSEIF LOCAL:1 < 1000
	LOCAL = LOCAL / 2
ELSEIF LOCAL:1 < 1500
	LOCAL = LOCAL / 3
ELSE
	LOCAL = 10
ENDIF

;理性に依存して推倒率減少
IF BASE:ARG:理性 > 800
	LOCAL = LOCAL / 3
ELSEIF BASE:ARG:理性 > 600
	LOCAL = LOCAL / 2
ELSE
	;Do Notting
ENDIF

;範囲越えないように补正
SIF LOCAL < 0
	LOCAL = 0
SIF LOCAL > 300
	LOCAL = 300

; 確率を返す(元の式は SIF RAND:300 + 1 <= LOCAL)
RETURNF LOCAL / 300

;========================================================
; 体格差取得(式中関数)
;-------------------------------------------------
; 対象との体格差を見て対応する数值を返す
; 别に式中関数でやる必要はないのだけどよく使う处理だし
;-------------------------------------------------
; 引数
;  ARG   = 比較対象キャラの登录番号(省略时内部でTARGETをセット)
;  ARG:1 = 比較元キャラの登录番号(省略时内部でMASTERをセット)
;-------------------------------------------------
; 戻り值
;  数值(-6~+6) 参考用: [小人(-3)][幼儿体型(-2)][小柄体型(-1)][(0)][长身(1)][巨躯(2)][巨人(3)]
;   最小は比較元が小人体型かつ比較対象が巨人。最大は最小の逆となる。
;========================================================
@K88_KYOKO_DIFF_BODYSIZE(ARG = -1, ARG:1 = -1)
#FUNCTION
SIF ARG == -1
	ARG = TARGET
SIF ARG:1 == -1
	ARG:1 = MASTER
SIF ARG < 0 || ARG > CHARANUM || ARG:1 < 0 || ARG:1 > CHARANUM
	RETURNF 0
RETURNF TALENT:(ARG:1):体型 - TALENT:ARG:体型

;========================================================
; 关系取得(式中関数)
;-------------------------------------------------
; 対象との关系を見て対応する数值を返す
;-------------------------------------------------
; 引数
;  ARG = キャラの登录番号
;-------------------------------------------------
; 戻り值
;  数值(-1 = 敵视, 0 = 无关系, 1 = 友好的, 2 = 目上, 3 = 尊敬)
;========================================================
@K88_KYOKO_RELATION(ARG)
#FUNCTION
SIF ARG < 0 || ARG > CHARANUM
	RETURNF 0
SELECTCASE CALLNAME:ARG
	; 尊敬(星, 白蓮)
	CASE "星" ,"白蓮"
		RETURNF 3
	; 目上(鼠, 一輪, 村紗, ぬえ, 狸)
	CASE "ナズーリン", "一輪", "ムラサ", "ぬえ", "マミゾウ"
		RETURNF 2
	; 友好(小伞)
	CASE "小伞"
		RETURNF 1
	CASEELSE
		IF FLAG:扮演 == ARG
			RETURNF -2
		ELSE
			RETURNF 0
		ENDIF
ENDSELECT

RETURNF 0

;========================================================
; 名前表示(式中関数)
;-------------------------------------------------
; 対象との关系を見て名前を表示
;-------------------------------------------------
; 引数
;  ARG = キャラの登录番号(省略时内部でMASTERをセット)
;-------------------------------------------------
; 戻り值
;  文字列(対象キャラへの呼称)
;========================================================
@K88_KYOKO_CALLNAME(ARG = -1)
#FUNCTIONS
#LOCALSSIZE 1
VARSET LOCALS, ""
SIF ARG == -1
	ARG = MASTER
SIF ARG < 0 || ARG > CHARANUM
	RETURNF "範囲外の引数"
LOCALS = \@ ARG == MASTER ? %CSTR:20% # %CALLNAME:ARG% \@
SELECTCASE K88_KYOKO_RELATION(ARG)
	; 尊敬(様づけ)
	CASE 3
		LOCALS += "様"
	; 目上(さんづけ)
	CASE 2
		LOCALS += "さん"
	; 友好(ちゃんづけ)
	CASE 1
		LOCALS += "ちゃん"
	; 敵视(呼び捨て)
	CASE -1
	; 主人(変更を加えない)
	CASE -2
	; その他
	CASEELSE
		LOCALS += "ちゃん"
ENDSELECT
; ここから主人専用处理
IF ARG == MASTER
	; CSTR:20とMASTERNAME:88の同期
	MASTERNAME:88 = %LOCALS%
	; 特定プレイ时のみ呼び名を変えたければここ以下に条件式を追加
ENDIF
RETURNF LOCALS

;========================================================
; 口上互换处理
;-------------------------------------------------
; 版本升级でフラグの移动などを行う際に使用する関数
; 一日で最初に出会った时に呼ばれる
; とりあえず関数の雛形だけ作っておくが使用する必要がないことを祈る
;========================================================
@K88_KYOKO_UPDATE
WHILE CFLAG:1100 < K88_KYOKO_GET_VARSION()
	SELECTCASE CFLAG:1100
		; 初期バージョン
		CASE IS < 100
			; 呼び名が空ならセット
			IF !STRLENS(CSTR:20)
				CSTR:20 = %CALLNAME:MASTER%
				CALLF K88_KYOKO_CALLNAME(MASTER)
			ENDIF
			CFLAG:1100 = 100
		; ここに互换处理を书く
;		CASE 条件
;			处理
;		;CASE 条件
;			处理
		; 无限ループ予防
		CASEELSE
			CFLAG:1100 = K88_KYOKO_GET_VARSION()
	ENDSELECT
WEND
RETURN 1

;========================================================
; 呼び名入力
;-------------------------------------------------
; 正规表現使ってて动作速度大丈夫なのかって？C#に聞け
; エスケープだらけで訳わかんないなー誰か何とかしてくれないかなー(ﾁﾗｯﾁﾗｯ
;========================================================
@K88_KYOKO_INPUT_CALLNAME
#LOCALSSIZE 1
PRINTFORML 呼び名を入力してください(直接入力するか、ボタンで选择してください)
IF NAME:MASTER != "あなた"
	LOCALS = %NAME:MASTER%
ELSE
	LOCALS = %CALLNAME:MASTER%
ENDIF
PRINTBUTTON @"[名前(%LOCALS%)を名乗る]", @"%LOCALS%"
[SKIPSTART]
; 恒例の呼び名どもだ
SIF ABL:亲密 > 4
	PRINTBUTTON "[お\@ TALENT:MASTER:性别 == 2 ? 兄 # 姉 \@さんと呼んでほしい]", @"お\@ TALENT:MASTER:性别 == 2 ? 兄 # 姉 \@さん"
SIF ABL:亲密 > 7
	PRINTBUTTON "[お\@ TALENT:MASTER:性别 == 2 ? 兄 # 姉 \@様と呼んでほしい]", @"お\@ TALENT:MASTER:性别 == 2 ? 兄 # 姉 \@様"
SIF ABL:顺从 > 7 && ABL:侍奉精神 > 7
	PRINTBUTTON "[ご主人様と呼んでほしい]", "ご主人様"
SIF TALENT:恋人 && TALENT:恋慕
	PRINTBUTTON "[旦那様と呼んでほしい]", "旦那様"
[SKIPEND]

$INPUT_LOOP_KYO0
INPUTS
; 行头行尾の空白文字削除
LOCALS = %RESULTS%
REPLACE LOCALS, "\(\^\\s\+\|\\s\+\$)", ""
; 2文字未満
IF STRLENS(LOCALS) < 2
	SIF STRLENS(RESULTS)
		CLEARLINE 1
	REUSELASTLINE 「声が小さい！」
	GOTO INPUT_LOOP_KYO0
; 10文字(全角5文字)超えた
ELSEIF STRLENS(LOCALS) > 10
	CLEARLINE 1
	REUSELASTLINE 「ちょっと长くない？短くしてよ」
	GOTO INPUT_LOOP_KYO0
; 音无響子
ELSEIF STRCOUNT(LOCALS, "\(音无\|千草\)\+\\s\*響子")
	PRINTFORML 「管理人さん？」
; 惣一郎さん
ELSEIF STRCOUNT(LOCALS, "\(音无\)\+\\s\*惣一郎")
	PRINTFORML 「惣一郎さん！！」
; 五代裕作
ELSEIF STRCOUNT(LOCALS, "\(五代\)\+\\s\*裕作")
	PRINTFORML 「私はもう少し決断力がある方がいいわね」
; 同姓同名
ELSEIF FLAG:扮演 != 88 && STRCOUNT(LOCALS, "\(幽谷\)\*\\s\*響子")
	CLEARLINE 1
	REUSELASTLINE 「同姓同名なの？ややこしいから他の呼び名にして欲しいわ」
	GOTO INPUT_LOOP_KYO0
; 白蓮が主人ではなく、白蓮というフレーズが含まれている。もしくは
; ☆が主人ではなく、寅丸もしくは星というフレーズが含まれている
ELSEIF (FLAG:扮演 != 55 && STRCOUNT(LOCALS, "聖\*\\s\*白蓮")) || (FLAG:扮演 != 87 && STRCOUNT(LOCALS, "\(寅丸\)\*\\s\*星\$"))
	CLEARLINE 1
	REUSELASTLINE 「バカにしてるの？いくらなんでも间違えようがないでしょ」
	GOTO INPUT_LOOP_KYO0
; 命蓮寺勢はじき
; うんそうだね多々良勝五郎とか教える人もいるかもしれないもんね
ELSEIF (FLAG:扮演 != 39 && LOCALS == "ナズーリン") || (FLAG:扮演 != 40 && STRCOUNT(LOCALS, "\(多々良\)\*\\s\*小伞")) || (FLAG:扮演 != 85 && STRCOUNT(LOCALS, "\(雲居\)\*\\s\*一輪")) || (FLAG:扮演 != 86 && STRCOUNT(LOCALS, "\(\(村紗\)*\\s\*水蜜\|ムラサ\)"))
	CLEARLINE 1
	REUSELASTLINE 「ケンカ卖ってるの？」
	GOTO INPUT_LOOP_KYO0
ELSEIF (FLAG:扮演 != 41 && STRCOUNT(LOCALS, "\(封獣\)\*\\s\*ぬえ")) || (FLAG:扮演 != 69 && STRCOUNT(LOCALS, "\(二ツ岩\)\*\\s\*マミゾウ"))
	CLEARLINE 1
	REUSELASTLINE 「化けてる……わけないわよね？」
	GOTO INPUT_LOOP_KYO0
; 道教勢力はじき
ELSEIF (FLAG:扮演 != 89 && STRCOUNT(LOCALS, "\(宮古\)\*\\s\*芳香")) || (FLAG:扮演 != 90 && STRCOUNT(LOCALS, "\^霍\*\\s\*青娥")) || (FLAG:扮演 != 91 && STRCOUNT(LOCALS, "\(蘇我\)\*\\s\*屠自古")) || (FLAG:扮演 != 92 && STRCOUNT(LOCALS, "\(物部\)\*\\s\*布都")) || (FLAG:扮演 != 56 && STRCOUNT(LOCALS, "\(\(丰聡耳\)\*\\s\*神子\|聖徳太子\)"))
	CLEARLINE 1
	REUSELASTLINE 
	GOTO INPUT_LOOP_KYO0
; 博丽灵梦というフレーズが含まれてる。もしくは
; 東风谷早苗というフレーズが含まれている
ELSEIF STRCOUNT(LOCALS, "\(博丽\)\*\\s\*灵梦") || STRCOUNT(LOCALS, "\(東风谷\)\*\\s\*早苗")
	PRINTFORML 「えっ巫女だったの？そうは見えなかったわ」
; 雾雨魔理沙というフレーズが含まれてる。
ELSEIF STRCOUNT(LOCALS, "\(雾雨\)\*\\s\*魔理沙")
	PRINTFORML 「ああ、あのテンション低かった人间ね。挨拶はもっと大きな声でしないとね」
; 魂魄妖梦というフレーズが含まれてる。
ELSEIF STRCOUNT(LOCALS, "\(魂魄\)\*\\s\*妖梦")
	PRINTFORML 「刃物振り回すのはやめたの？」
ENDIF
; 直接入力ならいけると思ったか？弾くぜ！
IF FIRSTTIME("U88-1") && ABL:亲密 < 4 && STRCOUNT(LOCALS, "\(お\(\(兄\|にい\)\|\(姉\|ねえ\)\)\(さん\|ちゃん\)\)\$")
	CLEARLINE 1
	REUSELASTLINE 「ヤマビコにだって言うことを选ぶ权利はあるわ」
	GOTO INPUT_LOOP_KYO0
ELSEIF FIRSTTIME("U88-1") && ABL:亲密 < 7 && STRCOUNT(LOCALS, "\(お\(\(兄\|にい\)\|\(姉\|ねえ\)\)\(様\|さま\)\)\$")
	CLEARLINE 1
	REUSELASTLINE 「ヤマビコにだって言うことを选ぶ权利はあるわ」
	GOTO INPUT_LOOP_KYO0
ELSEIF FIRSTTIME("U88-1") && (ABL:顺从 < 7 || ABL:侍奉精神 < 7) && STRCOUNT(LOCALS, "\(\(御\|ご\)\(主人\|しゅじん\)\(様\|さま\)\)$")
	CLEARLINE 1
	REUSELASTLINE 「ヤマビコにだって言うことを选ぶ权利はあるわ」
	GOTO INPUT_LOOP_KYO0
ELSEIF FIRSTTIME("U88-1") && (!TALENT:恋人 || !TALENT:恋慕) && STRCOUNT(LOCALS, "\(\(旦那\|だんな\)\(様\|さま\)\)\$")
	CLEARLINE 1
	REUSELASTLINE 「ヤマビコにだって言うことを选ぶ权利はあるわ」
	GOTO INPUT_LOOP_KYO0
ENDIF
CSTR:20 = %LOCALS%
; CSTR:20とMASTERNAME:88を同期
CALLF K88_KYOKO_CALLNAME(MASTER)
RETURN 1


