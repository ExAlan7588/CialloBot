;==================================================
;弹幕胜负
;==================================================
;
@M_KOJO_XXX_MESSAGE_COM_KX_DANMAKU(ARGS, 相手残机)
#DIM 相手残机
;整体流程
;① [战斗前] → ②掷骰子和玩家选择，如果有残机[残机口上] →③当相应的技能被激活时[技能口上] → ④命中判断，如果角色被击中[被命中口上]→
; 如果没有人残机归0，它将返回②→（5）[战斗后的口上]
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SIF FLAG:口上色
		TRYCALLFORM M_KOJO_XXX_COLOR_K{NO:TARGET}
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;战斗前
	HANDICAP_FIXED = 0
	; 你可以给它加一个限制，数字越高，则提高角色的战斗能力，如果数字是负数，则降低角色的战斗能力。
	; 无论角色的能力如何，你都可以让它变强或变弱。
	HANDICAP_RAND = 0
	;随机变化角色的战斗能力，值越高变化幅度可能越大，持续一场战斗
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "战斗前"
		PRINTFORML 
		RETURN 0
	ENDIF
	;-------------------------------------------------
	;限制口上
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "ハンデ"
		; 如果你不给它设置限制值，它就不会显示。
		PRINTFORML 
		RETURN 0
	ENDIF
	;-------------------------------------------------
	;战斗中TARGET中弾时口上
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "被弾" 
		;此处可填写通用文本
		SELECTCASE 相手残机
			;拥有【洽览深识】时，会存在残机3的情况
			CASE 3
				PRINTFORML 
			CASE 2
				PRINTFORML 
			CASE 1
				PRINTFORML 
			CASE 0
				PRINTFORML 
		ENDSELECT
	ENDIF
	;-------------------------------------------------
	;战斗中
	;TARGETの【残忍酷薄】发动时
	;ARG的值是TARGETの残机
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "残忍酷薄"
		
	ENDIF
	;-------------------------------------------------
	;战斗中
	;TARGETの【乾坤一擲】发动时
	;ARG的值是TARGET的残机
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "乾坤一擲"
		
	ENDIF
	;-------------------------------------------------
	;战斗中
	;TARGETの【怪力乱神】发动时
	;ARG的值是TARGETの残机
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "怪力乱神"
		
	ENDIF
	
	;-------------------------------------------------
	;战斗后
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARGS == "战斗后" 
		PRINTFORML 
		;拥有【洽览深识】时，会存在残机4的情况
		;残机剩余1以上则挑战失败，剩余0则为挑战成功
		SELECTCASE 相手残机
			CASE 4
				PRINTFORML 
			CASE 3
				PRINTFORML 
			CASE 2
				PRINTFORML 
			CASE 1
				PRINTFORML 
			CASE 0
				PRINTFORML 
		ENDSELECT
	ENDIF
RESETCOLOR
ENDIF
RETURN 1

