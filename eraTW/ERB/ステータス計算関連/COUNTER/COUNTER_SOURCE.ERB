@EVENT_COUNTER_SOURCE(ARG,ARG:1)
SIF TCVAR:ARG:30 > 1
	RETURN 0
IF ARG:1 == 1

ENDIF

CALL Counter插入继续处理(ARG)

SELECTCASE TCVAR:ARG:Counter行动
;ここからリアクション
	;膣性交
	CASE 500
		SELECTCASE TCVAR:ARG:21
			CASE 1
				TCVAR:PLAYER:4 += 700
				SOURCE:ARG:挑衅 += 300
			;だいしゅきホールド
			CASE 2
				TCVAR:PLAYER:4 += 300
				SOURCE:ARG:诱惑 += 500
			;性交见せつけ
			CASE 3
				TCVAR:PLAYER:4 += 100
				SOURCE:ARG:挑衅 += 500
				SOURCE:ARG:侮辱 += 500
			;ラブ握り
			CASE 7
				SOURCE:ARG:情爱 += 1000
				EXP:ARG:爱情经验 ++
		ENDSELECT
	CASE 501
		SELECTCASE TCVAR:ARG:21
			CASE 1
				TCVAR:PLAYER:4 += 700
				SOURCE:ARG:挑衅 += 300
			;ラブ握り
			CASE 2
				SOURCE:ARG:情爱 += 1000
				EXP:ARG:爱情经验 ++
		ENDSELECT
	;手淫
	CASE 502
		SELECTCASE TCVAR:ARG:21
			CASE 1
				LOCALS = {ARG}/
				CSTR:PLAYER:10 += LOCALS
				TCVAR:PLAYER:2 = 3
				;强度
				TCVAR:PLAYER:4 += 200
				SIF !EXP_UP(24,ARG)
					EXP:ARG:手淫经验 ++
			;玉揉み_1
			CASE 2
				TCVAR:PLAYER:4 += 200
				SOURCE:ARG:诱惑 += 200
				SOURCE:ARG:侍奉 += 200
				SOURCE:ARG:挑衅 += 200
				SOURCE:ARG:征服 += 300
				IF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
					SOURCE:ARG:施虐 += 100
					TCVAR:ARG:嗜虐フラグ = 1
				ENDIF
			;玉揉み_2
			CASE 3
				TCVAR:PLAYER:4 += 200
				SOURCE:ARG:诱惑 += 200
				SOURCE:ARG:侍奉 += 200
				SOURCE:ARG:挑衅 += 200
				SOURCE:ARG:征服 += 300
		ENDSELECT
	;口交
	CASE 503
		SELECTCASE TCVAR:ARG:21
			CASE 1
				LOCALS = {ARG}/
				CSTR:PLAYER:10 += LOCALS
				TCVAR:PLAYER:2 = 4
				;强度
				TCVAR:PLAYER:4 += 300
				SOURCE:ARG:快Ｍ += 200
				SIF !EXP_UP(25,ARG)
					EXP:ARG:口淫经验 ++
			CASE 2
				TCVAR:PLAYER:4 += 150
				SOURCE:ARG:侍奉 += 200
				SOURCE:ARG:快Ｍ += 200
			;ディープスロート
			CASE 3
				TCVAR:PLAYER:4 += 500
				SOURCE:ARG:侍奉 += 300
				SOURCE:ARG:苦痛 += 100
				SOURCE:ARG:快Ｍ += 300
			;口交自慰
			CASE 4
				SOURCE:ARG:快Ｃ += 100
				SOURCE:ARG:露出 += 200
				SOURCE:ARG:快Ｍ += 200
				EXP:ARG:自慰经验 ++
		ENDSELECT
	;乳交
	CASE 504
		SELECTCASE TCVAR:ARG:21
			CASE 1
				LOCALS = {ARG}/
				CSTR:PLAYER:10 += LOCALS
				TCVAR:PLAYER:2 = 5
				;强度
				TCVAR:PLAYER:4 += 300
				SIF !EXP_UP(26,ARG)
					EXP:ARG:乳交经验 += 2
			;纵乳交
			CASE 2
				TCVAR:PLAYER:4 += 300
				SOURCE:ARG:诱惑 += 300
				SOURCE:ARG:侍奉 += 300
			;谷间を作る
			CASE 3
				TCVAR:PLAYER:4 += 500
				SOURCE:ARG:侍奉 += 500
			CASE 4
				TCVAR:PLAYER:4 += 1000
				SOURCE:ARG:侍奉 += 200
				SOURCE:ARG:情爱 += 100
				SOURCE:ARG:达成 += 100
				SOURCE:ARG:快Ｍ += 200
				EXP:ARG:口淫经验 ++
				EXP:ARG:乳交经验 += 2
				;爱情经验
				SIF TALENT:ARG:恋慕 && ASSIPLAY == 0
					EXP:ARG:爱情经验 += 1
				;奴隷が猫舌持ちの场合は、调教者に嗜虐快乐经验を追加
				SIF TALENT:ARG:猫舌
					EXP:ARG:嗜虐快乐经验 ++
		ENDSELECT
	;素股
	CASE 505
		SELECTCASE TCVAR:ARG:21
			CASE 1
				LOCALS = {ARG}/
				CSTR:PLAYER:10 += LOCALS
				TCVAR:PLAYER:2 = 6
				;强度
				TCVAR:PLAYER:4 += 300
			;手淫追加
			CASE 2
				TCVAR:PLAYER:4 += 300
				SOURCE:ARG:侍奉 += 300
				EXP:ARG:手淫经验 ++
		ENDSELECT
	;强行膣性交
	CASE 506
		SELECTCASE TCVAR:ARG:21
			;身をよじる
			CASE 1
				SOURCE:ARG:苦痛 += 300
				SOURCE:ARG:反感 += 2000
				DOWNBASE:ARG:体力 += 50
				DOWNBASE:ARG:气力 += 100
			;泪目
			CASE 2
				SOURCE:ARG:屈从 += 100
				SOURCE:ARG:反感 += 1000
				DOWNBASE:ARG:气力 += 50
		ENDSELECT
	;被玩弄乳头
	CASE 510
		SELECTCASE TCVAR:ARG:21
			CASE 1
				SOURCE:ARG:侍奉 += 200
				SOURCE:ARG:诱惑 += 300
				SOURCE:ARG:征服 += 300
				SOURCE:ARG:施虐 += 100
				SOURCE:MASTER:快Ｂ += 200
				IF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
					SOURCE:MASTER:苦痛 += 50
					SOURCE:ARG:施虐 += 100
					TCVAR:ARG:嗜虐フラグ = 1
				ENDIF
			CASE 2
				SOURCE:ARG:情爱 += 200
				SOURCE:ARG:侍奉 += 300
				SOURCE:ARG:达成 += 100
				SOURCE:ARG:诱惑 += 200
				SOURCE:MASTER:快Ｂ += 300
				SIF !EXP_UP(25,ARG)
					EXP:ARG:口淫经验 ++
		ENDSELECT
	; ;玉揉み
	; CASE 600
	; 	TCVAR:PLAYER:4 += 200
	; 	SOURCE:ARG:诱惑 += 200
	; 	SOURCE:ARG:侍奉 += 200
	; 	SOURCE:ARG:挑衅 += 200
	; 	SOURCE:ARG:征服 += 300
	; 	SIF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
	; 		SOURCE:ARG:施虐 += 100
	; 		TCVAR:ARG:嗜虐フラグ = 1
	;肛门爱抚
	CASE 601
		SIF HAS_PENIS(PLAYER)
			TCVAR:PLAYER:4 += 100
		SOURCE:ARG:侮辱 += 300
		SOURCE:ARG:施虐 += 100
		SOURCE:PLAYER:快Ａ += 300
		TCVAR:ARG:嗜虐フラグ = 1
ENDSELECT


;以下为MASTER存在counter行动时的source处理
IF TCVAR:MASTER:Counter行动 > 0
	SELECTCASE TCVAR:MASTER:Counter行动
		;这部分为master为男性时被逆推时target的行为引起的source改变
		;ここからリアクション
		;膣性交
		CASE 500
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					TCVAR:PLAYER:4 += 700
					SOURCE:ARG:挑衅 += 300
				;だいしゅきホールド
				CASE 2
					TCVAR:PLAYER:4 += 300
					SOURCE:ARG:诱惑 += 500
				;性交见せつけ
				CASE 3
					TCVAR:PLAYER:4 += 100
					SOURCE:ARG:挑衅 += 500
					SOURCE:ARG:侮辱 += 500
				;ラブ握り
				CASE 7
					SOURCE:ARG:情爱 += 1000
					EXP:ARG:爱情经验 ++
			ENDSELECT
		CASE 501
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					TCVAR:PLAYER:4 += 700
					SOURCE:ARG:挑衅 += 300
				;ラブ握り
				CASE 2
					SOURCE:ARG:情爱 += 1000
					EXP:ARG:爱情经验 ++
			ENDSELECT
		;手淫
		CASE 502
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					LOCALS = {ARG}/
					CSTR:PLAYER:10 += LOCALS
					TCVAR:PLAYER:2 = 3
					;强度
					TCVAR:PLAYER:4 += 200
					SIF !EXP_UP(24,ARG)
						EXP:ARG:手淫经验 ++
				;玉揉み_1
				CASE 2
					TCVAR:PLAYER:4 += 200
					SOURCE:ARG:诱惑 += 200
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:挑衅 += 200
					SOURCE:ARG:征服 += 300
					IF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
						SOURCE:ARG:施虐 += 100
						TCVAR:ARG:嗜虐フラグ = 1
					ENDIF
				;玉揉み_2
				CASE 3
					TCVAR:PLAYER:4 += 200
					SOURCE:ARG:诱惑 += 200
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:挑衅 += 200
					SOURCE:ARG:征服 += 300
			ENDSELECT
		;口交
		CASE 503
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					LOCALS = {ARG}/
					CSTR:PLAYER:10 += LOCALS
					TCVAR:PLAYER:2 = 4
					;强度
					TCVAR:PLAYER:4 += 300
					SOURCE:ARG:快Ｍ += 200
					SIF !EXP_UP(25,ARG)
						EXP:ARG:口淫经验 ++
				CASE 2
					TCVAR:PLAYER:4 += 150
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:快Ｍ += 200
				;ディープスロート
				CASE 3
					TCVAR:PLAYER:4 += 500
					SOURCE:ARG:侍奉 += 300
					SOURCE:ARG:苦痛 += 100
					SOURCE:ARG:快Ｍ += 300
				;口交自慰
				CASE 4
					SOURCE:ARG:快Ｃ += 100
					SOURCE:ARG:露出 += 200
					SOURCE:ARG:快Ｍ += 200
					EXP:ARG:自慰经验 ++
			ENDSELECT
		;乳交
		CASE 504
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					LOCALS = {ARG}/
					CSTR:PLAYER:10 += LOCALS
					TCVAR:PLAYER:2 = 5
					;强度
					TCVAR:PLAYER:4 += 300
					SIF !EXP_UP(26,ARG)
						EXP:ARG:乳交经验 += 2
				;纵乳交
				CASE 2
					TCVAR:PLAYER:4 += 300
					SOURCE:ARG:诱惑 += 300
					SOURCE:ARG:侍奉 += 300
				;谷间を作る
				CASE 3
					TCVAR:PLAYER:4 += 500
					SOURCE:ARG:侍奉 += 500
				CASE 4
					TCVAR:PLAYER:4 += 1000
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:情爱 += 100
					SOURCE:ARG:达成 += 100
					SOURCE:ARG:快Ｍ += 200
					EXP:ARG:口淫经验 ++
					EXP:ARG:乳交经验 += 2
					;爱情经验
					SIF TALENT:ARG:恋慕 && ASSIPLAY == 0
						EXP:ARG:爱情经验 += 1
					;奴隷が猫舌持ちの场合は、调教者に嗜虐快乐经验を追加
					SIF TALENT:ARG:猫舌
						EXP:ARG:嗜虐快乐经验 ++
			ENDSELECT
		;素股
		CASE 505
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					LOCALS = {ARG}/
					CSTR:PLAYER:10 += LOCALS
					TCVAR:PLAYER:2 = 6
					;强度
					TCVAR:PLAYER:4 += 300
				;手淫追加
				CASE 2
					TCVAR:PLAYER:4 += 300
					SOURCE:ARG:侍奉 += 300
					EXP:ARG:手淫经验 ++
			ENDSELECT
		;强行膣性交
		CASE 506
			SELECTCASE TCVAR:MASTER:21
				;身をよじる
				CASE 1
					SOURCE:ARG:苦痛 += 300
					SOURCE:ARG:反感 += 2000
					DOWNBASE:ARG:体力 += 50
					DOWNBASE:ARG:气力 += 100
				;泪目
				CASE 2
					SOURCE:ARG:屈从 += 100
					SOURCE:ARG:反感 += 1000
					DOWNBASE:ARG:气力 += 50
			ENDSELECT
		;被玩弄乳头
		CASE 510
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:诱惑 += 300
					SOURCE:ARG:征服 += 300
					SOURCE:ARG:施虐 += 100
					SOURCE:MASTER:快Ｂ += 200
					IF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
						SOURCE:MASTER:苦痛 += 50
						SOURCE:ARG:施虐 += 100
						TCVAR:ARG:嗜虐フラグ = 1
					ENDIF
				CASE 2
					SOURCE:ARG:情爱 += 200
					SOURCE:ARG:侍奉 += 300
					SOURCE:ARG:达成 += 100
					SOURCE:ARG:诱惑 += 200
					SOURCE:MASTER:快Ｂ += 300
					SIF !EXP_UP(25,ARG)
						EXP:ARG:口淫经验 ++
			ENDSELECT
		; ;玉揉み
		; CASE 600
		; 	TCVAR:PLAYER:4 += 200
		; 	SOURCE:ARG:诱惑 += 200
		; 	SOURCE:ARG:侍奉 += 200
		; 	SOURCE:ARG:挑衅 += 200
		; 	SOURCE:ARG:征服 += 300
		; 	SIF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
		; 		SOURCE:ARG:施虐 += 100
		; 		TCVAR:ARG:嗜虐フラグ = 1
		;肛门爱抚
		CASE 601
			SIF HAS_PENIS(PLAYER)
				TCVAR:PLAYER:4 += 100
			SOURCE:ARG:侮辱 += 300
			SOURCE:ARG:施虐 += 100
			SOURCE:PLAYER:快Ａ += 300
			TCVAR:ARG:嗜虐フラグ = 1


		;这部分为master为女性时被推时（不限定正逆推）target的行为引起的source改变
		;ここからリアクション
		;膣性交
		CASE 5001
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					TCVAR:ARG:4 += 700
					SOURCE:MASTER:挑衅 += 300
				;だいしゅきホールド
				CASE 2
					TCVAR:ARG:4 += 300
					SOURCE:MASTER:诱惑 += 500
				;性交见せつけ
				CASE 3
					TCVAR:ARG:4 += 100
					SOURCE:MASTER:挑衅 += 500
					SOURCE:MASTER:侮辱 += 500
				;ラブ握り
				CASE 7
					SOURCE:ARG:情爱 += 1000
					EXP:ARG:爱情经验 ++
			ENDSELECT
		CASE 5011
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					TCVAR:ARG:4 += 700
					SOURCE:MASTER:挑衅 += 300
				;ラブ握り
				CASE 2
					SOURCE:ARG:情爱 += 1000
					EXP:ARG:爱情经验 ++
			ENDSELECT
		;手淫
		CASE 5021
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					; LOCALS = {ARG}/
					; CSTR:PLAYER:10 += LOCALS
					TCVAR:ARG:2 = 3
					;强度
					TCVAR:ARG:4 += 200
					SIF !EXP_UP(24,MASTER)
						EXP:MASTER:手淫经验 ++
				;玉揉み_1
				CASE 2
					TCVAR:ARG:4 += 200
					SOURCE:MASTER:诱惑 += 200
					SOURCE:MASTER:侍奉 += 200
					SOURCE:MASTER:挑衅 += 200
					; SOURCE:MASTER:征服 += 300
					IF TALENT:MASTER:施虐狂 || ABL:MASTER:施虐属性 > 4
						SOURCE:MASTER:施虐 += 100
						; TCVAR:ARG:嗜虐フラグ = 1
					ENDIF
				;玉揉み_2
				CASE 3
					TCVAR:ARG:4 += 200
					SOURCE:MASTER:诱惑 += 200
					SOURCE:MASTER:侍奉 += 200
					SOURCE:MASTER:挑衅 += 200
					; SOURCE:MASTER:征服 += 300
			ENDSELECT
		;口交
		CASE 5031
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					; LOCALS = {ARG}/
					; CSTR:PLAYER:10 += LOCALS
					TCVAR:ARG:2 = 4
					;强度
					TCVAR:ARG:4 += 300
					SOURCE:MASTER:快Ｍ += 200
					SIF !EXP_UP(25,MASTER)
						EXP:MASTER:口淫经验 ++
				CASE 2
					TCVAR:ARG:4 += 150
					SOURCE:MASTER:侍奉 += 200
					SOURCE:MASTER:快Ｍ += 200
				;ディープスロート
				CASE 3
					TCVAR:ARG:4 += 500
					SOURCE:MASTER:侍奉 += 300
					SOURCE:MASTER:苦痛 += 100
					SOURCE:MASTER:快Ｍ += 300
				;口交自慰
				CASE 4
					SOURCE:MASTER:快Ｃ += 100
					SOURCE:MASTER:露出 += 200
					SOURCE:MASTER:快Ｍ += 200
					EXP:MASTER:自慰经验 ++
			ENDSELECT
		;乳交
		CASE 5041
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					; LOCALS = {ARG}/
					; CSTR:PLAYER:10 += LOCALS
					TCVAR:ARG:2 = 5
					;强度
					TCVAR:ARG:4 += 300
					SIF !EXP_UP(26,MASTER)
						EXP:MASTER:乳交经验 += 2
				;纵乳交
				CASE 2
					TCVAR:ARG:4 += 300
					SOURCE:MASTER:诱惑 += 300
					SOURCE:MASTER:侍奉 += 300
				;谷间を作る
				CASE 3
					TCVAR:ARG:4 += 500
					SOURCE:MASTER:侍奉 += 500
				CASE 4
					TCVAR:ARG:4 += 1000
					SOURCE:MASTER:侍奉 += 200
					SOURCE:MASTER:情爱 += 100
					SOURCE:MASTER:达成 += 100
					SOURCE:MASTER:快Ｍ += 200
					EXP:MASTER:口淫经验 ++
					EXP:MASTER:乳交经验 += 2
					;爱情经验
					SIF TALENT:ARG:恋慕 && ASSIPLAY == 0
						EXP:ARG:爱情经验 += 1
					SIF TALENT:MASTER:猫舌
						EXP:MASTER:嗜虐快乐经验 ++
			ENDSELECT
		;被玩弄乳头
		CASE 510
			SELECTCASE TCVAR:MASTER:21
				CASE 1
					SOURCE:ARG:侍奉 += 200
					SOURCE:ARG:诱惑 += 300
					SOURCE:ARG:征服 += 300
					SOURCE:ARG:施虐 += 100
					SOURCE:MASTER:快Ｂ += 200
					IF TALENT:ARG:施虐狂 || ABL:ARG:施虐属性 > 4
						SOURCE:MASTER:苦痛 += 50
						SOURCE:ARG:施虐 += 100
						TCVAR:ARG:嗜虐フラグ = 1
					ENDIF
				CASE 2
					SOURCE:ARG:情爱 += 200
					SOURCE:ARG:侍奉 += 300
					SOURCE:ARG:达成 += 100
					SOURCE:ARG:诱惑 += 200
					SOURCE:MASTER:快Ｂ += 300
					SIF !EXP_UP(25,ARG)
						EXP:ARG:口淫经验 ++
			ENDSELECT
		CASE 601
			SIF HAS_PENIS(PLAYER)
				TCVAR:PLAYER:4 += 100
			SOURCE:ARG:侮辱 += 300
			SOURCE:ARG:施虐 += 100
			SOURCE:PLAYER:快Ａ += 300
			TCVAR:ARG:嗜虐フラグ = 1
	ENDSELECT
ENDIF

CALL 胸弄り解除处理(ARG)
CALL Counter插入され继续中处理(ARG)

RETURN 1
