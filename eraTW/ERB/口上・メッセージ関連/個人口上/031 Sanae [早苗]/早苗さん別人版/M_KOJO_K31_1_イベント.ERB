;-------------------------------------------------
; eraTheWorld 4.841用 ○○别人口上（角色の名前を入れる、下にコンセプトなど一言那个ば入れる）
;-------------------------------------------------
;他者による修正、追加、改变については、同梱のライセンス条项に从ってください。

;------ ｷﾘﾄﾘ ｶｲｼ -----------
;eraTheWorld proto4.07パッチ取り込み用 Ver1.13
;テンプレートの使い方
;初めに置换指令等により K31 を K(角色No) に变更して下さい  
;角色NoはCSVフォルダのCharaファイルを参照　例(雾雨 魔理沙の场合)：K31 =置换=> K11
;
;------ ｷﾘﾄﾘ ｵﾜﾘ -----------

;**** FlagManagement **********************************************************
;本口上にて使用しているCFLAG・TCVAR等
;CFLAG:31:1001 现在的ストーリー章番号
;CFLAG:31:1002 现在的ストーリー节番号
;CFLAG:31:1011 サブイベ1_初回フラグ
;CFLAG:31:1012 サブイベ1_发生判定フラグ
;CFLAG:31:1098 MASTER逆转经验
;CFLAG:31:1099 MASTER逆转刻印
;CFLAG:31:1111 ストーリー用フラグ1章1节用1つ目
;CFLAG:31:1411 ストーリー用フラグ4章1节用1つ目
;CFLAG:31:1412 ストーリー用フラグ4章1节用2つ目
;TCVAR:31:351  ストーリーが同日に一气に进まないように
;
;******************************************************************************

;### 口上存在判定 ###################################
@M_KOJO_K31_1(ARG)
;别人口上判定ですX2を同角色口上の通し番号に置き换えてください（一つ目の别人口上なら1、二つ目の别人口上なら2
;复数の同角色口上が同时表示されないために必要です、必ず早苗追加を变更してください
RESULTS = _早苗追加
;初期口上とは违う事を明示するため、口上选择时に表示されます、必ずＸＸＸを变更してください
RESULTS:1 = さん别人版（被逆推好き向け）

;口上存在判定です、けしてコメントアウトしないでください
;他の处理は一切行わないように
RETURN 1

;### 口上基本フラグ设定 #############################
@M_KOJO_早苗追加_FLAGSETTING_K31
;基本フラグ设定はここで行ってください
;共通の口上フラグは必要な部位のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xには角色番号を入れてください

;眠奸口上有、时间停止口上有、扮演に1を入れると、それぞれ时间停止时、眠奸时、扮演时に指令口上が读み込まれるように
;入れないと时间停止时、眠奸时、扮演时は一切喋りません
;CFLAG:X:眠奸口上有 = 0
;CFLAG:X:时间停止口上有 = 0
;CFLAG:X:扮演口上有 = 0

;破瓜中止口上有に1を入れると、@M_KOJO_EVENT_K31_LOST_VIRGIN_STOPで中止の成否を操作できます
;CFLAG:X:破瓜中止口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_K31_PERMISSIONで推倒の成否を操作できます
;CFLAG:X:口上内抱き寄せ判定_初回 = 0
CFLAG:31:口上内抱き寄せ判定_通常 = 1

;推倒禁止に1を入れると、主动推倒てこなくなります
;以下は恋慕か炮友がつくまで推倒てこなくなる使用例
;IF !TALENT:X:恋慕 && !TALENT:X:炮友
;	CFLAG:X:推倒禁止 = 1
;ELSE
;	CFLAG:X:推倒禁止 = 0
;ENDIF

;来访不能に1を入れると、来访してこなくなります
;以下は认识があるまで来访してこなくなる使用例
;IF !CFLAG:X:认识
;	CFLAG:X:来访不能 = 1
;ELSE
;	CFLAG:X:来访不能 = 0
;ENDIF

;### 口上色判定 ###################################
@M_KOJO_早苗追加_COLOR_K31
SETCOLOR 0x68FF86

;ここでSETCOLORすることで口上に色を付けられます
;例：SETCOLOR 0xC07070


;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_早苗追加_UPDATE_K31
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ场合等にどうぞ
;UPDATE判定でCFLAG等の角色变量を使用场合、角色番号の指定が必要になります
	PRINTL 要重置口上故事的记录吗？
	PRINTL 通过重置、我们可以让故事从头开始
	PRINTL 初次导入时，如果想要显示故事内容，请务必重置
	PRINTFORML [0]-好的
	PRINTFORML [1]-不行
	INPUT
	IF !RESULT
		CFLAG:31:1001 = 1
		CFLAG:31:1002 = 1
		CFLAG:31:1098 = 0
		CFLAG:31:1099 = 0
		CFLAG:31:1111 = 0
		CFLAG:31:1411 = 0
		CFLAG:31:1412 = 0
		PRINTL 重置完了
	ELSE
		PRINTL 没有进行重启-
	ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ构文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_早苗追加_ENCOUNTER_K31
;初对面、挨拶のタイミング
;TALENTの变更はここでどうぞ。
;経験の变更は龃龉が出る场合がありますので、CSVを修正し同梱する事を推奖します
	
	PRINTFORMW 「你就是最近来到这里的人吗？」
	PRINTFORML 「事实上、我也是来自外面的世界……」
	PRINTFORMW 「我很好奇你到底是一个什么样的人」
	PRINTL
	PRINTFORMW （咦，这个人…？）
	PRINTL
	PRINTFORMW 「啊，不好意思，我还没进行自我介绍呢」
	PRINTFORMW 「初次见面，我叫东风谷早苗」
	PRINTFORML 「在山上有个叫守矢神社的神社，在那里当做风祝」
	PRINTFORML 「话说回来、你听到『奇迹』这个词不会心动吗？不想来尝试一下信仰我们吗？」
	PRINTL
	PRINTFORML [0]-已经够了
	PRINTFORML [1]-不、还是别了……
	INPUT
	IF !RESULT
		PRINTFORMW 「为 什 么 啊　！！」
	ELSE
		PRINTFORMW 「又来了——请别说那种钓不到鱼的话♪」
	ENDIF
	PRINTL
	PRINTFORMW 「我们还会定期在村子里招募信徒、请一定要来听我说哦！」
	PRINTFORML （……一瞬间、我感受到了一种不寻常的气氛………）
	PRINTFORMW （………啊、应该是误会了吧！）
	
	;CFLAG:31:1001 = 1
	;CFLAG:31:1002 = 1

RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;约会归りにファーストKISS（合意も付く）
;==================================================
@M_KOJO_早苗追加_SPEVENT_K31_1(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 「谢谢你今天来邀请我约会♪」
	PRINTFORMW 「非常开心……所以……」
	PRINTFORML
	PRINTFORML 「――啾」
	PRINTFORMW
	PRINTFORMW 「呵呵……下一次……请再来邀请我一起去约会吧？」
	;接吻を中止したい场合は以下を开放
	;TCVAR:中止接吻 = 1
ENDIF
RETURN 1

;==================================================
;约会归りに告白（恋人が付く）
;==================================================
@M_KOJO_早苗追加_SPEVENT_K31_2(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示后に接受かどうかの选择分が表示されます
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	
	IF LOCAL:1 && ARG == 0
		PRINTFORMDW 早苗突然沉默下来，转头看向了我，一脸认真地说…
		PRINTFORMW 「啊………%CALLNAME:MASTER%桑」
		PRINTFORMW 「我想告诉你一些事情」
		PRINTFORMW 「我想了很多种表达的方式…」
		PRINTFORMW 「我认为最简单的表达方式是」
		PRINTFORML
		PRINTFORML 「――我喜欢你、%CALLNAME:MASTER%先生」
		PRINTFORMW
		PRINTFORMW 「一起度过的这段时间我很幸福…当我看到你笑容时，我感到非常的满足…」
		PRINTFORMW 「这是我第一次有了这样的感觉」
		PRINTFORMW 「所以…你愿意和我交往吗？」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW
		PRINTFORMW 「…啊…太好了……我真是太高兴了」
		PRINTFORMW 「这是正式的恋人关系了…是吧」
		PRINTFORMW 「今后也请多多关照♪」
		PRINTFORMW 「呵呵，好久都没这么紧张过了」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失败
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW
		PRINTFORMW 「啊………」
		PRINTFORMW 「……我明白了」
		PRINTFORMW 「不了、感谢你认真地回答」
		PRINTFORML 「――但是，我是不会放弃的」
		PRINTFORMW 「还有，就这样疏远我了…什么都没有」
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;约会归り
;==================================================
@M_KOJO_早苗追加_SPEVENT_K31_3(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印消去イベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印2>1レベルダウンイベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印3>2レベルダウンイベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;房间で遭遇
;==================================================
@M_KOJO_早苗追加_EVENT_K31_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERが入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:TARGET:勃然大怒
			PRINTFORML 「哈……是%CALLNAME:MASTER%先生吗……」
			PRINTFORMDL 早苗好像生气了…
			RETURN 1
		ENDIF
		
		PRINTFORML 「啊、%CALLNAME:MASTER%先生、你好啊」
		
		IF TALENT:恋人 || TALENT:恋慕 || TALENT:思慕
			PRINTFORMDW 早苗微笑着看着我…
		ENDIF
		
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:TARGET:勃然大怒
			PRINTFORML 「哈……是%CALLNAME:MASTER%先生吗……」
			PRINTFORMDL 早苗好像生气了…
			RETURN 1
		ENDIF
		
		PRINTFORML 「啊、%CALLNAME:MASTER%先生、你好啊」
		
		IF TALENT:恋人 || TALENT:恋慕 || TALENT:思慕
			PRINTFORMDW 早苗微笑着看着我…
		ENDIF
		
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが澡堂に入ってきて一绪に入る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「%CALLNAME:MASTER%先生，一起进去吗？」
			PRINTFORMDW 早苗毫不犹豫地邀请了%CALLNAME:MASTER%先生
		ELSE
			PRINTFORML 「啊……%CALLNAME:MASTER%先生……！？」
			PRINTFORMDL 看到%CALLNAME:MASTER%先生进来洗澡，早苗一瞬间吃了一惊，但很快恢复了表情
			PRINTFORML 「嗯...好吧」
			PRINTFORMDW 看起来可以一起进去了...
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET进入浴室并离开
	;填写检查（=0，隐藏；1，显示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「%CALLNAME:MASTER%先生，你在里面呢」
			PRINTFORML 「呵呵，慢慢享受吧」
			PRINTFORMDW 早苗笑着离开了浴室...
		ELSE
			PRINTFORML 「啊……%CALLNAME:MASTER%先生……！？」
			PRINTFORMDL 看到%CALLNAME:MASTER%先生在浴室里，早苗吃了一惊
			PRINTFORML 「嗯...请慢慢享受」
			PRINTFORMDW 早苗匆匆离开了浴室...
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが澡堂に入ってきて追い出された
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		IF TALENT:恋人 || TALENT:恋慕 || TALENT:思慕
			PRINTFORML 「啊...%CALLNAME:MASTER%，你在里面啊」
			PRINTFORML 「我下一次进去，请快点快点」
			PRINTFORMDW %CALLNAME:MASTER%被催促着从浴室里出来了...
		ELSE
			PRINTFORML 「啊…………！？」
			PRINTFORML 「………………………………」
			PRINTFORMDW 感受到了无言的压力………%CALLNAME:MASTER%决定从浴室里出来了……
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;外出先で遭遇した
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;他角色と约会中に遭遇した
	;ARG:1に约会的对象
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MAIN_MAP上で一日最初の挨拶
	;注、このあと通常の遭遇口上、ARG==1 OR ARG==2に接续します
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;外出先で一日最初の挨拶
	;ARG:1に约会的对象、ARG:1が0の场合は非约会
	;注、このあと通常の外出先で遭遇した口上、ARG==6 OR ARG==7に接续します
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;ARG:1と约会中
		IF ARG:1
		;一人で外出
		ELSE
		ENDIF
		PRINTFORML 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_早苗追加_EVENT_K31_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;非同栖かつ相手が先に起きてる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;TARGET私室にMASTERが入っている（恋慕时陪睡中就寝时のみ？
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER私室にTARGETが入ってきてる(恋慕无しでも入ってくる可能性有り
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同栖かつ相手が起きている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同栖かつ相手が寝ている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERが起きていて、相手が起きてきた
	;添い寝时TARGET起床はこちら（TARGET衰弱or陪睡中TARGET睡魔负け后そのままMASTERが起き续けた上で相手が起床した场合限定
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;非同栖
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;同栖中
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_早苗追加_EVENT_K31_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;自室に归って寝る（～は【现在地】から【角色の自室】に戻りました）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF ARG:1
			;约会中に眠くて归って寝る（据点角色のみ）
			PRINTFORMW 
		ELSEIF CFLAG:诶嘿嘿
			;诶嘿嘿中に眠くて自室に归って寝る（据点角色のみ）
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;眠そうにしている（～は眠そうにしている）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;睡眠中（～は沉浸在梦乡中）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;恶作剧中
	;记入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;衰弱して寝る（体力500以下,诶嘿嘿时は诶嘿嘿强制结束）
	;（角色の自室以外：～を【现在地】から【角色の自室】に运びました）
	;（角色の自室　　：～は疲惫と言って、横成为了）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中にダウン
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（恋慕のみ,そのまま一日が结束）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;酒でダウン
		IF BASE:MASTER:酒气 >= MAXBASE:MASTER:酒气
			IF ARG:1
				;自室でダウン,（～が【MASTER】をベッド（被窝）へと运んでくれた…）
				PRINTFORMW 
			ELSE
				;房间まで运ばれる,（～が【MASTER】を私室へと运んでくれた…）
				PRINTFORMW 
			ENDIF
		;体力切れでダウン
		ELSE
			IF ARG:1
				;自室でダウン,（～が【MASTER】をベッド（被窝）へと运んでくれた…）
				;PRINTFORMW 
			ELSE
				;房间まで运ばれる,（～が【MASTER】を私室へと运んでくれた…）
				;PRINTFORMW 
			ENDIF
			PRINTFORML 「呵呵…、%CALLNAME:MASTER%先生、你这是晕过去了吗…？」
			PRINTFORMW 「要把你带回去了哦？……什么嘛…%UNICODE(0x2665) *1%」
			CALL K31_MASTER逆转刻印取得チェック("取得")
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが寝るために自室まで回来了
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;そのまま更衣て寝た（【TARGET】が房间に回来了→寝间着へと更衣、寝床に潜った）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;房间から逐出て寝た（眠そうな【TARGET】に追い出された…）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF CFLAG:前一次的位置 == CFLAG:当前位置
				;前のターンまで一绪に房间にいた
				PRINTFORMW 
			ELSE
				;寝るために房间に归ってきたところ
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;他角色とのＨを止めさせて寝た（【TARGET】が房间に回来了→唇をとがらせる【TARGET】に、【MASTER】は渋々【Ｈの相手】から别馆た）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;来访角色が据点で休憩（～は疲れ切っている→稍微休んでいきなよ）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝室に居る状态でその场で寝る（～は眠气に负け、睡眠についた…）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中に寝る
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;据点外で自宅前に居る角色が自室に归って寝る（眠くなった～は自室に归って行きました）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;移动时すれちがい
;==================================================
@M_KOJO_早苗追加_EVENT_K31_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;立ち止まった
	;この后遭遇口上に接续
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;轻轻地会釈して街道过ぎた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:318 == 1
			PRINTFORML 「…………」
			PRINTFORMDL 早苗好像生气了…
		ELSEIF TCVAR:烂醉 == 1
			PRINTFORML 
		ELSEIF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「呵呵、%CALLNAME:MASTER%先生…%UNICODE(0x2665) *1%」
			PRINTFORMDL 早苗好像在向这边轻轻挥手…
		ELSEIF TALENT:思慕
			PRINTFORML 「啊、%CALLNAME:MASTER%先生」
			PRINTFORMDL 早苗轻轻地打了个招呼…
		ELSE
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无视して街道过ぎた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;他者介入で情绪变化
;==================================================
@M_KOJO_早苗追加_EVENT_K31_5(ARG,ARG:1)
;口上主はTARGET
;ARGに入ってきた角色（人数が膨大なので、自己把握自己责任で
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;灵梦が入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;留琴が入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他（角色指定无
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;情事を目击した
;==================================================
@M_KOJO_早苗追加_EVENT_K31_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を目击した（亲热度:低）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;负けじと参加（亲热度:高）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;气まずそうに立ち去る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;情事を见られた
;==================================================
@M_KOJO_早苗追加_EVENT_K31_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目击者
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を见られた（目击者の亲热度:低）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者が负けじと参加（目击者の亲热度:高）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者が立ち去る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;目击した情事を诘问（现在无し
;==================================================
@M_KOJO_早苗追加_EVENT_K31_8(ARG,ARG:1)
RETURN 1

;==================================================
;胖次没收された
;==================================================
@M_KOJO_早苗追加_EVENT_K31_9(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML 「额…………原来你是这样的癖好吗…？」
		PRINTFORML 「我反正是没收了」
		RETURN 1
	ENDIF
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;推倒た
;==================================================
@M_KOJO_早苗追加_EVENT_K31_10(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;诶嘿嘿==2（开始时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;MASTERを推倒た（开始时）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF TALENT:恋慕 || TALENT:恋人 || TALENT:思慕
				PRINTFORML 「嗯、%CALLNAME:MASTER%先生……」
				PRINTFORML 「对不起……我已经受不了了」
				PRINTFORML 「呵呵、呵呵……%UNICODE(0x2665) *1%　抓住了%UNICODE(0x2665) *1%」
				PRINTFORMDW 早苗神情恍惚地小声说道………
				CALL K31_MASTER逆转经验取得(5)
				IF CFLAG:31:1099 + RAND:3 >= 3
					CFLAG:TARGET:积攒度 += 300
					TCVAR:TARGET:发情 = 1
				ENDIF
				CFLAG:TARGET:积攒度 += 300
			ELSE
				PRINTFORML 「对不起……我已经受不了了」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTERに抱きついた（开始时）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML 「……呵呵%UNICODE(0x2665) *1%」
			PRINTFORMW 「%CALLNAME:MASTER%先生……」
			TCVAR:TARGET:发情 = 1
			RETURN 1
		ENDIF
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;なだめられた（结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;抜け出した
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;抱き着きモード满足结束
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;抱き着きモード强制结束
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;摆脱失败
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;随便状态から抜け出せなかった
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			SELECTCASE RAND:4
				CASE 1
					PRINTFORML 「疼吗…？%UNICODE(0x2665) *1%　原谅我吧……？%UNICODE(0x2665) *1%」
					PRINTFORMW 「不行哦，%UNICODE(0x2665) *1%...我不能原谅你%UNICODE(0x2665) *1%」
				CASE 2
					PRINTFORML 「呵呵、不行啊%UNICODE(0x2665) *1%　我不会让你逃走的%UNICODE(0x2665) *1%」
					PRINTFORML 「说起来、你根本就不打算真的溜出去吧？%UNICODE(0x2665) *1%」
					PRINTFORMW 「我知道了……%CALLNAME:MASTER%先生……%UNICODE(0x2665) *1%」
				CASE 3
					PRINTFORML 「……说了那种话还想溜出去？……%UNICODE(0x2665) *1%」
					PRINTFORMW 「啊……%UNICODE(0x2665) *1%　我希望你变得更坚强……%UNICODE(0x2665) *1%」 
				CASEELSE
					PRINTFORML 「……因为是自己说的，直到坏掉为止…%UNICODE(0x2665) *1%」
					PRINTFORMW 「我会帮你把它弄坏的……%UNICODE(0x2665) *1%」 
			ENDSELECT
			
		CALL K31_MASTER逆转经验取得(5)
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;欲求不满が高くて抜け出せなかった
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML 「……你不是说过忍不住吗……？%UNICODE(0x2665) *1%」
			PRINTFORMW 「啊、我是不会放手的……%UNICODE(0x2665) *1%」
			CALL K31_MASTER逆转经验取得(3)
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;诱ってきた（人目につかない场所に行きたがるやつ）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	
	IF LOCAL:1 && ARG == 4
		;ARG:1=TARGETの欲求不满度（最高1000）
		;必要ならばこれで分岐を作ってください
		PRINTFORML 「呜……哈、呼……%UNICODE(0x2665) *1%」
		PRINTFORMW 「那个……%CALLNAME:MASTER%先生………っ%UNICODE(0x2665) *1%」
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;浴场で遭遇
;==================================================
@M_KOJO_早苗追加_EVENT_K31_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出された
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目が合った（追い出されない）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み
;==================================================
@M_KOJO_早苗追加_EVENT_K31_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出される（愤怒）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕・衰弱）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される（衰弱）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;工作中
;==================================================
@M_KOJO_早苗追加_EVENT_K31_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている工作量
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;工作开始（职场へ移动する）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;业务中
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;工作结束
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;吃饭系
;==================================================
@M_KOJO_早苗追加_EVENT_K31_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;持っていた食物を食べられた
	;TCVAR:盗み食い抑制で持っていた食物を食われるのを回避できる
	;仕样例（药が入ってたら食わない）
	;IF DISH_DRG
		TCVAR:盗み食い抑制 = 1
	;ENDIF

	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;MASTERが推倒た
;==================================================
@M_KOJO_早苗追加_EVENT_K31_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未实装（推倒指令に统合？
	;MASTERが推倒た（ウフフ开始时）
	;记入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;逢濑结束（ウフフ结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF FLAG:时间停止
			PRINTFORMDW %CALLNAME:MASTER%心满意足后，不再玩弄早苗……
			RETURN 1
		ENDIF
			
		PRINTFORML 「呼……哈……%UNICODE(0x2665) *1%」
		PRINTFORMW 「……满意了吗？」
			
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
	;-------------------------------------------------
	;事后描写
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;精液が垂れてきた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;爱液が垂れてきた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;事后の情绪
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;服を着る
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;陪睡
;==================================================
@M_KOJO_早苗追加_EVENT_K31_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;添い寝を始めた（开始时）(存在せず
	;记入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;添い寝を结束した（结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;时止め结束时
;==================================================
@M_KOJO_早苗追加_EVENT_K31_17(ARG,ARG:1)
;口上主はTARGET
;排他と明记されていないモノは状况によっては连续で表示されるので注意
;ARGに射精状况
;ARG:1に射精状态
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3は排他
	;谜の快感
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「……嗯！？%UNICODE(0x2665) *1%」
		PRINTFORMW 「刚才那是怎么回事……？」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;绝顶
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「啊哈……%UNICODE(0x2665) *1%　这样啊……%UNICODE(0x2665) *1%」
		PRINTFORMW 「为什么……我那是怎么了…………%UNICODE(0x2665) *1%」
	
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;胖次遗失
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW （诶……？　我的胖次怎么不见了……？）
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉口内射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精饮
		IF ARG:1 == 1
		;精液中毒低吐き出し
		ELSEIF ARG:1 == 2
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
		;精液中毒高精饮
		ELSEIF ARG:1 == 4
		;浓厚精液＆精液中毒低吐き出し
		ELSEIF ARG:1 == 5
		;浓厚精液＆精液中毒高精饮
		ELSEIF ARG:1 == 6
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉颜面射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;无知持ち＆精液经验100未满
		IF ARG:1 == 1
		;通常ぬぐい取り
		ELSEIF ARG:1 == 2
		;颜射精液舐めとり
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉手淫射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;ぬぐい取り
		IF ARG:1 == 1
		;舐めとり
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉肛门射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Ａ感觉2以下
		IF ARG:1 == 1
		;ソレ以外
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉处女丧失】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉膣内射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;非处女嫩穴内射精口服避孕药无
		IF ARG:1 == 1
		;非处女嫩穴内射精口服避孕药あり
		ELSEIF ARG:1 == 2
		;处女嫩穴内射精
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;时间停止解除共通
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ时
;==================================================
@M_KOJO_早苗追加_EVENT_K31_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避孕要求台词
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断った
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断ったのに粘られて切れた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危险日以外许可
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危险日许可
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;神社暮らしを承认して贳う
;==================================================
@M_KOJO_早苗追加_EVENT_K31_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;认められる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;认められない
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;你の私室变更により同居
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;回家时
;==================================================
@M_KOJO_早苗追加_EVENT_K31_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中に眠くて返回
			PRINTFORMW 「我……好困啊……已经是极限了……」
		ELSE
			PRINTFORML 「差不多该回去了吧」
			PRINTFORMW 「那么，明天见」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会中回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:诶嘿嘿
			IF CFLAG:衰弱
				;诶嘿嘿中に疲れて返回
				PRINTFORMW 「啊……我很累了……已经是极限了……对不起……」
			ELSE
				;诶嘿嘿中に眠くて返回
				PRINTFORMW 「我……好困啊……已经是极限了……」
			ENDIF
		ELSE
			PRINTFORML 「已经这个时间了吗……」
			PRINTFORMW 「今天非常感谢你」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;玄关先でお见送り（角色の自宅位置、または角色的房间で约会结束）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会结束时に房间に来ないかと诱う（～から房间に来ないかと诱われた）
	;（来访角色のみ,自宅が无い角色でも发生します）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;房间に来ないか→「行く」を选择（～に诱われるまま、【MASTER】は【TARGET】的房间へと向かった……）
	;（これが发生すると十中八九被逆推ます）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 「呵呵…真坦率啊……%UNICODE(0x2665) *1%」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;房间に来ないか→「やめとく」を选择（～は心无か寂しそうだ……）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は归りたくないと言い出す（～は今夜は归りたくないと言い出した…）
	;（来访角色の回家时に欲求不满と欲望が高いと发生）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は归りたくない→「泊める」を选择（～は【MASTERの自室】に泊まっていくこと成为了）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は归りたくない→「泊めない」を选择、または家主が居る（【MASTER】は丁重に断った）
	;（家主が居る＝MASTERの私室に他の角色の私室を设定している）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;疲れて回家（疲れきった～は归って行きました）
	;（～は疲れ切っている→（入り口）まで送るよ でも发生）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中に疲れて返回
			PRINTFORMW 「啊……我很累了……已经是极限了……对不起……」
		ELSE

		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陷落素質取得时
;==================================================
@M_KOJO_早苗追加_EVENT_K31_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		PRINTFORMW 「……………………啊……………」
		PRINTFORMW 「我是不会对自己的心情说谎的……………」
		PRINTFORMW 「我只能承认了」
		PRINTFORMW 「一起度过的这段时间我很幸福…当我看到你笑容时，我感到非常的满足…」
		PRINTFORMW 「我、爱上了%CALLNAME:MASTER%先生」
		PRINTFORMW 「但是%CALLNAME:MASTER%先生是怎么想我的呢…」
		PRINTFORMW 「虽然很喜欢别人的恋爱、但是一旦涉及到自己的时候就会变得很糟糕……」
		PRINTFORMW 「我一直以为恋爱是与我无缘的呢」
		PRINTFORMW 「痛苦却又不是很痛苦……被这种连自己都不知道的情绪所左右着」
		PRINTFORMW 「我第一次知道我的心会变得如此痛苦」
		PRINTFORMW 「是不是应该把这种心情藏在心里呢……还是……？」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		PRINTFORMW 「啊、今天也是充实的一天哦」
		PRINTFORMW 「现在回想起来，我刚来这里的时候、心里感到非常的不安……」
		PRINTFORMW 「住在山上、风景特别的好」
		PRINTFORMW 「信仰也很好、最近好像是特别好？」
		PRINTFORMW 「最近……应该说是和%CALLNAME:MASTER%先生认识之后吧…」
		PRINTFORMW 「这就是所谓的‘命中注定的人’吗…」
		PRINTFORMW 「呵呵………」
		PRINTFORMW 「……………………………」
		PRINTFORMW 「啊啊、我在想什么呢！」
		PRINTFORMW 「对，这应该是给我带来幸运的人之类的意思吧…除此之外没有别的意思了吧…………应该……」
		PRINTFORMW 「可能……大概……………」
		
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;爱欲取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;爱人取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;炮友取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;接吻魔取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰狂取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;子宫口性感取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;漏尿癖取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;调教结束时に自慰
;==================================================
@M_KOJO_早苗追加_EVENT_K31_22(ARG,ARG:1)
;口上主はARG
;ARG:0に自慰状况
;ARG:1に自慰种类
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;通常自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「嗯嗯……哈啊、呼…………%UNICODE(0x2665) *1%」
			PRINTFORML 「果然……光是这样还不够……」
		ELSE
			PRINTFORML 「嗯……呼……嗯……」
			PRINTFORML 「啊啊……………　　　呼………」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同室时自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;中だし精液自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无知持ち（自慰经验(调教自慰经验は差し引き)による分岐あり
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:自慰经验 - EXP:调教自慰经验
		;无知消去イベントあり（表示は一度だけ
		IF LOCAL:1 >= 25
		;地の文分岐。书きたい场合は[SKIPSTART][SKIPEND]を削除してください
		[SKIPSTART]
		ELSEIF LOCAL:1 >= 20
		ELSEIF LOCAL:1 >= 15
		ELSEIF LOCAL:1 >= 10
		ELSEIF LOCAL:1 >= 5
		[SKIPEND]
		ELSE
		ENDIF
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質あり自慰中毒高め
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;Ｃ敏感orＣ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｖ敏感orＶ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ａ敏感orＡ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｂ敏感orＢ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部位指定无し
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切书かずに、ここに书くことで陷落素質あり自慰中毒高め自慰の共通口上を表示することが出来ます
		IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「嗯嗯……哈啊、呼…………%UNICODE(0x2665) *1%」
			PRINTFORML 「果然……光是这样还不够……」
		ELSE
			PRINTFORML 「嗯……呼……嗯……」
			PRINTFORML 「啊啊……………　　　呼………」
		ENDIF 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰中毒高め
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;尻穴膣腔同时
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;膣腔のみ
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切书かずに、ここに书くことで自慰中毒高め自慰の共通口上を表示することが出来ます
		IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「嗯嗯……哈啊、呼…………%UNICODE(0x2665) *1%」
			PRINTFORML 「果然……光是这样还不够……」
		ELSE
			PRINTFORML 「嗯……呼……嗯……」
			PRINTFORML 「啊啊……………　　　呼………」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;我慢
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;其他
	;上の分岐を一切书かずに、ここに书くことで自慰の共通口上を表示することが出来ます
	IF TALENT:恋人 || TALENT:恋慕
			PRINTFORML 「哈啊……呼……呜呜…………%UNICODE(0x2665) *1%」
			PRINTFORML 「明天………明天就忍耐到底………%UNICODE(0x2665) *1%」
		ELSE
			PRINTFORML 「哈啊……呼、呜呜…………我要忍耐住……」
		ENDIF
	RETURN 1
ENDIF
RETURN 1
;==================================================
;浴场连れだし
;==================================================
@M_KOJO_早苗追加_EVENT_K31_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;断られた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一绪に入ってくれた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;怀孕
;==================================================
@M_KOJO_早苗追加_EVENT_K31_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質无し
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无自觉
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;出产
;==================================================
@M_KOJO_早苗追加_EVENT_K31_25(ARG,ARG:1)
;口上主はLOCAL
;ARG:1	何人目の儿童か
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質无し
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无自觉
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;自慰暴露
;==================================================
@M_KOJO_早苗追加_EVENT_K31_26(ARG,ARG:1)

;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;见られた瞬间
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORML 「啊啊啊啊啊！？」
			PRINTFORMW 「喂、%CALLNAME:MASTER%先生、为什么……」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;什么也不做
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「唔……今后你要我用什么表情说话呢…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;そのまま续行
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「已经…自暴自弃了啊…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;逐出
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「……总之，你先出去吧……」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;やっちゃう
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「已经…自暴自弃了啊…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事后
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORML 「没想到会变成这样…呃……」
			PRINTFORMW 「我确实是欲求不满了…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 6
		;事后お泊り
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
	ENDSELECT
ENDIF

;自慰暴露ックス判定用函数
;RETURN -1で强制失败、RETURN 1で强制成功
@M_KOJO_早苗追加_EVENT_K31_26_1(ARGS)
#DIM 补正值
IF ARGS == "どうぞそのまま"

ELSEIF ARGS == "二人"

ENDIF

;使用例
;IF !TALENT:XX:恋慕
;	PRINTFORMW %CALLNAME:XX%はガードが坚いぞ！
;	RETURN -1
;ENDIF
;IF TALENT:MASTER:浓厚精液
;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
;	RETURN 1
;ENDIF
;==================================================
;相手から约会のお诱い
;==================================================
@M_KOJO_早苗追加_EVENT_K31_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;诱い文句
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「呃……我有个地方想和你一起去看看…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;受けた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「啊…、谢谢你了……呵呵」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;断った
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;房间に诱われた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORML 「呜……哈、呼……%UNICODE(0x2665) *1%」
			PRINTFORML 「哈……%CALLNAME:MASTER%先生………っ%UNICODE(0x2665) *1%」
			PRINTFORMW 「你不去我房间吗…？」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;房间に诱われたのを受けた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「…………%UNICODE(0x2665) *1%……呵呵%UNICODE(0x2665) *1%」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;房间に诱われたのを断った
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_早苗追加_EVENT_K31_28(ARG,ARG:1)
;口上主はTARGET
;ARGに脱がし方选择
;ARG:1（ARG=3の场合のみあり）地の文の反应
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;全裸にする
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;变成只穿内衣的样子
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;半脱
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;胖次ちょうだい
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;交换です
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK（嬉々
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK（渋々
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 3
				;嫌です
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				RETURN 1
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;愤怒口上
;==================================================
@M_KOJO_早苗追加_EVENT_K31_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの胆量で分岐
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;怒らせてしまった
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;泣かせてしまった　[胆怯]持ち
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;相手が推倒を解除
;==================================================
@M_KOJO_早苗追加_EVENT_K31_30(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
	;疲惫
		PRINTFORML 「哈、哈、哈、哈、…………」
		PRINTFORMW 「………我累了……哈!我这是怎么了……」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
	;满足して解放
		PRINTFORML 「……啊……%UNICODE(0x2665) *1%已经、我满足了%UNICODE(0x2665) *1%」
		PRINTFORMW 「辛苦你了…%UNICODE(0x2665) *1%」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
	;满足したところを被逆推た
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
	;坏れるまでしてあげる
		SELECTCASE RAND:4
			CASE 1
				PRINTFORML 「直到坏掉为止……？%UNICODE(0x2665) *1%」
				PRINTFORMW 「呵呵%UNICODE(0x2665) *1%……啊哈哈%UNICODE(0x2665) *1%」
				PRINTFORMW 「现在知道后悔了吧…%UNICODE(0x2665) *1%」
			CASE 2
				PRINTFORML 「我知道了…%UNICODE(0x2665) *1%　我会把它弄坏的啦%UNICODE(0x2665) *1%」
				PRINTFORML 「我会让你什么都不想的……%UNICODE(0x2665) *1%」
				PRINTFORMW 「做好觉悟吧、%CALLNAME:MASTER%先生……%UNICODE(0x2665) *1%」
			CASE 3
				PRINTFORML 「呵呵%UNICODE(0x2665) *1%　好可爱啊……%UNICODE(0x2665) *1%」
				PRINTFORMW 「这样的话，要不要把他弄晕呢…%UNICODE(0x2665) *1%」 
			CASEELSE
				PRINTFORML 「竟然说那种话……%UNICODE(0x2665) *1%」
				PRINTFORMW 「我绝对不会让你逃跑的……%UNICODE(0x2665) *1%」 
		ENDSELECT
		CALL K31_MASTER逆转经验取得(10)
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;==================================================
;一日の结束时(AFTERTRAニーの前)、认识がなければ呼び出されない
;==================================================
@M_KOJO_早苗追加_EVENT_K31_31(ARG,ARG:1)
;口上主はTARGET
;ARGは会ってない日数
;何日以上会ってなかったら愚痴を言うとかできます
;CFLAG:自慰暴露で分岐入れてもよさそう
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SIF GET_DAY(DAY) == "土" && CFLAG:31:K31_MASTER逆转刻印 > 0
		CFLAG:31:翌日来访 = 1
	
	;CFLAG:31:1012++のままのほうがGREP検索しやすいのでは・・・？
	CFLAG:31:K31_サブイベ1_发生判定フラグ++
	
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;今日会っていない
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今日会っている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;自由行动中
;ARG:1      0=行动中,1=完了时
;技能系の行动は技能レベルが1以上なら发生
;==================================================
@M_KOJO_早苗追加_EVENT_K31_32(ARG,ARG:1)
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 0
		;▼考え事,（～は考えに耽っている。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 1
		;▼玩游戏,（～は走り回っている。）
		;※[幼稚]持ちのみ
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 2
		;▼吃饭,（～は吃饭を摂っている。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 3
		;▼つまみ食い（～はこっそりつまみ食いをしている。）
		;※[妖精]持ちと露米亚、恋、幽幽子、紫苑のみ
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 4
		;▼扫除,（～はテキパキと房间の扫除をしている。）
		;※[扫除系]持ちまたは污臭耐性-1以下のみ
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 5
		;▼运动,（～は张り切って运动している。）
		;※[音乐知识]持ちは除く（演奏になる）
		IF !ARG:1
			;行动中
			PRINTFORML 「呼……呼……哈……哈……」
		ELSE
			;完了时
			PRINTFORML 「呼………」
		ENDIF
	CASE 6
		;▼读书,（～は黙々と本を读んでいる。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 7
		;▼料理,
		IF !ARG:1
			;行动中
			IF Activity_Duration:TARGET > 30
				;料理中（～は轻快に料理をしている。）
				PRINTFORML 
			ELSE
				;吃饭中（～は作った料理を食べている。）
				PRINTFORML 
			ENDIF
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 8
		;▼演奏
		;※[音乐知识]持ちのみ（TALENT:音乐知识で变化）
		;1,～は小气味よく演奏している。
		;2,～は气ままに歌っている。
		;3,～は华丽に踊っている。
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 9
		;▼采集,（～使える素材を探している。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 10
		;▼钓鱼,（～はのんびり钓鱼をしている。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 11
		;▼实验,（～は可疑实验をしている。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 12
		;▼のんびり,（～はのんびりしている。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 13
		;▼晩酌,（～はまったりと酒を饮んでいる。）
		;※酒耐性0以上のみ
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 14
		;▼买い物,（～は气ままに买い物している。）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 15
		;▼说教,（～はじっと闻いている…）
		;※神灵・蓬莱人は除く
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 16
		;▼落とし穴,（～は落とし穴を增やしている）
		;※三月精・琪露诺・克劳恩皮丝のみ
		;それ以外は落ちる侧
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时,
			;（仕挂け人（失败时）,谁も引っかからないので～は饱きてしまったようだ…）
			;（落ちた侧（战斗能力2～4）,～はすぐに穴から飞び出して周りをキョロキョロ见回している…）
			PRINTFORML 
		ENDIF
	CASE 17
		;▼雪だるま作り（～は雪を集めている）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	CASE 18
		;▼炬燵でのんびり（～は炬燵に入って温まっている）
		IF !ARG:1
			;行动中
			PRINTFORML 
		ELSE
			;完了时
			PRINTFORML 
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;ハッピーニューイヤー
;年越しの瞬间に同じ房间に居ると发生
;==================================================
@M_KOJO_早苗追加_EVENT_K31_33(ARG,ARG:1)
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;技能レベルUP
;各ABL值はレベルUP后の值になってます
;==================================================
@M_KOJO_早苗追加_EVENT_K31_34(ARG,ARG:1)
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 1
		;战斗技能
		PRINTFORMW 
	CASE 2
		;话术技能
		PRINTFORMW 
	CASE 3
		;清扫技能
		PRINTFORMW 
	CASE 4
		;教养
		PRINTFORMW 
	CASE 5
		;料理技能
		PRINTFORMW 
	CASE 6
		;采集Lv
		PRINTFORMW 
	CASE 7
		IF ARG:1 == 0
			;音乐技能
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【音乐知识】取得
			PRINTFORMW 
		ELSEIF ARG:1 == 2
			;【相对音感】取得
			PRINTFORMW 
		ENDIF
	CASE 8
		;钓鱼Lv
		PRINTFORMW 
	CASE 9
		IF ARG:1 == 0
			;调合Lv
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【调合知识】取得
			PRINTFORMW 
		ENDIF
	CASE 10
		;采伐Lv
		PRINTFORMW 
	CASE 11
		IF ARG:1 == 0
			;指
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【灵活手指】取得
			PRINTFORMW 
		ENDIF
	CASE 12
		IF ARG:1 == 0
			;舌
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【舌头灵活】取得
			PRINTFORMW 
		ENDIF
	CASE 13
		IF ARG:1 == 0
			;胸
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【淫乳】取得
			PRINTFORMW 
		ENDIF
	CASE 14
		;腰
		PRINTFORMW 
	CASE 15
		IF ARG:1 == 0
			;膣
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【淫壶】取得
			PRINTFORMW 
		ENDIF
	CASE 16
		IF ARG:1 == 0
			;肛门
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【尻穴狂】取得
			PRINTFORMW 
		ENDIF
	ENDSELECT
	PRINTL 
ENDIF
RETURN 1

;==================================================
;デイリーイベント2,梦精
;亲密5以上で发生（来访角色のみ）
;▼地の文--------------------------------------------------
;【MASTER】が梦精で污した内衣を洗っていると【TARGET】が飞んできた！
;【TARGET】はそんなもの他の洗濯物と一绪に洗わないでと抗议すると、【MASTER】の手に收まった内衣を粪だくり戻っていった…
;【TARGET】　情欲の珠＋1000
;==================================================
@M_KOJO_早苗追加_DAILY_EVENT_K31_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を变えたければコメントアウト
;※コメントアウトすると情欲の珠＋1000（JUEL:11 += 1000）もカットされるので注意
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;デイリーイベント4,物思い
;浓厚精液状态で发生
;▼地の文--------------------------------------------------
;とりとめもない思考に耽っていた【TARGET】は、いつの间にか【MASTER】のことを考えていたことに气づいた
;【TARGET】は明日【MASTER】に会いに行くことにしたようだ
;==================================================
@M_KOJO_早苗追加_DAILY_EVENT_K31_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を变えたければコメントアウト
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 「明日は%CALLNAME:MASTER%さんに会いに行くことにしましょう」
	IF CFLAG:31:K31_MASTER逆转刻印 > 2
		PRINTFORMW (ついでにしっかり搾り取って…………ふふっ…)
	ENDIF
ENDIF
RETURN 1

;==================================================
;デイリーイベント12,特训
;信赖100以上で发生（据点角色のみ）
;==================================================
@M_KOJO_早苗追加_DAILY_EVENT_K31_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を变えたければコメントアウト
;コメントアウトできるのはARG:1=1,2のみです
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG:1
	CASE 1
		;特训を赖まれる
		;～から新技の训练に付き合って欲しいと言われた
		PRINTFORML 
	CASE 2
		;拒绝
		;～は残念そうだ
		PRINTFORML 
	CASE 3
		;～の攻击！
		;※ここはWAITしないでください
		PRINTFORML 
	CASE 4
		IF ARG:2
			;时间停止して回避
			PRINTFORML 
		ELSE
			;回避成功
			PRINTFORML 
		ENDIF
	CASE 5
		;回避失败
		PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1


[SKIPSTART]
;-------------------------------------------------
;自慰暴露遭遇时の地の文を默认のものから变更したい场合用。
;その场合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等の角色变量を使用场合、角色番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_ONABARE_1(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K31

IF ARG
	PRINTFORML 玩弄A的场合
ELSE
	PRINTFORML 玩弄V的场合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;自慰暴露でそのまま续けてもらう场合の地の文を默认のものから变更したい场合用。
;その场合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等の角色变量を使用场合、角色番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_ONABARE_2(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K31

IF ARG
	PRINTFORML 玩弄A的场合
ELSE
	PRINTFORML 玩弄V的场合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;自慰暴露无崩しックスの地の文を默认のものから变更したい场合用。
;その场合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等の角色变量を使用场合、角色番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_ONABARE_3(前戏１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戏１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K31

SELECTCASE 前戏１
	CASE 1
		PRINTFORML Ｃ调教
	CASE 2
		PRINTFORML Ｂ调教
	CASE 3
		PRINTFORML Ｍ调教
ENDSELECT

IF 本番はどっちか
	PRINTFORML A正戏
ELSE
	PRINTFORML V正戏
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;处女・无自觉非处女に插入する直前の口上
;RETURN 1すると指令を中止します
;RETURN 0なら通します
;CFLAG:破瓜中止口上有がオンになってないと读み込まれないので注意
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_初回がオンになっている场合のみ有效。
;初めて推倒た时、ここでRETURN -1すると推倒を强制的に中止します。
;RETURN 0なら通常の判定を行い、RETURN 1すると无条件に成功させます。
;特定のイベント（约会归り接吻など）を见るまで诶嘿嘿できないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_通常がオンになっている场合のみ有效。
;合意付きで推倒た时、ここでRETURN -1すると推倒を强制的に中止します。
;RETURN 0なら通常街道成功させます。
;合意があっても何らかの理由で诶嘿嘿できないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_早苗追加_EVENT_K31_PERMISSION_2
;-------------------------------------------------
PRINTFORML 

	;PRINTFORML 「{CFLAG:MASTER:诶嘿嘿}」
	IF CFLAG:MASTER:诶嘿嘿 == 2 &&CFLAG:31:1099 > 0
		IF CFLAG:31:1099 + RAND:3 >= 3
			SETCOLOR C_YELLOW
			PRINTFORML
			PRINTFORMW 很期待%CALLNAME:MASTER%会逆转攻的哦……！
			PRINTFORMW 未能重新获得主动权……
			PRINTFORML
			RESETCOLOR
			RETURN -1
		ENDIF
	ENDIF

RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;房间描写用函数
;口上角色のOMANEKIBEYAか据点の描写に使います
;记入する际はコメントアウトを外してください
;-------------------------------------------------
;@K31_ROOM_DESCRIPTION
;PRINTFORML 例）生活感のない杀风景な房间だ
;-------------------------------------------------


;==================================================
;赠り物イベント
;==================================================
@M_KOJO_早苗追加_EVENT_K31_GIFT(ARG, GIFT_ID, 评价点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 评价点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;评价点       赠り物の评价点（1～999）,口上主があげた场合でも口上主の评价点
;GIFT_NAME    赠り物の名称
;SENSE        赠り物に设定された属性。STRCOUNT(DISH_TASTE, "ほげほげ/")を使用と特定の属性を判定できます。
;GIFT_ID      これ单体では使いません。以下の式内函数を使用とデータを抽出できます（こだわりたい人用）
;　GET_GIFTDATA(GIFT_ID, "回数")    贳った（あげた）回数
;　GET_GIFTDATA(GIFT_ID, "得点")    得点（1～999）,口上テンプレ内では用意されてます。
;　GET_GIFTDATA(GIFT_ID, "日期")    贳った（あげた）日期（1～9999）
;　GET_GIFTDATA(GIFT_ID, "场所")    买った场所（约会の行き先）
;　GET_GIFTDATA(GIFT_ID, "形容词")  形容词番号（赠り物_形容词.erb参照）
;　GET_GIFTDATA(GIFT_ID, "本体")    本体番号（赠り物_本体.erb参照）
;--------------------------------------------------------------------------------------------------
;约会归りに口上主が你に赠り物を渡す（陷落や好感度に关わらず亲密5以上から发生）
;评价点は701～999（渡す角色本人の评价）
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	;PRINTFORMW 「%GIFT_NAME%をあげるから大事に使って」
	PRINTFORML 「嗯……请收下这个吧」
	PRINTFORMW 「这是我的一点心意」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の终わりに今日获得的礼物を大事にする（700点以上）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	;IF STRCOUNT(SENSE, "可爱的/")
	;	PRINTFORMW 「可爱的礼物を贳っちゃった」
	;ELSEIF 评价点 >= 800
	;	PRINTFORMW 「とっても素敌な礼物を贳っちゃった」
	;ELSE
	;	PRINTFORMW 「素敌な礼物を贳っちゃった」
	;ENDIF
	PRINTFORML 「感觉比想象中的还要好呢%CALLNAME:MASTER%先生…」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の终わりに今日获得的礼物をお气に入りにする（↑の大事にするから续き）（700点以上かつ最高得点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "穿戴/")
	;	PRINTFORMW 「明日からこれを付けて行こうっと」
	;ELSE
	;	PRINTFORMW 「明日からこれを持って行こうっと」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の终わりに今日获得的礼物をとりあえず保管する（400～699点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	PRINTFORMW 「总之先装饰一下吧」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の终わりに今日获得的礼物をこっそり质に入れる（400点未满）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「私これ嫌いなのよね～」
	RETURN 1
ENDIF
RETURN 1


;==================================================
;斗虫
;斗虫の口上は少し特殊で、PRINTを使用のではなく、
;台词一行のみをRESULTSに入れてください
;ムシの名前は %MUSHI_NAME% で表示できます
;ムシの名前の最长は亚历珊卓皇后鸟翼蝶の全角14文字です
;文字数制限があります。はみ出ないように气をつけてください
;ARGは残りムシ数か顺位です
;==================================================
@M_KOJO_早苗追加_MESSAGE_COM_K31_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 顺位
SELECTCASE ARGS
CASE "试合前"
	;-------------------------------------------------
	;角色セレクト时,ARGは使えません
	;全角50文字くらいまで
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1
		RESULTS = 「我会给你来一脚的♪」
	ENDIF
CASE "战场に出した"
	;-------------------------------------------------
	;"【（角色）】は《（ムシ）》を战场に出した！」"の直后
	;全角40文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ゆけっ！%MUSHI_NAME%！」
	ENDIF
CASE "攻击时"
	;-------------------------------------------------
	;"【（角色）】《（ムシ）》の『（攻击名）』！」"の直前
	;全角40文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばせ！%MUSHI_NAME%！」
	ENDIF
CASE "倒れた时"
	;-------------------------------------------------
	;"【（角色）】《（ムシ）》は倒れた！！"の直后
	;全角40文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		RESULTS = 「啊哈！我的了%MUSHI_NAME%！」
	ENDIF
CASE "败退时"
	;-------------------------------------------------
	;"【（角色）】败退！！"の直后
	;全角40文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		RESULTS = 「我的虫子被消灭了……」
	ENDIF
CASE "タイマン：胜ち"
	;-------------------------------------------------
	;顺位は1位
	;全角20文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		RESULTS = 「大　胜　利、嘻嘻♪」
	ENDIF
CASE "タイマン：负け"
	;-------------------------------------------------
	;顺位は2位
	;全角20文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		RESULTS = 「我被打败了」
	ENDIF
CASE "バトルロイヤル：优胜"
	;-------------------------------------------------
	;顺位は1位
	;全角30文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「やったー！」
	ENDIF
CASE "バトルロイヤル：２位以下"
	;-------------------------------------------------
	;顺位は2～4位
	;全角30文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「くやし～！」
	ENDIF
CASE "チーム战：胜ち"
	;-------------------------------------------------
	;顺位は1位（やられていても）
	;全角32文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のおかげね！」
	ENDIF
CASE "チーム战：负け"
	;-------------------------------------------------
	;顺位は2位
	;全角32文字まで（カギカッコ含む）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	顺位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「味方が弱い！！」
	ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1

;==================================================
;引力操作
;TCVAR:引力点に场所IDを入れるとその地点に引っ张られていきます
;场所IDと同じ据点Mapでしか效果はありません（博丽神社の境内なら据点が博丽神社のときだけ）
;条件を付けないと永久に引っ张られ继续ので注意
;RANDは基本的に使えません。CFLAG:今日的运势にその日の随机数值（0～999）が入っているのでこれを使用と良いです
;==================================================
@M_KOJO_早苗追加_VENT_K31_GRAVITY(ARG)

SIF 0
	TCVAR:引力点 = 0

;▼共通设定で使われているサンプル
[SKIPSTART]
	;平日の昼间は随机で玩耍に行く
	IF YOUBI_MATCH(DAY, "月火水木金") && INRANGE(TIME, 600, 960)
		SELECTCASE CFLAG:今日的运势 % 5
		CASE 1
			TCVAR:引力点 = P2境内
		CASE 2
			TCVAR:引力点 = P10走廊
		CASE 3
			TCVAR:引力点 = P11庭
		CASE 4
			TCVAR:引力点 = P25镇守之森
		CASEELSE
			TCVAR:引力点 = 0
		ENDSELECT
	ENDIF
	;水木曜日に2分の1の概率で玩耍に行く
	SIF YOUBI_MATCH(DAY, "水木") && INRANGE(TIME, 720, 1020) && CFLAG:今日的运势 % 2 == 0
		TCVAR:引力点 = P213铃奈庵
	;特定の人物が特定の场所にいるとそこへ引っ张られる
		SIF CFLAG:[[白莲]]:当前位置 == P103本堂 && !CFLAG:[[白莲]]:诶嘿嘿 && SHIRAHU([[白莲]])
			TCVAR:引力点 = P103本堂
	;土日に10分の1の概率で特定の人物にくっついてまわる
	SIF YOUBI_MATCH(DAY, "土日") && CFLAG:今日的运势 % 10 == 0 && !CFLAG:[[觉]]:诶嘿嘿 && SHIRAHU([[觉]])
		TCVAR:引力点 = CFLAG:[[觉]]:当前位置
[SKIPEND]

;==================================================
;打西瓜
;打西瓜の口上は斗虫同样、PRINTを使用のではなく、
;台词一行のみをRESULTSに入れてください
;カギ括弧は自动で付きます
;"冲突"时のみ、口上色が自动で付きます
;"冲突"时以外は半角26文字（全角13文字）までの文字数制限があります。はみ出ないように气をつけてください
;数パターンあると雰囲气が出ます（%TEXTR( / )%を使用と良い）
;==================================================
@M_KOJO_MESSAGE_早苗追加_COM_K31_SUIKA(ARGS)
;-------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1
	SELECTCASE ARGS
	CASE "冲突"
		;-------------------------------------------------
		;场外に出て你が角色と冲突した际の台词
		;文字数制限はありません,泛用台词もありません
		;-------------------------------------------------
		RESULTS = いたっ！ 稍微、危ないじゃないのよ！
	CASE "そこだ！"
		RESULTS = %TEXTR("そこ！/今！")%
	CASE "近い"
		RESULTS = %TEXTR("近い！近いよ！/近づいてるよ！/あと稍微！")%
	CASE "远い"
		RESULTS = %TEXTR("まだ远いよ/まだまだ～")%
	CASE "かなり远い"
		RESULTS = %TEXTR("全然远いよー/まだまだずっと远いー")%
	CASE "前"
		RESULTS = %TEXTR("前にあるよ/そのまま、そのまま/そっちそっち")%
	CASE "少し前"
		RESULTS = %TEXTR("稍微だけ前！/すこーし前/あと一歩！")%
	CASE "后ろ"
		RESULTS = %TEXTR("后ろ向いてる！/逆、逆！/そっちじゃないよー")%
	CASE "少し后ろ"
		RESULTS = %TEXTR("すぐ后ろだよ！/すこーし后ろ/一歩后ろ！")%
	CASE "右"
		RESULTS = %TEXTR("右だよ/右、右/もっと右")%
	CASE "少し右"
		RESULTS = %TEXTR("稍微だけ右/まだ右かな")%
	CASE "左"
		RESULTS = %TEXTR("左だよ/左、左/もっと左")%
	CASE "少し左"
		RESULTS = %TEXTR("稍微だけ左/まだ左かな")%
	ENDSELECT
ENDIF
