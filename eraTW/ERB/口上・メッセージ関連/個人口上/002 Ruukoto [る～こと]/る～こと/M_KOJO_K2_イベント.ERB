;-------------------------------------------------
; eraTheWorld 4.611用 留琴口上
;-------------------------------------------------
;他者による修正、追加、改变については、同梱のライセンス条项に从ってください。

;**** FlagManagement **********************************************************
;本口上にて使用しているCFLAG・TCVAR等
;
;CFLAG:2:1001	真正风骚判定用。心だけでなく体もやりまくりの真正风骚なら１。初对面かUPDATEのとき选择する。
;CFLAG:2:1002	CFLAG:1001を选择完毕みかどうかのフラグ
;
;******************************************************************************
;******************************************************************************
;FIRSTTIME()によってCSTR:2:0に追加した独自の文字列
;
;"胖次没收"			EVENT_K2_9
;"MASTERを推倒た"	EVENT_K2_10
;
;******************************************************************************

;### 口上存在判定 ###################################
@M_KOJO_K2(ARG)
;别人版を作成する际はこのテンプレではなく别人版用口上テンプレをご利用ください

;口上存在判定です、けしてコメントアウトしないでください
;他の处理は一切行わないように
RETURN 1

;### 口上基本フラグ设定 #############################
@M_KOJO_FLAGSETTING_K2
;基本フラグ设定はここで行ってください
;共通の口上フラグは必要な部位のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xには角色番号を入れてください

;眠奸口上有、时间停止口上有、扮演に1を入れると、それぞれ时间停止时、眠奸时、扮演时に指令口上が读み込まれるように
;入れないと时间停止时、眠奸时、扮演时は一切喋りません
;CFLAG:X:眠奸口上有 = 0
;CFLAG:X:时间停止口上有 = 0
;CFLAG:X:扮演口上有 = 0

;破瓜中止口上有に1を入れると、@M_KOJO_EVENT_KX_LOST_VIRGIN_STOPで中止の成否を操作できます
;CFLAG:X:破瓜中止口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_KX_PERMISSIONで推倒の成否を操作できます
;CFLAG:X:口上内抱き寄せ判定_初回 = 0
;CFLAG:X:口上内抱き寄せ判定_通常 = 0

;推倒禁止に1を入れると、主动推倒てこなくなります
;以下は恋慕か炮友がつくまで推倒てこなくなる使用例
;IF !TALENT:X:恋慕 && !TALENT:X:炮友
;	CFLAG:X:推倒禁止 = 1
;ELSE
;	CFLAG:X:推倒禁止 = 0
;ENDIF

;来访不能に1を入れると、来访してこなくなります
;以下は认识があるまで来访してこなくなる使用例
;IF !CFLAG:X:认识
;	CFLAG:X:来访不能 = 1
;ELSE
;	CFLAG:X:来访不能 = 0
;ENDIF

;### 口上色判定 ###################################
@M_KOJO_COLOR_K2

SETCOLOR 0xA0FF00



;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_UPDATE_K2
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ场合等にどうぞ
;UPDATE判定でCFLAG等の角色变量を使用场合、角色番号の指定が必要になります

;留琴が风骚、留琴と认识がある、真正风骚か否か选择完毕みのフラグが立っていない
IF TALENT:2:风骚 && CFLAG:2:认识 && CFLAG:2:1002 == 0
	PRINTFORML 这个留琴是虽然心灵淫靡，但身体纯洁的类型吗？
	PRINTFORML 还是说，是身体经验丰富的真风骚吗？
	PRINTFORML （选哪个都不会对素质和经验等生产实际影响。只是单纯的趣味要素而已）
	PRINTFORML 
	
	CALL ASK_YN("身体是纯情类型","身经百战的真正风骚")
	IF RESULT == 0
		CFLAG:2:1001 = 0
		PRINTFORMW 我确信不是真正的风骚。
	ELSEIF RESULT == 1
		CFLAG:2:1001 = 1
		PRINTFORMW 我确信是真正的风骚。
	ENDIF
	
	;选择完毕みフラグを立てる
	CFLAG:2:1002 = 1
ENDIF

RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ构文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_ENCOUNTER_K2
;初对面、挨拶のタイミング
;TALENTの变更はここでどうぞ。
;経験の变更は龃龉が出る场合がありますので、CSVを修正し同梱する事を推奖します

PRINTL
PRINTFORMDW 有个穿着洋装围裙的女仆样少女。
;灵梦か魅魔か千百合か梦美か魔理沙に扮演
IF GROUPMATCH(FLAG:扮演,1,4,8,9,11)
	PRINTFORMDW 由%CALLNAME:9%制作的人类女仆，%CALLNAME:TARGET%。
	PRINTFORMW 「啊，%CALLNAME:MASTER%大人♪」
	PRINTFORMDW 注意到了%CALLNAME:MASTER%的%CALLNAME:TARGET%用笑容打招呼了。
ELSE
	PRINTFORMW 「啊，初次见面」
	PRINTFORMDW 发现了%CALLNAME:MASTER%的少女点头行礼。
	PRINTFORMW 「我是博丽神社的女仆%CALLNAME:TARGET%。」
	;据点が博丽神社
	IF GET_MAPNAME(MAIN_MAP) == "博丽神社"
		PRINTFORMW 「你是帮忙打扫房间的人吧。」
		IF ABL:清扫技能 >= 2
			PRINTFORMW 「请多关照。一起努力工作吧」
		ELSE
			PRINTFORMW 「不好意思，其实我不太擅长打扫卫生……」
			PRINTFORMW 「所以，帮了大忙。请多关照」
		ENDIF
	;据点が博丽神社以外
	ELSE
		PRINTFORMDW 听说%CALLNAME:MASTER%最近来了这里，所以来打个招呼。
		PRINTFORMW 「来博丽神社参拜的客人很少……」
		PRINTFORMW 「所以，如果近期有空的话，一定要去看看哦」
	ENDIF
ENDIF
PRINTL

;风骚なら真正风骚か否か选择肢を出す
IF TALENT:风骚
	PRINTFORMDW 面对结束了寒暄的%CALLNAME:MASTER%，%CALLNAME:TARGET%用妖媚的眼神看着我。
	PRINTFORMDW 当%CALLNAME:MASTER%不知所措时，%CALLNAME:TARGET%更加……
	PRINTL
	PRINTFORMDL （选择了「放松胸部来展示自己」的时候，虽然心里是风骚，但是身体却是纯粹的类型）
	PRINTFORMDL （选择「拉着手把身体靠过来」的时候，身体的经验也会成为丰富的）
	PRINTFORMDL （无论选择哪个，对素质和经验都没有影响。仅是趣味元素）
	PRINTL
	LOCAL = GETCOLOR()
	SETCOLOR GETDEFCOLOR()
	CALL ASK_YN("放松胸口来展示魅力","拉着手靠近身体")
	SETCOLOR LOCAL
	IF RESULT == 0
		CFLAG:2:1001 = 0
		PRINTFORMDW 把胸膛敞开，向%CALLNAME:MASTER%引诱着。
		PRINTFORMDW 难道是相当的\@ TALENT:MASTER:性别 == 2 ?渴求男性 #欲求不满 \@吗？这种样子也许会立刻让我有反应。
	ELSEIF RESULT == 1
		CFLAG:2:1001 = 1
		PRINTFORMDW 牵起%CALLNAME:MASTER%的手靠近身体。
		IF GROUPMATCH(FLAG:扮演,1,4,8,9,11)
			CALL K2_HPH_PRINT,@"「%CALLNAME:MASTER%大人还是一如既往的美丽呢HPH」","W"
			PRINTFORMW 「但是，我这份奖品几乎没有男人能抽到……您也是要忍耐下去吗？」
			CALL K2_HPH_PRINT,@"「我是机器人，不会生病……所以实际上很有人气的，在那种方面HPH」","W"
			CALL K2_HPH_PRINT,@"「%CALLNAME:MASTER%大人觉得怎么样？HPH」","W"
		ELSE
			PRINTFORMW 「其实，我是机器人。」
			CALL K2_HPH_PRINT,@"「所以……\@ !EXP:分娩经验 && !CFLAG:妊娠自觉状态 ?不会怀孕，也不会生病 #不会生病，身体很好 \@…… 很受欢迎哦HPH」","W"
			CALL K2_HPH_PRINT,@"「%CALLNAME:MASTER%大人好像也不讨厌呢HPH」","W"
		ENDIF
		PRINTFORMDW %CALLNAME:TARGET%和外表相反，确实很风骚。
	ENDIF
	PRINTL
	;选择完毕みフラグを立てる
	CFLAG:2:1002 = 1
ENDIF

RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;约会归りにファーストKISS（合意も付く）
;==================================================
@M_KOJO_SPEVENT_K2_1(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORML  
	;接吻を中止したい场合は以下を开放
	;TCVAR:中止接吻 = 1
ENDIF
RETURN 1

;==================================================
;约会归りに告白（恋人が付く）
;==================================================
@M_KOJO_SPEVENT_K2_2(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示后に接受かどうかの选择分が表示されます
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失败
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;约会归り
;==================================================
@M_KOJO_SPEVENT_K2_3(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印消去イベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印2>1レベルダウンイベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反抗刻印3>2レベルダウンイベント
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;房间で遭遇
;==================================================
@M_KOJO_EVENT_K2_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERが入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMW 「啊，%CALLNAME:MASTER%大人。有什么事吗？」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが澡堂に入ってきて一绪に入る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが澡堂に入ってきて出て行った
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが澡堂に入ってきて追い出された
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;外出先で遭遇した
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;他角色と约会中に遭遇した
	;ARG:1に约会的对象
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_EVENT_K2_2(ARG,ARG:1)
CALL MESSAGE_GOODMONING(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;非同栖かつ相手が先に起きてる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;TARGET私室にMASTERが入っている（恋慕时陪睡中就寝时のみ？
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER私室にTARGETが入ってきてる(恋慕无しでも入ってくる可能性有り
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF K2_CONSCIOUS_AND_TOLERANT()
				IF TALENT:恋慕 || TALENT:恋人
					CALL K2_HPH_PRINT,@"「早上好♪ 哎嘿嘿、我来打扫房间了HPH」","W"
				ELSE
					PRINTFORMW 「早上好。要打扫房间了」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同栖かつ相手が起きている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORM 「早上好♪ 
			SELECTCASE RAND:3
			CASE 1
				PRINTFORML 现在为您准备饮料」
			CASE 2
				PRINTFORML 今天的饭菜在这儿吃怎么样？」
			CASEELSE
				PRINTFORML 啊，想睡了。为你整理一下吧」
			ENDSELECT
			PRINTFORMDW %CALLNAME:TARGET%贴心地照顾%CALLNAME:MASTER%。
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同栖かつ相手が寝ている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERが起きていて、相手が起きてきた
	;添い寝时TARGET起床はこちら（TARGET衰弱or陪睡中TARGET睡魔负け后そのままMASTERが起き续けた上で相手が起床した场合限定
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;非同栖
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;同栖中
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_EVENT_K2_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;自室に返回（定时になって寝る）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMW 「哇……实在对不起，我应该告辞了」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;眠そうにしている
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;睡眠中（起きていないので会话というよりは寝言？）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;恶作剧中
	;记入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;衰弱中（恋慕付き据点内角色がMAIN_MAPで衰弱状态になった场合か、待客室で相手が衰弱した场合に发生
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（房间まで运ばれる）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが自室まで回来了
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;そのまま更衣て寝た
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;房间から追い出された
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;他角色とのＨを止めさせて寝た
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;非在住TARGETがMAIN_MAPで休憩
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;前のターンから一绪的房间にいる状态で相手が寝る（待客室含む（
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;移动时すれちがい
;==================================================
@M_KOJO_EVENT_K2_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;立ち止まった
	;この后遭遇口上に接续
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;轻轻地会釈して街道过ぎた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMW 「当心哦~」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无视して街道过ぎた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMDW %CALLNAME:TARGET%点头行礼。
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;他者介入で情绪变化
;==================================================
@M_KOJO_EVENT_K2_5(ARG,ARG:1)
;口上主はTARGET
;ARGに入ってきた角色（人数が膨大なので、自己把握自己责任で
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;灵梦が入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;留琴が入ってきた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他（角色指定无
	IF K2_CONSCIOUS_AND_TOLERANT()
		IF !CFLAG:诶嘿嘿
			IF TALENT:恋慕 || TALENT:爱欲
				PRINTFORMW 「啊，有人来了。」
			ENDIF
		ELSE
			IF TALENT:恋慕 || TALENT:爱欲
				CALL K2_HPH_PRINT,@"「啊，有人来了HPH」","W"
			ELSE
				PRINTFORMW 「啊呀，好像有人要来了，怎么办呢？」
			ENDIF
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;情事を目击した
;==================================================
@M_KOJO_EVENT_K2_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を目击した（亲热度:低）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;负けじと参加（亲热度:高）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		IF TALENT:恋人
			PRINTFORML 「啊，%CALLNAME:MASTER%大人。为什么要把我当作外人？」
			PRINTFORMDL 目击了%CALLNAME:ARG%和%CALLNAME:MASTER%的情事的%CALLNAME:TARGET%，嫉妒了的样子慢慢接近。
			PRINTFORML 「啊，%CALLNAME:MASTER%大人老是出轨……」
			CALL K2_HPH_PRINT,@"「果然，我还是得负起责任来为您榨出呢HPH」","W"
		ELSEIF TALENT:恋慕 || TALENT:爱欲
			PRINTFORMDL 目击了%CALLNAME:ARG%和%CALLNAME:MASTER%的情事的%CALLNAME:TARGET%，浮起了可怕的微笑。
			;主人に恋人がいない
			SIF !TALENT:MASTER:恋人
				PRINTFORML 「啊，%CALLNAME:MASTER%大人。好像只有我一个人无法满足呢」
			CALL K2_HPH_PRINT,@"「这么有活力的话，您也要连同我一起爱吧？HPH」","W"
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;气まずそうに立ち去る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF GET_MAPNAME(GET_MAPID(CFLAG:MASTER:当前位置)) == "博丽神社"
			PRINTFORMW 「啊，那个，我想打扫一下……对不起，以后我会注意的」
		ELSE
			PRINTFORMW 「啊，那么，失礼了。」
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;情事を见られた
;==================================================
@M_KOJO_EVENT_K2_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目击者
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を见られた（目击者の亲热度:低）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		IF K2_CONSCIOUS_AND_TOLERANT()
			;据点が博丽神社
			IF GET_MAPNAME(MAIN_MAP) == "博丽神社"
				IF TALENT:恋慕 || TALENT:爱欲
					CALL K2_HPH_PRINT,@"「不工作而在这偷懒、果然被人看见了HPH」","L"
					PRINTFORM 「但是，还不能结束吧？
					;目击者が灵梦
					IF ARG == 1
						CALL K2_HPH_PRINT,@"也许会被挨灵梦大人的骂，但是没关系HPH」","W"
					ELSE
						PRINTFORMW 」
					ENDIF
				ELSE
					PRINTFORMW 「怎、怎么办呢。现在偷懒不工作，却做这种事……」
				ENDIF
			ELSE
				IF TALENT:恋慕 || TALENT:爱欲
					PRINTFORML 「吓了一跳。怎么办？已经放弃了吗？
					PRINTFORMDL %CALLNAME:MASTER%无言地再次抱住了%CALLNAME:TARGET%。
					CALL K2_HPH_PRINT,@"「啊HPH ……我明白了HPH」","W"
				ELSE
					PRINTFORMW 「吓，吓了我一跳。」
				ENDIF
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者が负けじと参加（目击者の亲热度:高）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者が立ち去る
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF K2_CONSCIOUS_AND_TOLERANT()
			;据点が博丽神社
			IF GET_MAPNAME(MAIN_MAP) == "博丽神社"
				IF TALENT:恋慕 || TALENT:爱欲
					CALL K2_HPH_PRINT,@"「不工作而在这偷懒、果然被人看见了HPH」","L"
					PRINTFORM 「但是，还不能结束吧？
					;目击者が灵梦
					IF ARG == 1
						CALL K2_HPH_PRINT,@"也许会被挨灵梦大人的骂，但是没关系HPH」","W"
					ELSE
						PRINTFORMW 」
					ENDIF
				ELSE
					PRINTFORMW 「怎、怎么办呢。现在偷懒不工作，却做这种事……」
				ENDIF
			ELSE
				IF TALENT:恋慕 || TALENT:爱欲
					PRINTFORML 「吓了一跳。怎么办？已经放弃了吗？
					PRINTFORMDL %CALLNAME:MASTER%无言地再次抱住了%CALLNAME:TARGET%。
					CALL K2_HPH_PRINT,@"「啊HPH ……我明白了HPH」","W"
				ELSE
					PRINTFORMW 「吓，吓了我一跳。」
				ENDIF
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;目击した情事を诘问（现在无し
;==================================================
@M_KOJO_EVENT_K2_8(ARG,ARG:1)
RETURN 1

;==================================================
;胖次没收された
;==================================================
@M_KOJO_EVENT_K2_9(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;初めて
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && FIRSTTIME("胖次没收",0,2)
		PRINTFORMW 「哎呀，有什么东西露出来了。」
		PRINTFORMW 「这、这是……」
		PRINTFORM 「原来如此……」
		;据点が博丽神社
		IF GET_MAPNAME(MAIN_MAP) == "博丽神社"
			PRINTFORM 总是在忙碌地给我们打扫
		;据点が博丽神社以外
		ELSE
			PRINTFORM 打扫得很干净
		ENDIF
		PRINTFORMW 「就是这样……」
		PRINTFORMDW 被%CALLNAME:TARGET%瞪了一眼。
		RETURN 1
	ENDIF
	;二回目以降
	PRINTFORML 「又在打扫的时候偷东西了吗……」
	;据点が博丽神社
	IF GET_MAPNAME(MAIN_MAP) == "博丽神社"
		PRINTFORML 「哈……要是我能一个人好好打扫的话……」
		PRINTFORMDW %CALLNAME:TARGET%感觉自己对这件事负有责任。
	ELSE
		PRINTFORMDW %CALLNAME:TARGET%叹了口气。
	ENDIF
ENDIF
RETURN 1

;==================================================
;推倒た
;==================================================
@M_KOJO_EVENT_K2_10(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;诶嘿嘿==2（开始时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;MASTERを推倒た（开始时）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF K2_CONSCIOUS_AND_TOLERANT() && !TALENT:无知
				;初めて
				IF FIRSTTIME("MASTERを推倒た",0,2)
					;诶嘿嘿既成事实无
					IF ( CFLAG:既成事实 & 2 ) == 0
						;处女ビッチ
						IF TALENT:风骚 && !CFLAG:1001 && ( TALENT:处女 == 1 || TALENT:处女 == -1 )
							CALL K2_HPH_PRINT,@"「我再也不能忍受了HPH 要袭击了哦HPH」","W"
							PRINTFORMDW %CALLNAME:TARGET%这样说着，突然推倒了%CALLNAME:MASTER%。
							;两面通吃でも讨厌男人でもなく、かつ主人が男
							IF TALENT:性别嗜好 != -1 && TALENT:性别嗜好 != 1 && TALENT:MASTER:性别 == 2
								PRINTFORMW 「我一直那种事情很感兴趣，但是博丽神社里尽是女人……」
								CALL K2_HPH_PRINT,@"「所以、自从%CALLNAME:MASTER%大人\@ GET_MAPNAME(MAIN_MAP) == "博丽神社" ?来了 #与我相遇 \@之后、我就想象着会遭遇这样的袭击。HPH」","W"
							ELSE
								PRINTFORMW 「我一直那种事情很感兴趣，但至今为止都没有那种缘分……」
								CALL K2_HPH_PRINT,@"「但是，%CALLNAME:MASTER%大人总给我一种很奇怪的感觉……已经受不了了HPH」","W"
							ENDIF
						;真正风骚
						ELSEIF CFLAG:1001
							CALL K2_HPH_PRINT,@"「%CALLNAME:MASTER%大人真讨厌HPH 现在的气氛好奇怪HPH」","W"
							CALL K2_HPH_PRINT,@"「像我这样习惯于张开双脚的女人，真想把你榨干HPH」","W"
						;其他
						ELSE
							PRINTFORMW 「你或许觉得我是个不成熟的女人吧……」
							PRINTFORMW 「但我无论如何都无法忍受。请原谅我」
							PRINTFORMDW %CALLNAME:TARGET%一这么说就向%CALLNAME:MASTER%扑了上来。
						ENDIF
					;诶嘿嘿既成事实あり
					ELSE 
						;风骚
						IF TALENT:风骚
							CALL K2_HPH_PRINT,@"「哎嘿嘿HPH 也不知道为什么、今天由我来主动吧HPH」","W"
						;非风骚
						ELSE
							PRINTFORMW 「因为%CALLNAME:MASTER%大人……我……我变成了可恶的女人」
						ENDIF
					ENDIF
					RETURN 1
				ENDIF
				;二回目以降
				IF TALENT:恋人 || TALENT:恋慕
					CALL K2_HPH_PRINT,@"「%CALLNAME:MASTER%大人HPH」","L"
					SIF !K2_EXCESSIVE_STATURE_GAP()
						PRINTFORMDL 抓住%CALLNAME:TARGET%的手腕把身体靠近了。
					IF !FLAG:甲斐性无 && RAND:2
						CALL K2_HPH_PRINT,@"「今天就交给我吧HPH」","W"
					ELSE
						CALL K2_HPH_PRINT,@"「哎嘿嘿HPH 我也很想要HPH」","W"
					ENDIF
				ELSEIF TALENT:风骚 || TALENT:爱欲
					CALL K2_HPH_PRINT,@"「又来了吗？HPH 希望能让%CALLNAME:MASTER%舒服起来HPH」","W"
				ELSE
					PRINTFORMW 「对不起……另外……我忍不住了」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTERに抱きついた（开始时）
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;なだめられた（结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;抜け出した
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF K2_CONSCIOUS_AND_TOLERANT() && !TALENT:无知
				IF TALENT:恋人 || TALENT:恋慕 || TALENT:爱欲 || TALENT:风骚
					PRINTFORML 「咦 已经结束了吗？」
					IF CFLAG:积攒度 >= 300
						CALL K2_HPH_PRINT,@"「唔～HPH 我还想继续…HPH」","L"
						PRINTFORMDW %CALLNAME:TARGET%依然大喘着气湿润着眼睛看着你。
					ELSE
						CALL K2_HPH_PRINT,@"「…满足了。下次再多做一点吧HPH」","W"
					ENDIF
				ELSEIF TALENT:炮友
					PRINTFORML 「啊…已经……结束了吗…？」
					SIF CFLAG:积攒度 >= 300
						PRINTFORMDL %CALLNAME:TARGET%好像并不满足的样子。
					WAIT
				ELSE
					PRINTFORML 「啊…您很讨厌这样吧……对不起……」
					SIF CFLAG:积攒度 >= 300
						PRINTFORMDL %CALLNAME:TARGET%虽然低下了头，但坏心情还没有平息的样子，还很起劲。
					WAIT
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;抱き着きモード满足结束
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;抱き着きモード强制结束
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;摆脱失败
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;随便状态から抜け出せなかった
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;欲求不满が高くて抜け出せなかった
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		
		IF K2_CONSCIOUS_AND_TOLERANT() && !TALENT:无知
			IF TALENT:恋人 || TALENT:恋慕 || TALENT:爱欲 || TALENT:风骚
				SELECTCASE RAND:2
				CASE 1
					CALL K2_HPH_PRINT,@"「呀HPH 不许逃HPH 还远远不够哦HPH」","W"
				CASEELSE
					CALL K2_HPH_PRINT,@"「别离开我HPH 请再多爱我一点HPH」","W"
				ENDSELECT
			ELSE
				PRINTFORML 「…对不起……我还想要……」
				PRINTFORMDW %CALLNAME:TARGET%紧紧地抱住不放手。
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;浴场で遭遇
;==================================================
@M_KOJO_EVENT_K2_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出された
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:爱欲
			PRINTFORMW 「诶呀、我很害羞、快出去吧」
		ELSE
			PRINTFORMW 「啊呀！快，快出去！」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目が合った（追い出されない）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 「啊，是%CALLNAME:MASTER%大人。一起怎么样？洗澡水烧得正好」
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み
;==================================================
@M_KOJO_EVENT_K2_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出される（愤怒）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕・衰弱）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される（衰弱）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;工作中
;==================================================
@M_KOJO_EVENT_K2_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている工作量
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;工作开始（职场へ移动する）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMW 「非常抱歉。我有工作要做，失礼了」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;业务中
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;工作结束
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;吃饭系
;==================================================
@M_KOJO_EVENT_K2_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;持っていた食物を食べられた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;MASTERが推倒た
;==================================================
@M_KOJO_EVENT_K2_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未实装（推倒指令に统合？
	;MASTERが推倒た（ウフフ开始时）
	;记入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;逢濑结束（ウフフ结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 2
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;事后描写
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;精液が垂れてきた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF ( TALENT:恋慕 || TALENT:爱欲 ) && !TALENT:无知
				CALL K2_HPH_PRINT,@"啊HPH 您的精液"
				SIF SOAKED_OR_NOT("V_SEMINAL")
					PRINTFORM 从蜜穴
				SIF SOAKED_OR_NOT("A_SEMINAL")
					PRINTFORM \@ SOAKED_OR_NOT("V_SEMINAL") ?和 # \@菊门
				CALL K2_HPH_PRINT,@"「流出来了HPH」","L"
			ELSE
				PRINTFORML 「啊……流出来了……」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;爱液が垂れてきた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			IF ( TALENT:恋慕 || TALENT:爱欲 ) && !TALENT:无知
				CALL K2_HPH_PRINT,@"「哈啊HPH 两腿间又湿又粘HPH」","L"
			ELSE
				PRINTFORML 「嗯……已经湿透了……」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;事后の情绪
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;服を着る
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			IF TALENT:恋慕 || TALENT:恋人 || ( ABL:侍奉精神 >= 5 && ( TALENT:爱欲 || TALENT:思慕 || TALENT:炮友 ) )
				PRINTFORMDL %CALLNAME:MASTER%整理服装时，%CALLNAME:TARGET%帮忙了。
				PRINTFORML 「啊、这次好快……就这样吧♪」
			ELSE
				PRINTFORMDL %CALLNAME:MASTER%擦了擦汗，整理了服装。
			ENDIF
			PRINTW
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;陪睡
;==================================================
@M_KOJO_EVENT_K2_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;添い寝を始めた（开始时）(存在せず
	;记入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;添い寝を结束した（结束时）
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;时止め结束时
;==================================================
@M_KOJO_EVENT_K2_17(ARG,ARG:1)
;口上主はTARGET
;排他と明记されていないモノは状况によっては连续で表示されるので注意
;ARGに射精状况
;ARG:1に射精状态
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3は排他
	;谜の快感
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;绝顶
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;胖次遗失
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉口内射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精饮
		IF ARG:1 == 1
		;精液中毒低吐き出し
		ELSEIF ARG:1 == 2
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
		;精液中毒高精饮
		ELSEIF ARG:1 == 4
		;浓厚精液＆精液中毒低吐き出し
		ELSEIF ARG:1 == 5
		;浓厚精液＆精液中毒高精饮
		ELSEIF ARG:1 == 6
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉颜面射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;幼稚持ち＆精液经验100未满
		IF ARG:1 == 1
		;通常ぬぐい取り
		ELSEIF ARG:1 == 2
		;颜射精液舐めとり
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉手淫射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;ぬぐい取り
		IF ARG:1 == 1
		;舐めとり
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉肛门射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Ａ感觉2以下
		IF ARG:1 == 1
		;ソレ以外
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉处女丧失】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【无自觉膣内射精】
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;非处女嫩穴内射精口服避孕药无
		IF ARG:1 == 1
		;非处女嫩穴内射精口服避孕药あり
		ELSEIF ARG:1 == 2
		;处女嫩穴内射精
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;时间停止解除共通
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ时
;==================================================
@M_KOJO_EVENT_K2_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避孕要求台词
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断った
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断ったのに粘られて切れた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危险日以外许可
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危险日许可
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;神社暮らしを承认して贳う
;==================================================
@M_KOJO_EVENT_K2_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;认められる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;认められない
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;回家时
;==================================================
@M_KOJO_EVENT_K2_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会中回家
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;玄关先でお见送り
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陷落素質取得时
;==================================================
@M_KOJO_EVENT_K2_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;爱欲取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;爱人取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;炮友取得
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;调教结束时に自慰
;==================================================
@M_KOJO_EVENT_K2_22(ARG,ARG:1)
;口上主はARG
;ARG:0に自慰状况
;ARG:1に自慰种类
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;通常自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同室时自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;中だし精液自慰
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无知持ち（自慰经验(调教自慰经验は差し引き)による分岐あり
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:自慰经验 - EXP:调教自慰经验
		;无知消去イベントあり（表示は一度だけ
		IF LOCAL:1 >= 25
		;地の文分岐。书きたい场合は[SKIPSTART][SKIPEND]を削除してください
		[SKIPSTART]
		ELSEIF LOCAL:1 >= 20
		ELSEIF LOCAL:1 >= 15
		ELSEIF LOCAL:1 >= 10
		ELSEIF LOCAL:1 >= 5
		[SKIPEND]
		ELSE
		ENDIF
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質あり自慰中毒高め
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;Ｃ敏感orＣ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｖ敏感orＶ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ａ敏感orＡ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｂ敏感orＢ感觉10以上
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部位指定无し
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切书かずに、ここに书くことで陷落素質あり自慰中毒高め自慰の共通口上を表示することが出来ます
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰中毒高め
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;尻穴膣腔同时
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;膣腔のみ
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切书かずに、ここに书くことで自慰中毒高め自慰の共通口上を表示することが出来ます
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;我慢
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;其他
	;上の分岐を一切书かずに、ここに书くことで自慰の共通口上を表示することが出来ます
	PRINTFORML  
	RETURN 1
ENDIF
RETURN 1
;==================================================
;浴场连れだし
;==================================================
@M_KOJO_EVENT_K2_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;断られた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一绪に入ってくれた
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF K2_CONSCIOUS_AND_TOLERANT()
			PRINTFORMW 「啊，在浴室吗？那么让我帮您擦一下后背吧」
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;怀孕
;==================================================
@M_KOJO_EVENT_K2_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質无し
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无自觉
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;出产
;==================================================
@M_KOJO_EVENT_K2_25(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陷落素質无し
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无自觉
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;自慰暴露
;==================================================
@M_KOJO_EVENT_K2_26(ARG,ARG:1)

;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;见られた瞬间
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;什么也不做
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;そのまま续行
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;逐出
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;やっちゃう
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事后
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 6
		;事后お泊り
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
	ENDSELECT
ENDIF

;==================================================
;相手から约会のお诱い
;==================================================
@M_KOJO_EVENT_K2_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;诱い文句
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;受けた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;断った
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;房间に诱われた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;房间に诱われたのを受けた
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;房间に诱われたのを断った
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_EVENT_K2_28(ARG,ARG:1)
;口上主はTARGET
;ARGに脱がし方选择
;ARG:1（ARG=3の场合のみあり）地の文の反应
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;全裸にする
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;变成只穿内衣的样子
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;半脱
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			;时间停止时
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;胖次ちょうだい
		;记入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;交换です
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK（嬉々
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK（渋々
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 3
				;嫌です
				;记入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 0
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				RETURN 1
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;愤怒口上
;==================================================
@M_KOJO_EVENT_K2_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの胆量で分岐
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;怒らせてしまった
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;泣かせてしまった　[胆怯]持ち
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;相手が推倒を解除
;==================================================
@M_KOJO_EVENT_K2_30(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;记入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;疲惫
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人 || TALENT:恋慕 || TALENT:爱欲 || TALENT:风骚
			PRINTFORMW 「哈…虽然还想再多做一点……但我累了」
		ELSE
			PRINTFORML 「哈……哈……对不起……」
			PRINTFORMDW %CALLNAME:TARGET%疲惫地离开了%CALLNAME:MASTER%的身体。
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;满足して解放
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋人 || TALENT:恋慕 || TALENT:爱欲 || TALENT:风骚
			IF K2_SEXUAL_FRANKNESS() && !RAND:3
				CALL K2_HPH_PRINT,@"「哈啊HPH 真棒HPH」","L"
			ELSEIF RAND:2
				CALL K2_HPH_PRINT,@"「哈啊、哈啊HPH 我爱你HPH」","L"
			ELSE
				CALL K2_HPH_PRINT,@"「感谢您对我的爱HPH」","L"
			ENDIF
			PRINTFORMDW %CALLNAME:TARGET%满足地微笑着，最后亲吻了%CALLNAME:MASTER%的脸颊，放开了身体。
		ELSE
			PRINTFORML 「实在很抱歉。我真的……」
			PRINTFORMDW %CALLNAME:TARGET%为自己因%TEXTR("欲望/色欲")%而对%CALLNAME:MASTER%的采取的袭击行为道歉了。
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;满足したところを被逆推た
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;坏れるまでしてあげる
	;记入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1




[SKIPSTART]
;-------------------------------------------------
;自慰暴露遭遇时の地の文。
;默认のものと置き换えたい场合は上下のSKIPSTART~SKIPENDを外してください。
;置き换える气がないならスルー。
;-------------------------------------------------
@M_KOJO_EVENT_K2_ONABARE_1(ARG)
;-------------------------------------------------
IF ARG
	PRINTFORML 玩弄A的场合
ELSE
	PRINTFORML 玩弄V的场合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;自慰暴露でそのまま续けてもらう场合の地の文。
;默认のものと置き换えたい场合は上下のSKIPSTART~SKIPENDを外してください。
;置き换える气がないならスルー。
;-------------------------------------------------
@M_KOJO_EVENT_K2_ONABARE_2(ARG)
;-------------------------------------------------
IF ARG
	PRINTFORML 玩弄A的场合
ELSE
	PRINTFORML 玩弄V的场合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;自慰暴露无崩しックスの地の文。
;默认のものと置き换えたい场合は上下のSKIPSTART~SKIPENDを外してください。
;置き换える气がないならスルー。
;-------------------------------------------------
@M_KOJO_EVENT_K2_ONABARE_3(前戏１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戏１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

SELECTCASE 前戏１
	CASE 1
		PRINTFORML Ｃ调教
	CASE 2
		PRINTFORML Ｂ调教
	CASE 3
		PRINTFORML Ｍ调教
ENDSELECT

IF 本番はどっちか
	PRINTFORML A正戏
ELSE
	PRINTFORML V正戏
ENDIF
;-------------------------------------------------
[SKIPEND]
