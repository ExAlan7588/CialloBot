;-------------------------------------------------
;乐谱の入手条件を取得
;SCORE_NO 乐谱番号
;
;RETURNFS 入手条件
;-------------------------------------------------
@GET_SCORE_INFO_MESSAGE(SCORE_NO)
#FUNCTIONS
#DIM SCORE_NO		; 乐谱番号
#DIM SCORE_INFO_NO	; 入手条件番号
#DIMS MESSAGE		; メッセージ

SCORE_INFO_NO = GET_SCORE_INFO_NO(SCORE_NO)

SELECTCASE SCORE_INFO_NO
	CASE IS < 乐谱入手方法：随机
		; 关联角色の演奏大成功时に入手
		MESSAGE = 让「%CSVNAME(SCORE_INFO_NO)%」听到大成功的演奏时入手
	CASE 乐谱入手方法：随机
		MESSAGE = 演奏时随机入手
	CASE 乐谱入手方法：シリーズ初取得
		MESSAGE = 在第一次入手本系列的乐谱时入手
	CASE 乐谱入手方法：シリーズ随机コンプ
		MESSAGE = 在获得了本系列的所有随机乐谱时入手
	CASE 乐谱入手方法：シリーズ关联角色弹幕胜负
		MESSAGE = 在和本系列的关联角色进行弹幕胜负时入手
	CASE 乐谱入手方法：シリーズ关联角色陷落
		MESSAGE = 在陷落了本系列的关联角色（恋慕・爱欲）时入手
	CASE 乐谱入手方法：シリーズ完全コンプ
		MESSAGE = 在入手了本系列的其他所有谱时入手
	CASE 乐谱入手方法：随机（角色无し）
		; 角色テーマだが、关联角色がいないので随机入手
		MESSAGE = 演奏时随机入手
	; --- 特殊条件 ---
	CASE 乐谱入手方法：妖精依赖成功
		; 妖精大战争
		MESSAGE = 桑尼・露娜・斯塔・大妖精・琪露诺的依赖成功时入手
	CASE 乐谱入手方法：文依赖成功
		;东方文花帖
		MESSAGE = 文的依赖成功时入手
	CASE 乐谱入手方法：果依赖成功
		;Double Spoiler
		MESSAGE = 果的依赖成功时入手
	CASE 乐谱入手方法：依赖失败时
		;弹幕アマノジャク
		MESSAGE = 依赖失败时入手
	CASEELSE
		; それ以外
		MESSAGE = 错误
ENDSELECT

RETURNF MESSAGE

;-------------------------------------------------
;乐谱入手时のメッセージを取得
;SCORE_NO 乐谱番号
;
;RETURNFS 乐谱入手时のメッセージ
;-------------------------------------------------
@GET_SCORE_OBTAIN_MESSAGE(SCORE_NO)
#FUNCTIONS
#DIM SCORE_NO	; 乐谱番号

#DIM SERIES_NO		; シリーズ番号
#DIM SCORE_INFO_NO	; 入手条件番号
#DIMS MESSAGE		; メッセージ

SERIES_NO = GET_SERIES_NO(SCORE_NO)
SCORE_INFO_NO = GET_SCORE_INFO_NO(SCORE_NO)

SELECTCASE SCORE_INFO_NO
	CASE IS < 乐谱入手方法：随机
		MESSAGE = 演奏后%CSVCALLNAME(SCORE_INFO_NO)%给了你%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：随机, 乐谱入手方法：随机（角色无し）
		MESSAGE = 收到了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：シリーズ初取得
		MESSAGE = %GET_SERIES_SHORT_NAME(SERIES_NO)%的攻略开始！ 入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：シリーズ随机コンプ
		MESSAGE = %GET_SERIES_SHORT_NAME(SERIES_NO)%的全阶段完成！ 获得了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：シリーズ关联角色弹幕胜负
		MESSAGE = 哔秋！ 尽管残机减少了但是入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：シリーズ关联角色陷落
		MESSAGE = 枕边放着%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱。
	CASE 乐谱入手方法：シリーズ完全コンプ
		MESSAGE = %GET_SERIES_SHORT_NAME(SERIES_NO)%完全Clear了！ 入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	; --- 特殊条件 ---
	CASE 乐谱入手方法：妖精依赖成功
		MESSAGE = ⑨！ 拿到了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：文依赖成功
		MESSAGE = 取材成功！ 入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：果依赖成功
		MESSAGE = Shoot Chance！ 入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASE 乐谱入手方法：依赖失败时
		MESSAGE = 入手了%GET_SCORE_FULLNAME(SCORE_NO)%的乐谱！
	CASEELSE
		MESSAGE = 错误
ENDSELECT

RETURNF MESSAGE
