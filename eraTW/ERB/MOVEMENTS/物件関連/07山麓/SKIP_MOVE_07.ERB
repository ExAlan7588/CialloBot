;-----------------------------------------------------------
;远距离移动の设定
;ARG     目的地
;ARG:1   现在地
;RETURN  次の目的地
;-----------------------------------------------------------
@SKIP_MOVE_7(ARG, ARG:1)
#DIM 现在的位置
;当前位置取得
IF ARG:1
	现在的位置 = ARG:1
ELSE
	现在的位置 = CFLAG:MASTER:当前位置
ENDIF

;目的地に直接移动できる场合そこに移动
SIF CAN_MOVE(现在的位置, ARG) & 1
	RETURN ARG

;袋小路から行ける场所は固定なので、そこを目指す
SELECTCASE 现在的位置
	CASE P704河童的宣传站, P709莉莉们的家, P735游泳场
		RETURN P703玄武之泽
	CASE P734小屋
		RETURN P701树海道入口
	CASE P733正邪的藏身处
		RETURN P705山道・中腹
	CASE P708大蛤蟆之池
		RETURN P707山道・分岐点
	CASE P737招财猫的家
		RETURN P710猫之里
	CASE P721仙人的宅邸・澡堂, P722仙人的宅邸・道场, P720仙人的宅邸・厨房
		RETURN P729仙人的宅邸・玄关
	CASE P724仙人的宅邸・书斋
		RETURN P723仙人的宅邸・二层客房
	CASE P727仙人的宅邸・华扇私室, P728仙人的宅邸・空的房间
		RETURN P726仙人的宅邸・起居室
	CASE P739秘天崖, P740山童的宣传站
		RETURN P738森林深处
ENDSELECT

;直接移动できない场合、1つ近い位置を暂定目的地に设定し直してループ
;基本的に最短で行けるコースを设定する
;现在地によってコースが变わることも考虑して对応する
SELECTCASE ARG
	CASE P701树海道入口
		RETURN P702山道・通往沼泽之道
	CASE P702山道・通往沼泽之道
		SELECTCASE 现在的位置
		CASE P717秋姊妹的家・寝室 TO P719秋姊妹的家・会客室
			RETURN P716秋姊妹的家・土间
		CASEELSE
			RETURN P703玄武之泽
		ENDSELECT
	CASE P703玄武之泽
		SELECTCASE 现在的位置
		CASE P701树海道入口, P734小屋, P715秋姊妹的家・旱田 TO P719秋姊妹的家・会客室
			RETURN P702山道・通往沼泽之道
		CASE P739秘天崖, P740山童的宣传站
			RETURN P738森林深处
		CASEELSE
			RETURN P705山道・中腹
		ENDSELECT
	CASE P705山道・中腹
		SELECTCASE 现在的位置
		CASE P701树海道入口 TO P704河童的宣传站, P734小屋, P715秋姊妹的家・旱田 TO P719秋姊妹的家・会客室, P709莉莉们的家, P735游泳场, P738森林深处 TO P740山童的宣传站
			RETURN P703玄武之泽
		CASEELSE
			RETURN P707山道・分岐点
		ENDSELECT
	CASE P707山道・分岐点
		SELECTCASE 现在的位置
		CASE P712间歇泉地下中枢, P732通向山顶的路
			RETURN P711休憩所
		CASE P720仙人的宅邸・厨房 TO P730仙人的宅邸・庭
			RETURN P731帚木
		CASEELSE
			RETURN P705山道・中腹
		ENDSELECT
	CASE P710猫之里, P711休憩所
		RETURN P707山道・分岐点
	CASE P712间歇泉地下中枢, P732通向山顶的路
		RETURN P711休憩所
	CASE P734小屋
		RETURN P701树海道入口
	CASE P704河童的宣传站, P709莉莉们的家, P735游泳场, P738森林深处
		RETURN P703玄武之泽
	CASE P733正邪的藏身处
		RETURN P705山道・中腹 
	CASE P706厄神的家
		SELECTCASE 现在的位置
		CASE P737招财猫的家
			RETURN P710猫之里
		CASEELSE
			RETURN P707山道・分岐点
		ENDSELECT
	CASE P708大蛤蟆之池
		RETURN P707山道・分岐点
	CASE P737招财猫的家
		RETURN P710猫之里
	CASE P739秘天崖, P740山童的宣传站
		RETURN P738森林深处
	CASE P736山姥之家, P741美天的栖息处
		SELECTCASE 现在的位置
		CASE P712间歇泉地下中枢, P732通向山顶的路
			RETURN P711休憩所
		CASEELSE
			RETURN P707山道・分岐点
		ENDSELECT

	CASE P715秋姊妹的家・旱田
		SELECTCASE 现在的位置
		CASE P717秋姊妹的家・寝室
			RETURN P719秋姊妹的家・会客室
		CASE P718秋姊妹的家・起居室
			RETURN P716秋姊妹的家・土间
		CASEELSE
			RETURN P702山道・通往沼泽之道
		ENDSELECT
	CASE P716秋姊妹的家・土间
		SELECTCASE 现在的位置
		CASE P717秋姊妹的家・寝室, P719秋姊妹的家・会客室
			RETURN P718秋姊妹的家・起居室
		CASEELSE
			RETURN P702山道・通往沼泽之道
		ENDSELECT
	CASE P717秋姊妹的家・寝室
		SELECTCASE 现在的位置
		CASE P715秋姊妹的家・旱田
			RETURN P719秋姊妹的家・会客室
		CASEELSE
			RETURN P718秋姊妹的家・起居室
		ENDSELECT
	CASE P718秋姊妹的家・起居室
		RETURN P716秋姊妹的家・土间
	CASE P719秋姊妹的家・会客室
		SELECTCASE 现在的位置
		CASE P716秋姊妹的家・土间
			RETURN P718秋姊妹的家・起居室
		CASEELSE
			RETURN P715秋姊妹的家・旱田
		ENDSELECT

	CASE P731帚木
		SELECTCASE 现在的位置
		CASE P720仙人的宅邸・厨房 TO P729仙人的宅邸・玄关
			RETURN P730仙人的宅邸・庭
		CASEELSE
			RETURN P707山道・分岐点
		ENDSELECT
	CASE P730仙人的宅邸・庭
		SELECTCASE 现在的位置
		CASE P720仙人的宅邸・厨房 TO P729仙人的宅邸・玄关
			RETURN P729仙人的宅邸・玄关
		CASEELSE
			RETURN P731帚木
		ENDSELECT
	CASE P729仙人的宅邸・玄关
		SELECTCASE 现在的位置
		CASE P724仙人的宅邸・书斋 TO P728仙人的宅邸・空的房间
			RETURN P723仙人的宅邸・二层客房
		CASEELSE
			RETURN P730仙人的宅邸・庭
		ENDSELECT
	CASE P720仙人的宅邸・厨房 TO P722仙人的宅邸・道场
		RETURN P729仙人的宅邸・玄关
	CASE P723仙人的宅邸・二层客房
		SELECTCASE 现在的位置
		CASE P727仙人的宅邸・华扇私室 TO P728仙人的宅邸・空的房间
			RETURN P726仙人的宅邸・起居室
		CASEELSE
			RETURN P729仙人的宅邸・玄关
		ENDSELECT
	CASE P724仙人的宅邸・书斋, P725仙人的宅邸・大鹫的房间, P726仙人的宅邸・起居室
		RETURN P723仙人的宅邸・二层客房
	CASE P727仙人的宅邸・华扇私室, P728仙人的宅邸・空的房间
		RETURN P726仙人的宅邸・起居室
ENDSELECT
