@CHARAMOVE_DATA_116(ARG, ARG:2)
LOCAL = 116
SELECTCASE ARG
	;连动设定（RETURN=依存する角色, RESULT:1～3=对等に连动する角色）
	CASE 1
		;たまに连动
		IF FLAG:每日变更事件 % 10 == 0
			RESULT:1 = [[梦月]]
			RESULT:2 = [[幻月]]
		ENDIF
	;特殊生活时间设定（CFLAG:LOCAL:生活时间补正を设定する）
	CASE 3
	;移动倾向（±～10=行きやすい/行きにくい, -100=行かない）
	CASE 4
		SELECTCASE ARG:2
			;永远亭の奥には行かない
			CASE P405配药室, P407走廊 TO P430地下室
				RETURN -100
			;他人的家には入らない
			CASE P432影狼的家, P437梅蒂欣的家, P439拉尔瓦的家, P443米斯蒂亚的家, P445妹红的家
				RETURN -100
			;餐厅,客厅,自室によく居る
			CASE P453餐厅, P461客厅, P457梦月私室
				RETURN 5
		ENDSELECT
	;出现场所
	CASE 7
		SELECTCASE ARG:2
			CASE 竹林入口, 迷失的小道, 斜角的竹林, 无名之丘, 太阳花田, 梦幻馆
				RETURN 1
			CASE 森林的入口, 古木的大树, 人偶的洋馆, 再思之道, 无缘冢
				RETURN 1
			CASE 广场, 商业街, 吞屋小道
				RETURN 1
		ENDSELECT
	;引力设定（CFLAG:LOCAL:引力点を设定する）
	CASE 8
ENDSELECT

@EXIST_キャラデータ116
#LOCALSIZE 1
#LOCALSSIZE 1

@キャラデータ116(ARG, O_DATA, V_NAME)
#FUNCTION
#LOCALSIZE 1
#LOCALSSIZE 1
#DIMS O_DATA
#DIMS V_NAME
SELECTCASE O_DATA
CASE "称呼"
	CALLF MAKE_STR(V_NAME, "梦月")
;こっから衣装设定
CASE "今天的睡衣"
	CALLF MAKE_STR(V_NAME, "睡衣（睡袍）套")

CASE "便装：靴"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("靴", "靴"))
CASE "便装：袜子"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("袜子", "长筒袜"))
CASE "便装：帽子"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("帽子", "白色女仆发箍"))
CASE "便装：连衣裙"
	CALLF MAKE_INT(V_NAME, CLOTHES_ID("连衣裙", "围裙洋装"))

CASE "固有内衣形容词"
	CALLF MAKE_STR(V_NAME, "像女仆的")
CASE "固有下半身内衣名"
	CALLF MAKE_STR(V_NAME, "花纹白蕾丝内裤")
CASE "固有上半身内衣"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有上半身内衣名"
	CALLF MAKE_STR(V_NAME, "花纹白蕾丝胸罩")
CASE "固有内衣着用条件"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有内衣半透明(前)"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有内衣半透明(后)"
	CALLF MAKE_INT(V_NAME, 1)
CASE "固有内衣布料厚度"
	CALLF MAKE_INT(V_NAME, 2)

;料理关联
CASE "料理：喜欢的味道"
	CALLF MAKE_STR(V_NAME, "面包/卵/洋食/汁物/蛋糕/简易/清淡/豪华/上品/新鲜/软绵绵/梦幻风/甜/甜/辣/辣/")
CASE "料理：讨厌的味道"
	CALLF MAKE_STR(V_NAME, "野趣/咸/咸/" + "青蛙/虫肉/香料/" * 3 + "谜料理/" * 5)
CASE "料理：助手效果"
	CALLF MAKE_STR(V_NAME, "梦幻风/女仆流/")
;赠り物关联
CASE "感性：好き"
	CALLF MAKE_STR(V_NAME, "青/混沌/可爱的/洋风/别致/威严/" + "妖术/禁断の/" * 3 + "女仆的/梦幻の/恶魔の/" * 5)
CASE "感性：嫌い"
	CALLF MAKE_STR(V_NAME, "秩序/和风/夸张/" + "神灵/" * 3)
ENDSELECT

@IMAGE_I116_特殊服装(CHARA)
#DIM CHARA
VARSET RESULTS
IF CFLAG:CHARA:应用差分替换 == 1 && FLAG:立绘种类
	IF IS_BUNNY(CHARA)
		RESULTS = _バニー
	ENDIF
ENDIF

;********************************************************************************************
@IMAGE_EX_I116_PREリソースチェック(CHARA, 表示形式, 服装, 表情, 表情_マウスオーバー, 差分, 乳量)
#DIM CHARA
#DIMS 表示形式
#DIMS 服装
#DIMS 表情
#DIMS 表情_マウスオーバー
#DIMS 差分
#DIMS 乳量

SIF CFLAG:CHARA:应用差分替换 == 1
	CALL COMPOSE_SPRITE_PRESET([[梦月]],"别颜_裸_/别颜_服_/别颜_服_バニー_")