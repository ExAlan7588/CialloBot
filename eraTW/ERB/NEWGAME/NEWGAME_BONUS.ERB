;-----------------------------------------------------------
;【新游戏特典】
;-----------------------------------------------------------
@NEWGAME_BONUS_SELECT
#DIMS buttonText, 10
#DIM L_COUNT
SETCOLOR 103,228,126
PRINTFORML 【新游戏特典】
RESETCOLOR
PRINTFORML 请选择你喜欢的一项
buttonText:0 '= @"%金额表示(99999)%"
buttonText:1 '= "我是单推"
buttonText:2 '= "我能照顾好自己"
buttonText:3 '= "我很好色"
FOR L_COUNT,0,4
	PRINTFORML [{L_COUNT}] - %buttonText:L_COUNT%
NEXT
INPUT
SELECTCASE RESULT
	CASE 0
		新游戏特典 '= @"%金额表示(99999)%"
	CASE 1
		CALL NEWGAME_BONUS_CHARA
		IF !RESULT
			RESTART
		ENDIF
	CASE 2
		新游戏特典 '= "初期能力UP"
	CASE 3
		新游戏特典 '= "スケベセット"
ENDSELECT
PRINTFORMW 选择了%新游戏特典%
RETURN

;-----------------------------------------------------------
;初期好感度
;-----------------------------------------------------------
@NEWGAME_BONUS_CHARA
PRINTFORML 任意一位角色的初期好感度+999、信赖度+99
PRINTFORML 请选择对象
CALL ASK_CALLNAME
IF RESULT == 999
	RETURN 0
ELSE
	新游戏特典 '= TOSTR(RESULT)
	RETURN 1
ENDIF

;-----------------------------------------------------------
;特典适用
;未指定の场合は所持金
;-----------------------------------------------------------
@NEWGAME_BONUS_APPLY
#DIM C_ID
C_ID = TOINT(新游戏特典)
SELECTCASE 新游戏特典
	CASE "无"
	CASE ""
		MONEY += 99999
	CASE @"%金额表示(99999)%"
		MONEY += 99999
	CASE "初期能力UP"
		ABL:MASTER:清扫技能 = 3
		ABL:MASTER:教养 = 3
		ABL:MASTER:料理技能 = 3
		ABL:MASTER:技巧 = 3
		ABL:MASTER:话术技能 = 3
	CASE "スケベセット"
		ITEM:奇迹之石 += 1
		ITEM:跳蛋 += 5
		ITEM:媚药 += 10
		MAXBASE:MASTER:TSP = 800
		BASE:MASTER:TSP = MAXBASE:MASTER:TSP
		MONEY:1 = 1800
		ABL:MASTER:技巧 = 4
	CASEELSE
		CFLAG:C_ID:好感度 = 999
		CFLAG:C_ID:信赖度 = 99
		IF CHECK_CHARA(C_ID, "神灵")
			TALENT:MASTER:让神灵怀孕 = 1
		ELSEIF CHECK_CHARA(C_ID, "付丧神")
			TALENT:MASTER:让付丧神怀孕 = 1
		ELSEIF CHECK_CHARA(C_ID, "蓬莱人")
			TALENT:MASTER:让蓬莱怀孕 = 1
		ELSEIF CHECK_CHARA(C_ID, "幽灵")
			TALENT:MASTER:让幽灵怀孕 = 1
		ELSEIF CHECK_CHARA(C_ID, "人形")
			TALENT:MASTER:让人偶怀孕 = 1
		ENDIF
ENDSELECT

;-----------------------------------------------------------
;设定表示用文本化
;-----------------------------------------------------------
@NEWGAMEBONUS_TEXT
#FUNCTIONS
SELECTCASE 新游戏特典
	CASE ""
		RETURNF "<font color='#67e47e'>" + "可以选择新游戏特典" + "</font>"
	CASE 金额表示(50000)
		RETURNF @"%金额表示(50000)%金钱为初始资金开局"
	CASE "初期能力UP"
		RETURNF "一部份能力的上升使得早期的家事更容易"
	CASE "スケベセット"
		RETURNF "一部份能力的上升使得早期的Ｈ更容易"
	CASEELSE
		RETURNF @"%NAME_OUTPUT_TRANSLATION("CALLNAME", TOINT(新游戏特典))%的初期好感度与信赖度上升的状态下开局 对于难以妊娠的种族、也会追加概率提升的能力"
ENDSELECT
