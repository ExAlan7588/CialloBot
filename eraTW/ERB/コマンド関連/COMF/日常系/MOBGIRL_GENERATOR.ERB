;21/09/15 地狱温泉从业员用に色々追记,因幡贩卖员を新规追加
;21/10/03 茨歌仙仕样路人貉追加
@MAKE_YUKIZURI(ARG, ARGS, ENEMY)
#DIM DBB
#DIM MOBNUM
#DIM ENEMY
#DIM 泡姫

CALL 路人子画像リセット(ARG)
DELCHARA ARG
ADDCHARA ARG
泡姫 = ENEMY == 2 ? 1 # 0
CALL 随机素質付与(ARG, ARGS, 泡姫)

;ここで经常去的地方を设定し、该当地域でなければロード时拨ねることにする
CFLAG:ARG:经常去的地方 = CFLAG:MASTER:当前位置 / 100

;气力、体力
CALLNAME:ARG = %随机角色_命名(ARG)%
NAME:ARG = %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%
MAXBASE:ARG:0 += RAND:(RANDOM_BASE:0) + RAND:(RANDOM_BASE:0)
MAXBASE:ARG:1 += RAND:(RANDOM_BASE:1) + RAND:(RANDOM_BASE:1)
;せっかくやっつけて携带した相手がすぐ体力气力切れると寂しいので木屐を履かせる
IF ENEMY
	MAXBASE:ARG:0 += ABL:ARG:战斗能力 * 100 + 100 + (TALENT:ARG:风俗娘 * 500)
	MAXBASE:ARG:1 += ABL:ARG:战斗能力 * 100 + 100 + (TALENT:ARG:风俗娘 * 500)
ENDIF
FOR LOCAL,0,20
	BASE:ARG:LOCAL = MAXBASE:ARG:LOCAL
NEXT
BASE:ARG:酒气 = 0
BASE:ARG:情绪 = 0
BASE:ARG:愤怒 = 0
BASE:ARG:勃起 = 0
IF TALENT:ARG:性别 == 3
	MAXBASE:ARG:精力 = 500
	BASE:ARG:精力 = 500
	MAXBASE:ARG:勃起 = 1500
ENDIF

DBB = TFLAG:幸运补正 * 2 + (泡姫 * 10) + ((ARGS == "魅魔") * 15)
;DBB=Dosukebe Body Bonus
;讨厌男人などの面倒な素質がついた场合敏感がつきやすくなる

SIF TALENT:ARG:冷漠
	DBB += 5
SIF TALENT:ARG:自尊心 > 0
	DBB += 5
SIF TALENT:ARG:自制心
	DBB += 5
SIF TALENT:ARG:难以越过的底线
	DBB += 10
SIF TALENT:ARG:抵抗
	DBB += 15
SIF TALENT:ARG:自己爱 < 0
	DBB += 15
SIF OTOKOGIRAI(ARG)
	DBB += 20
SIF ENEMY == 1
	DBB += ABL:ARG:战斗能力 * 8
	
;感度设定
FOR LOCAL,101,105
	LOCAL:1 = RAND:(100 + DBB)
	IF LOCAL:1 > 90
		TALENT:ARG:LOCAL = 1
	ELSEIF LOCAL:1 < 20
		TALENT:ARG:LOCAL = -1
	ENDIF
NEXT
CALL 随机经验能力付与(ARG, ARGS, TALENT:ARG:风俗娘)
;身体测定も入れたいけどめんどいからパス
路人子初期Ｖ性交经验 = EXP:ARG:Ｖ性交经验
;别绘貉はここで统合
ARGS = %\@ ARGS == "茨狸" ? 妖怪狸 # %ARGS% \@%
;心情は别にいいかなあ

;ここでフレーバー文本を追加できます
;仕事
;TODO 学生相关工作文本
IF 泡姫
	CSTR:ARG:3 = 在澡堂中搓背
	GOTO SKIP
ENDIF
CSTR:ARG:3 '= TEXTR("往生鱼片上放蒲公英/调教师/便当售货员/小鸡鉴定士/熟练的胖次职人/跳蛋栽培农家/用妖精的汗水制盐/用花妖精的蜜制作砂糖/在袋上写「罪」")
SIF ARGS == "人妻" && !RAND:3
	CSTR:ARG:3 '= "専业主妇"
SIF ARGS == "河童" && !RAND:3
	CSTR:ARG:3 '= "工程师"
SIF ARGS == "河童" && !RAND:7
	CSTR:ARG:3 '= "恶德商人"
SIF ARGS == "白狼天狗" && !RAND:3
	CSTR:ARG:3 '= "下级哨戒天狗"
SIF ARGS == "鸦天狗" && !RAND:3
	CSTR:ARG:3 '= "新闻记者"
SIF ARGS == "妖怪狸" && !RAND:3
	CSTR:ARG:3 '= "催债人"
SIF ARGS == "妖怪狸" && !RAND:3
	CSTR:ARG:3 '= "堆肥制造业者"
SIF ARGS == "因幡" && !RAND:3
	CSTR:ARG:3 '= "见习药师"
SIF ARGS == "因幡" && !RAND:5
	CSTR:ARG:3 '= "卖药的因幡"
;SIF ARGS == "因幡" && !RAND:7
;	CSTR:ARG:3 '= "可疑石の访问贩卖员"
SIF ARGS == "贩卖员" && RAND:3
	CSTR:ARG:3 '= @"%TEXTR("可疑石头/充满可疑气息的石头/可疑药物/危险药物")%的访问贩卖员"
SIF ARGS == "玉兔" && !RAND:3
	CSTR:ARG:3 '= "月人の从者"
SIF ARGS == "玉兔" && !RAND:3
	CSTR:ARG:3 '= "月の兵隊"
SIF ARGS == "鬼" && !RAND:3
	CSTR:ARG:3 '= "喧哗师"
SIF ARGS == "鬼" && !RAND:4
	CSTR:ARG:3 '= "食客"
SIF ARGS == "鬼" && !RAND:6
	CSTR:ARG:3 '= "用心棒の先生"
SIF TALENT:ARG:追加种族 == 3
	CSTR:ARG:3 '= "女仆"
SIF TALENT:ARG:容易自慰 && !RAND:2
	CSTR:ARG:3 '= "自慰大师"
$SKIP
;二つ名と能力

;程度の能力
;理不尽な命令に疑问を抱かない程度の能力
;犬に九九を觉えさせる程度の能力

;CSTR:10/11はシステム侧で使用しているため代入处理は危险
;CSTR:12も使用の痕迹があった（仕样变更で使っていない）ため避けたほうがいい
;通常角色の角色介绍文はCSV参照もしくは口上函数参照で行っています
;とりあえずCSTR:15を使用よ！
{
CSTR:ARG:15 '= TEXTR("用鼻子吃意大利面/不出汗地度过夏天/10秒钟就能入睡/跌倒了也不会哭/会把洗好的衣物叠整齐/提前5分钟察觉降雨/绝不会写错字/能把东西堆稳/
能瞄准页数翻开书/把素面换成白米饭/能随心所欲地流泪/每天坚持写日记/把料酒一点点地烤焦/把可乐换成荞麦面条/拿家里的钱去赌博/被蚊子叮了也不挠地忍着/
用勺子漂亮地吃葡萄柚/忍受骚扰/长时间低工资工作/不喝水吃龙角散/即使是重病或天灾也要上班/切杯炒面绝对不会失败/
从炒饭中去除青豆/增加西瓜的条纹")+"程度的能力"
}
SIF TALENT:ARG:小恶魔 && !RAND:3
	CSTR:ARG:15 '= "能很好地倾听你的请求程度的能力"
SIF TALENT:ARG:献身的 && !RAND:3
	CSTR:ARG:15 '= "对喜欢的人竭尽全力程度的能力"
SIF TALENT:ARG:冷漠 && !RAND:3
	CSTR:ARG:15 '= "不随波逐流程度程度的能力"
SIF TALENT:ARG:感情缺乏 && !RAND:3
	CSTR:ARG:15 '= "看起来又酷又清爽程度的能力"
TEQUIP:ARG:上半身着衣状况 = 1
ARGS = %\@ ARGS == "贩卖员" ? 因幡 # %ARGS% \@%
CSTR:ARG:路人子种族 = %ARGS%
IF 泡姫
	IF ARGS == "泡姫"
		LOCALS:0 '= "町娘", "人妻", "未亡人"
		LOCAL = RAND:2 ? 0 # RAND:3
		ARGS = %LOCALS:LOCAL%
		TALENT:ARG:人妻 = LOCAL
	ENDIF
	CSTR:ARG:路人子PROFILE１ = %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%：%PRINT_DATE_F(DAY)%一起澡堂的%ARGS%
	TCVAR:ARG:口服避孕药 = 1
	IF TALENT:ARG:人类 > 1
		LOCAL = RAND:2
		LOCALS = %TEXTR("堕/明码标价的/堕落")%
		CSTR:ARG:路人子种族 = %\@ LOCAL ? %LOCALS% # \@%%GET_TRIBENAME(ARG, GETNUM(TALENT, "人类"))%%\@ LOCAL ? # 失格者\@%
	ELSEIF TALENT:ARG:人类 == 1 && TALENT:ARG:人妻
		CSTR:ARG:路人子种族 = %TEXTR("堕/明码标价的/堕落")%%GET_TALENTNAME(198, TALENT:ARG:人妻)%
	ELSEIF !GROUPMATCH(ARGS, "泡姫", "魅魔")
		CSTR:ARG:路人子种族 = %TEXTR("堕/明码标价的/堕落")%%ARGS%
	ENDIF
	MARK:RANDOM_CHARANUM:快乐刻印 = 3
	MARK:RANDOM_CHARANUM:屈服刻印 = 3
ELSEIF ENEMY
	CSTR:ARG:路人子PROFILE１ = %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%：%PRINT_DATE_F(DAY)%对战的%ARGS%
ELSE
	CSTR:ARG:路人子PROFILE１ = %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%：%PRINT_DATE_F(DAY)%在%GET_MAPNAME(CFLAG:MASTER:当前位置 / 100)%相遇的%ARGS%
ENDIF
;人妻に低概率で分娩经验と母乳体质付与
IF TALENT:ARG:人妻
	ABL:ARG:清扫技能 += RAND:2
	ABL:ARG:料理技能 += RAND:2
	SIF !TALENT:ARG:处女 && !RAND:4
		EXP:ARG:分娩经验 += 1 + RAND:3
	SIF !RAND:(15 - (EXP:ARG:分娩经验 * 3))
		TALENT:ARG:母乳体质 = 2
ENDIF
;路人子の一人称/二人称决める
LOCAL = ENEMY == 1 ? 1 # 0
CALL SETTING_PERSONALITY(ARG)
CALL SET_MOB_PERSON(ARG, LOCAL)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
; 角色の素質の付与概率设定
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
@随机素質付与(ARG,ARGS,店员=0)
#DIM 衣装变更
#DIM 店员
衣装变更 = 0
;素質リセット作业。一定の素質には种族关系なく２％の概率をつける
VARSET RANDOM_TALENT_RATE
VARSET RANDOM_TALENT_RATE, 20, 0, 100
LOCAL:0 = 1, 3, 4, 5, 7, 8, 9, 17, 34, 72, 73, 74, 75, 76, 77, 78, 84, 85, 90, 91
FOR COUNT, 0, 20
	RANDOM_TALENT_RATE:(LOCAL:COUNT) = 0
NEXT
;タイプ别に取得素質の倾向が变わるとかしたいけどめんどい
;店员で取得素質の概率强化。ネガティブなものは无视。泛用性は无い
;有志に期待
SELECTCASE ARGS
	CASE "河童", "山童"
		RANDOM_BASE:0 = 300
		RANDOM_BASE:1 = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 500
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 30
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 20
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 20
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "灵活手指")) = 250 + 店员 * 350
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 50
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 200, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 150, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 80, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 100, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 80, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 100, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 200, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 0, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 0,  1, 250)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 0,  1, 250)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 200, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 0,  1, 200)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 0,  -1, 100, 1, 250, 2, 150)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 150,  1,  100, 2, 100)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 100, -1, 250, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 70, -1, 100, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 0, -1, 50, 1, 200, 2, 100, 3, 50)
		
		ABL:ARG:亲密 = 1
		ABL:ARG:战斗能力 = 1 + RAND:2
		ABL:ARG:技巧 = 2
		ABL:ARG:指 = 1
		;衣装セットは共通
		;オブジェクト变量よくわからんので设定できない
		衣装变更 = 12
		IF ARGS == "河童"
		TALENT:ARG:钓鱼Lv = 2 + RAND:2
		TALENT:ARG:水栖 = 1
		TALENT:ARG:妖怪 = 4
		;随机で荷取のスキルを取得している
		SIF !RAND:3
			SETBIT CFLAG:ARG:弹幕特能, 1
		;山童
		ELSE
			SIF !RAND:3 
				ABL:ARG:战斗能力 ++
			TALENT:ARG:采集Lv = 2 + RAND:2
			TALENT:ARG:妖怪 = 12
			;随机で高岭のスキルを取得している
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 5
		ENDIF
	CASE "白狼天狗", "鸦天狗"
		RANDOM_BASE:0 = 400
		RANDOM_BASE:1 = 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 70
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 180
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50 + 店员 * 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 100

		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 80, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 200, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 80, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 80, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 150, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 80,  1, 50)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 50,  1, 50)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 200, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 50, 1, 250)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 150,  1, 100)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 150,  -1, 500, 1, 50, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 150,  1,  100, 2,  70)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 40, -1, 150, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 70, -1, 100, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 0, -1, 50, 1, 250, 2, 150, 3, 100)

		ABL:ARG:战斗能力 = 2
		SIF !RAND:3 
			ABL:ARG:战斗能力 ++
		TALENT:ARG:妖怪 = 5
		ABL:ARG:技巧 = 1
		IF ARGS == "白狼天狗"
			TALENT:ARG:采集Lv = 1
			TALENT:ARG:动物耳 = 3
			;白狼天狗セット
			衣装变更 = 14
			;随机で椛のスキルを取得している
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 0
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 2
		ELSE
			ABL:ARG:战斗能力 ++
			ABL:ARG:话术技能 = 2
			;鸦天狗セット
			衣装变更 = 15
			;随机で文のスキルを取得している
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 0
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 7
			SIF !RAND:3
				SETBIT CFLAG:ARG:弹幕特能, 8
		ENDIF
	CASE "玉兔"
		;气力体力
		RANDOM_BASE:0 = 400
		RANDOM_BASE:1 = 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 900
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 700
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼稚")) = 30
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 40
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 40
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 50 + 店员 * 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "漏尿癖")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 150
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 100, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 20, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 80, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 100, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 50,   1, 100)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 50,   1, 50)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50,  1, 150)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 50, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 30,   1, 100)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 50,  -1, 200, 1, 30, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 100,  1,  50, 2,  50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 40, -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 40, -1, 100, 1, 70)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 100, 1, 100, 2, 50, 3, 20)

		衣装变更 = 17
		TALENT:ARG:动物耳 = 2
		TALENT:ARG:妖怪 = 6
		ABL:ARG:战斗能力 = 2
		ABL:ARG:技巧 = 1 + RAND:3
		;铃仙二号のスキルを取得している
		SETBIT CFLAG:ARG:弹幕特能, 2
	CASE "妖怪狸", "茨狸"
		RANDOM_BASE:0 = 300
		RANDOM_BASE:1 = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 120
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 120
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 80 + 店员 * 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 100

		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 50, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 50, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 80, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 120, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 80,  1, 50)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 50,  1, 120)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50, 1, 80)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 30,  1, 80)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 150,  -1, 500, 1, 50, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 50,  1,  100, 2,  70)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 40, -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 50, -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 80, 1, 150, 2, 100, 3, 50)

		ABL:ARG:战斗能力 = 2
		TALENT:ARG:采集Lv = 1
		ABL:ARG:技巧 = 1 + RAND:2
		
		TALENT:ARG:动物耳 = 1
		TALENT:ARG:妖怪 = 6
		
		衣装变更 = ARGS == "妖怪狸" ? 11 # 7
		;随机で猯藏のスキルを取得している
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 3
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 4
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 5
	CASE "因幡", "贩卖员"
	;妖精に近いがヤることはヤってる
		;气力体力
		RANDOM_BASE:0 = 200
		RANDOM_BASE:1 = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 30
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼稚")) = 400 - (350 * (ARGS == "贩卖员"))
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 40
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 40
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 180
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50 + 店员 * 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 120
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "漏尿癖")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 150
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 50, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 100, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 20, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 150)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 50,   1, 150)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 50,   1, 50)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50,  1, 150)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 250, 1, 10)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 30,   1, 100)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 50,  -1, 200, 1, 30, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 200,  1,  50, 2,  50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 150, -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 100, -1, 200, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 100, 1, 100, 2, 50, 3, 20)

		衣装变更 = 16
		TALENT:ARG:动物耳 = 2
		TALENT:ARG:妖怪 = 6
		ABL:ARG:战斗能力 = 1
		ABL:ARG:技巧 = 1 + RAND:2
		SIF !RAND:4
			ABL:ARG:战斗能力 ++
				;随机で帝のスキルを取得している
		SIF !RAND:5
			SETBIT CFLAG:ARG:弹幕特能, 4
		SIF !RAND:5
			SETBIT CFLAG:ARG:弹幕特能, 7
	CASE "妖精", "女仆妖精", "僵尸妖精"
		;气力体力
		RANDOM_BASE:0 = 100
		RANDOM_BASE:1 = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 900
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 800
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 700
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼稚")) = 700
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 30
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50 + 店员 * 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "漏尿癖")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 150
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 80, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 80, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 100, 1, 300)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 300, 1, 30)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 200)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 300,   1, 0)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 350,   1, 50)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 0,  1, 350)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 350, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 0,   1, 200)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 50,  -1, 100, 1, 100, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 100,  1,  50, 2,  50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 250, -1, 500, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 250, -1, 300, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 100, -1, 150, 1, 80, 2, 40, 3, 10)

		衣装变更 = 13
		IF ARGS == "女仆妖精"
			衣装变更 = 51
			ABL:ARG:清扫技能 = 1 + RAND:2
			TALENT:ARG:追加种族 = 3
		ENDIF
		TALENT:ARG:妖精 = 1
		ABL:ARG:战斗能力 = 1
		
		;随机で三月精のスキルを取得している
		SIF !RAND:8
			SETBIT CFLAG:ARG:弹幕特能, 1
		SIF !RAND:8
			SETBIT CFLAG:ARG:弹幕特能, 2
		SIF !RAND:8
			SETBIT CFLAG:ARG:弹幕特能, 5
	CASE "人妻"
	;では试しに、経験は未着手です
		;气力体力
		RANDOM_BASE:0 = 250
		RANDOM_BASE:1 = 250
		;RANDOM_TALENT_RATEは1ポイント0.1％の付与概率と考えればよし
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别"))         = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女"))         = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验"))   = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知"))         = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇"))     = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠"))       = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心"))       = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏"))   = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗"))         = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 120 + 店员 * 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的"))       = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 180
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的"))       = 0 + 店员 * 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂"))         = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂"))         = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿"))         = 50
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 100, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 40, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 100, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 100)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 40,   1, 150)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 0,   1, 100)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50,  1, 150)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 100, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 60, 1, 60)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2,  50, -1, 100, 1, 100, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 100,  1,  50, 2,  50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2,  10, -1,  60, 0, 120, 1, 90, 2, 30)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2,  60, -1,  90, 0, 120, 1, 90, 2, 30)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 100, 1, 150, 2, 120, 3, 60)

		TALENT:ARG:人妻 = 1
		TALENT:ARG:人类 = 1
		IF !RAND:7
			TALENT:ARG:人类 = 2 + RAND:5
			SIF GROUPMATCH(TALENT:ARG:人类, 3, 4)
				RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 500
		ENDIF
		ABL:ARG:教养 += RAND:2
		ABL:ARG:清扫技能 += RAND:2
		;服装ランダ​舞​ズ
		SELECTCASE RAND:10
			CASE 0
				;一套女仆服
				衣装变更 = 4
			CASE 1,2
				;一套女学生服
				衣装变更 = 10
			CASE 3,4
				;一套女装
				衣装变更 = 2
			CASEELSE
				;一套和服
				衣装变更 = 11
		ENDSELECT
	CASE "町娘"
	;难しい素質はつかず全体的にちょろめがコンセプト
		;气力体力
		RANDOM_BASE:0 = 250
		RANDOM_BASE:1 = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 850
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 700
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 120 + 店员 * 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 0 + 店员 * 500
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 50
		
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 100, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 100, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 100, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 50, 1, 140)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 70, 1, 70)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 100)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 0,   1, 100)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 0,   1, 100)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50,  1, 120)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 60, 1, 60)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 0,   1, 100)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 50,  -1, 100, 1, 100, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 100,  1,  50, 2,  50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 80, -1, 150, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 80, -1, 150, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 80, -1, 150, 1, 150, 2, 100, 3, 40)

		SIF !RAND:7
			CFLAG:ARG:妖怪变化 = 1 + RAND:2
		TALENT:ARG:人类 = 1
		ABL:ARG:教养 += RAND:2
		;服装ランダ​舞​ズ
		;MOB子
		SELECTCASE RAND:20 ;增加
;以下、将来に向けて予约
;まだ和服しかない
;			CASE 0
;				;一套男装
;				衣装变更 = 1
;			CASE 1
;				;早苗水手服套
;				衣装变更 = 74
;			CASE 2	
;				;女仆装
;				衣装变更 = 51
;			CASE 3,4
;				;一套女仆服
;				衣装变更 = 4
;			CASE 5,6
;				;一套女学生服
;				衣装变更 = 10
;			CASE 7,8,9
;				;一套女装
;				衣装变更 = 2
			CASEELSE
				;一套和服
				衣装变更 = 11
		ENDSELECT
	CASE "泡姫", "魅魔"
	;ヤる为に作ったプロの人なので何も考えずプラス素質のみ
		;气力体力
		RANDOM_BASE:0 = 350
		RANDOM_BASE:1 = 350
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 500
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 250 
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 500
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 150
		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 100, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 250, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 100, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 0, 1, 400)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 50, 1, 140)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 70, 1, 70)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 0,   1, 500)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 0,   1, 100)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 0,  1, 400)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 0,   1, 250)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 50,  -1, 100, 1, 100, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 200, 1, 0, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 50, -1, 150, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 80, -1, 150, 1, 100, 2, 100)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 80, -1, 150, 1, 150, 2, 100, 3, 40)
		ABL:ARG:技巧 = 3
		衣装变更 = 11
		IF ARGS == "泡姫"
			TALENT:ARG:人类 = 1
			IF !RAND:4
				TALENT:ARG:人类 = 2 + RAND:5
				SIF GROUPMATCH(TALENT:ARG:人类, 3, 4)
					RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 400
			ENDIF
			TALENT:ARG:风俗娘 = 2
			ABL:ARG:教养 += RAND:3
			ABL:ARG:话术技能 = 2 + RAND:3
		ELSE
			CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 750, 1, 0, 2,  0)
			CALL SET_BIASED_TALENT(ARG, "胸围", -2, 50, -1, 100, 1, 200, 2, 150)
			CALL SET_BIASED_TALENT(ARG, "母乳体质",      1, 0, 2, 250)
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 350
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 50
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 250
			ABL:ARG:话术技能 = 1 + RAND:2
			TALENT:ARG:妖怪 = 9
		ENDIF
	CASE "鬼"
		RANDOM_BASE:0 = 1000
		RANDOM_BASE:1 = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 20
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 120
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 30
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 120 + 店员 * 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 50

		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 0, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 100, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 0, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 80, 1, 180)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 0, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 0, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 200, 1, 0)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 100,  1, 40)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 200,  1, 40)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50, 1, 120)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 50,  1, 150)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 0,  -1, 20, 1, 120, 2, 80)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 100,  1,  50, 2,  0)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 20, -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 20, -1, 50, 1, 120)
		ABL:ARG:战斗能力 = 4
		SIF !RAND:4
			ABL:ARG:战斗能力 ++
		TALENT:ARG:酒耐性 = 3
		TALENT:ARG:恢复速度 = 1
		TALENT:ARG:妖怪 = 2
		ABL:ARG:技巧 = 1
		;鬼セット
		衣装变更 = 18
		;随机でそれっぽいスキルを取得している
		SIF !RAND:3
			SETBIT CFLAG:ARG:弹幕特能, 2
		SIF !RAND:2
			SETBIT CFLAG:ARG:弹幕特能, 3
		SIF !RAND:3
			SETBIT CFLAG:ARG:弹幕特能, 4

	;狸より魅惑寄りに振った感じ
	CASE "妖怪狐"
		RANDOM_BASE:0 = 250
		RANDOM_BASE:1 = 450
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 10
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 120
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "魅惑")) = 120 + 店员 * 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 150

		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 50, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 50, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 50, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 80,  1, 50)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 50,  1, 150)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 50,  1, 50)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 250,  -1, 400, 1, 25, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 120,  1, 50, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 40, -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 50, -1, 80, 1, 120, 2, 50)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 80, 1, 150, 2, 100, 3, 50)

		ABL:ARG:战斗能力 = 2
		ABL:ARG:教养 = 1 + RAND:2
		ABL:ARG:技巧 = 1 + RAND:2
		TALENT:ARG:妖狐 = 1
		TALENT:ARG:动物耳 = 1
		TALENT:ARG:妖怪 = 6
		衣装变更 = 11
		;随机で蓝のスキル取得
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 0
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 2
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 5

	;狸より小恶魔寄りに振った感じ
	CASE "妖怪猫"
		RANDOM_BASE:0 = 200
		RANDOM_BASE:1 = 400
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 300
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 0
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "难以越过的底线")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 200
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 50
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 150
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 80
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 100
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 120 + 店员 * 250
		RANDOM_TALENT_RATE:(GETNUM(TALENT, "容姿")) = 100

		;プラ​舞​がある系
		CALL SET_BIASED_TALENT(ARG, "胆量",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "态度",       -1, 100, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "回应",       -1, 50, 1, 200)
		CALL SET_BIASED_TALENT(ARG, "性的兴趣",   -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "开朗／阴郁", -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "自尊心",   -1, 0, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "羞耻心",     -1, 120, 1, 40)
		CALL SET_BIASED_TALENT(ARG, "痛觉",       -1, 150, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "弄湿难易", -1, 50,  1, 100)
		CALL SET_BIASED_TALENT(ARG, "习得速度",   -1, 80,  1, 100)
		CALL SET_BIASED_TALENT(ARG, "快感应答",   -1, 50, 1, 150)
		CALL SET_BIASED_TALENT(ARG, "贞操",       -1, 50, 1, 50)
		CALL SET_BIASED_TALENT(ARG, "自己爱",     -1, 30,  1, 100)
		
		;范围が;-1~1を超える面倒くさい奴
		CALL SET_BIASED_TALENT(ARG, "污臭耐性",     -2, 250,  -1, 500, 1, 25, 2, 0)
		CALL SET_BIASED_TALENT(ARG, "性别嗜好",     -1, 50,  1,  100, 2,  100)
		CALL SET_BIASED_TALENT(ARG, "体型",         -2, 40, -1, 80, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "胸围", -2, 50, -1, 100, 1, 100)
		CALL SET_BIASED_TALENT(ARG, "酒耐性",       -2, 40, -1, 80, 1, 150, 2, 100, 3, 50)

		ABL:ARG:战斗能力 = 2 + RAND:2
		ABL:ARG:技巧 = 1 + RAND:2
		TALENT:ARG:动物耳 = 4
		TALENT:ARG:猫舌 = 1
		TALENT:ARG:妖怪 = 6
		衣装变更 = 11
		;随机でそれっぽいスキルを取得している
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 2
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 5
		SIF !RAND:7
			SETBIT CFLAG:ARG:弹幕特能, 8
	;真
	CASE "学生"
		IF MORE_RANDOM_CHARACTER == 1
			RANDOM_BASE:0 = 150
			RANDOM_BASE:1 = 150
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 995
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 950
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "无知")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "懒散")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性情不定")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "冷漠")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "感情缺乏")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 350
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 250
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 450
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易高潮")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼儿／幼儿退行")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼稚")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "初潮")) = 100

			CALL SET_BIASED_TALENT(ARG, "非童贞",       , 900, 1, 50, 2, 35, 3, 15)
			CALL SET_BIASED_TALENT(ARG, "胆量",         , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "态度",         , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "回应",         , 500, 1, 150, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "自尊心",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "容姿",         , 500, 1, 500)
			CALL SET_BIASED_TALENT(ARG, "年龄",         , 0, -1, 1000)
			CALL SET_BIASED_TALENT(ARG, "性的兴趣",     , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "开朗／阴郁",   , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "自己爱",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "羞耻心",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "痛觉",         , 500, 1, 500, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "弄湿难易",     , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "快感应答",     , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "体型",         , 0, -2, 1000)
			CALL SET_BIASED_TALENT(ARG, "Ｃ感度",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "Ｖ感度",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "Ａ感度",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "Ｂ感度",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "Ｍ感度",       , 500, 1, 250, -1, 250)
			CALL SET_BIASED_TALENT(ARG, "胸围",         , 500, 1, 100, -1, 500, -2, 250)
			CALL SET_BIASED_TALENT(ARG, "酒耐性",       , -2, 1000)

			TALENT:ARG:人类 = 1
			IF !RAND:50
				TALENT:ARG:人类 = 1 + RAND(1, 6)
			ELSEIF !RAND:50
				TALENT:ARG:人类 = 0
				TALENT:ARG:妖怪 = RAND(1, 3)
				SIF !RAND:2
					TALENT:ARG:妖怪 = RAND(4, 6)
			ELSEIF !RAND:50
				TALENT:ARG:人类 = 0
				TALENT:ARG:妖精 = 1
			ENDIF

			ABL:ARG:教养 = 1 + RAND:2
		ENDIF
	;特殊_右侧存在一个0宽字符
	CASE "学生​"
		IF MORE_RANDOM_CHARACTER == 1
			RANDOM_BASE:0 = 175
			RANDOM_BASE:1 = 175
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "懒散")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 600
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性情不定")) = 400
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 600
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易高潮")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 400
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 400
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼儿／幼儿退行")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼稚")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "初潮")) = 100

			RANDOM_TALENT_RATE:(GETNUM(TALENT, "淫乱")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "风骚")) = 600

			CALL SET_BIASED_TALENT(ARG, "非童贞",       , 200, 1, 300, 2, 300, 3, 100)
			CALL SET_BIASED_TALENT(ARG, "胆量",         , 500, 1, 500, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "态度",         , 500, 1, 100, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "回应",         , 500, 1, 300, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "自尊心",       , 500, 1, 100, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "容姿",         , 250, 1, 500)
			CALL SET_BIASED_TALENT(ARG, "年龄",         , 0, -1, 1000)
			CALL SET_BIASED_TALENT(ARG, "性的兴趣",     , 500, 1, 800)
			CALL SET_BIASED_TALENT(ARG, "开朗／阴郁",   , 500, 1, 500, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "自己爱",       , 500, 1, 700, -1, 50)
			CALL SET_BIASED_TALENT(ARG, "羞耻心",       , 500, 1, 50, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "痛觉",         , 500, 1, 100, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "弄湿难易",     , 500, 1, 600, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "快感应答",     , 500, 1, 800, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "体型",         , 0, -2, 1000)
			CALL SET_BIASED_TALENT(ARG, "Ｃ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｖ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ａ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｂ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｍ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "胸围",         , 500, 1, 100, -1, 500, -2, 250)
			CALL SET_BIASED_TALENT(ARG, "酒耐性",       , -2, 1000)
			
			TALENT:ARG:人类 = 1
			IF !RAND:50
				TALENT:ARG:人类 = 1 + RAND(1, 6)
			ELSEIF !RAND:50
				TALENT:ARG:人类 = 0
				TALENT:ARG:妖怪 = RAND(1, 3)
				SIF !RAND:2
					TALENT:ARG:妖怪 = RAND(4, 6)
			ELSEIF !RAND:50
				TALENT:ARG:人类 = 0
				TALENT:ARG:妖精 = 1
			ENDIF

			ABL:ARG:教养 = RAND:3
			ABL:ARG:技巧 = 1 + RAND:2
		ENDIF
	;假_两侧分别存在一个0宽字符
	CASE "​学生​"
		IF MORE_RANDOM_CHARACTER == 1
			RANDOM_BASE:0 = 175
			RANDOM_BASE:1 = 175
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性别")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "处女")) = 50
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "无接吻经验")) = 10
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "懒散")) = 100
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "傲娇")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "性情不定")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "自制心")) = 10
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "喜欢引人注目")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "抵抗")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易自慰")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "献身的")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易中毒")) = 600
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "容易高潮")) = 500
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "倒错的")) = 200
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "施虐狂")) = 300
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "受虐狂")) = 400
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "小恶魔")) = 700
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "幼儿／幼儿退行")) = 1000
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "初潮")) = 100

			RANDOM_TALENT_RATE:(GETNUM(TALENT, "淫乱")) = 800
			RANDOM_TALENT_RATE:(GETNUM(TALENT, "风骚")) = 1000

			CALL SET_BIASED_TALENT(ARG, "非童贞",       , 200, 1, 300, 2, 300, 3, 100)
			CALL SET_BIASED_TALENT(ARG, "胆量",         , 500, 1, 500, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "态度",         , 500, 1, 100, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "回应",         , 500, 1, 300, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "自尊心",       , 500, 1, 500, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "容姿",         , 250, 1, 500)
			CALL SET_BIASED_TALENT(ARG, "年龄",         , 0, -1, 1000)
			CALL SET_BIASED_TALENT(ARG, "性的兴趣",     , 500, 1, 800)
			CALL SET_BIASED_TALENT(ARG, "开朗／阴郁",   , 500, 1, 500, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "自己爱",       , 500, 1, 700, -1, 50)
			CALL SET_BIASED_TALENT(ARG, "羞耻心",       , 500, 1, 50, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "痛觉",         , 500, 1, 100, -1, 500)
			CALL SET_BIASED_TALENT(ARG, "弄湿难易",     , 500, 1, 600, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "快感应答",     , 500, 1, 800, -1, 100)
			CALL SET_BIASED_TALENT(ARG, "体型",         , 0, -2, 1000)
			CALL SET_BIASED_TALENT(ARG, "Ｃ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｖ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ａ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｂ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "Ｍ感度",       , 500, 1, 500, -1, 150)
			CALL SET_BIASED_TALENT(ARG, "胸围",         , 500, 1, 100, -1, 500, -2, 250)
			CALL SET_BIASED_TALENT(ARG, "酒耐性",       , -2, 1000)

			TALENT:ARG:妖怪 = 9
			ABL:ARG:教养 = 2 + RAND:2
			ABL:ARG:技巧 = 3
		ENDIF
ENDSELECT
FOR LOCAL,0,180
	SIF !RANDOM_TALENT_RATE:LOCAL
		CONTINUE
	SIF RAND:1000 <= RANDOM_TALENT_RATE:LOCAL
		TALENT:ARG:LOCAL = 1
NEXT
;从业员の场合色々素質を追加/消去
IF 店员
	TALENT:ARG:处女 = 0
	TALENT:ARG:无接吻经验 = 0
	TALENT:ARG:无知 = 0
	TALENT:ARG:风俗娘 = TALENT:ARG:风俗娘 == 2 ? 2 # 1
	SIF TALENT:ARG:人类 != 1 && !RAND:7
		TALENT:ARG:风俗娘 = 2
ENDIF
;性交フラグ
TEQUIP:ARG:50 = -1
TEQUIP:ARG:51 = -1
TCVAR:ARG:100 = -1
TCVAR:ARG:101 = -1
;中出し表示用フラグ
TCVAR:ARG:103 = -1
TCVAR:ARG:105 = -1
CFLAG:ARG:出禁 = 0

SIF !TALENT:ARG:幼稚
	CFLAG:ARG:生理周期 = RAND:9 + 1
CALL MAKE_SIZE(ARG)
CFLAG:ARG:身体测定 = 1
;=可变画像用のCSTR设定==========
CALL SET_MOB_IMAGE_STR(ARG, ARGS, 店员)
;===============================
;可变画像で定义された衣装画像に合わせて衣装变更を再定义
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "私服A") >= 0
	衣装变更 = 19
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "私服B") >= 0
	衣装变更 = 20
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "私服CA") >= 0
	衣装变更 = 21
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "私服CB") >= 0
	衣装变更 = 22
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "私服D") >= 0
	衣装变更 = 23
SIF STRFIND(CSTR:ARG:路人子画像文字列_服_通常, "ゴスロリ") >= 0
	衣装变更 = 63
IF TALENT:ARG:风俗娘
	衣装变更 = 43
	CALL CTRL_CLOTHES_SET(ARG, "现在衣装の变更_全裸")
	CALL CTRL_CLOTHES_SET(ARG, "便装の变更_衣装セット", 衣装变更)
	CFLAG:ARG:上半身内衣确认 = 1
	CFLAG:ARG:下半身内衣确认 = 1
ELSE
	CALL SELECT_CLOTHES(ARG, "便服")
	SIF 衣装变更
		CALL CTRL_CLOTHES_SET(ARG, "便装の变更_衣装セット", 衣装变更)
ENDIF
CALL CTRL_CLOTHES_SET(ARG, "现在衣装の变更_便装")
CALL CLOTHES_SETTING_TRAIN(ARG)
SETBIT CFLAG:ARG:更衣实行, 0

@随机经验能力付与(ARG, ARGS, RANK = 0)
#DIM LESBIAN
#DIM RANK
;TODO 路人学生的履历
SIF GROUPMATCH(ARGS, "魅魔", "​学生​") && !TALENT:ARG:处女
	RANK = 2 
;性技とか経験足した方がいいんだろうがめんどい
ABL:ARG:Ｃ感觉 = RAND:(2 + TALENT:ARG:容易自慰)
ABL:ARG:Ｂ感觉 = RAND:(2 + TALENT:ARG:容易自慰)
ABL:ARG:Ａ感觉 = RAND:(1 + TALENT:ARG:容易自慰)
ABL:ARG:Ｖ感觉 = RAND:2
ABL:ARG:Ｍ感觉 = RAND:(2 - TALENT:ARG:无接吻经验)
ABL:ARG:欲望 = RAND:3
ABL:ARG:料理技能 = RAND:3
IF !TALENT:ARG:处女
	ABL:ARG:Ｖ感觉 += 1 + RANK * 3
	EXP:ARG:Ｖ经验 = 20 + RAND:5 + RANK * 30
	ABL:ARG:欲望 += RAND:3 + RANK * 4
	ABL:ARG:膣 += 1 + RANK * 2
	ABL:ARG:Ｃ感觉 += RAND:2 + RANK * 3
	ABL:ARG:Ｂ感觉 += RAND:2 + RANK * 3
	ABL:ARG:Ａ感觉 += RAND:2 + RAND(1 + RANK)
	IF TALENT:ARG:容易自慰 && !RAND:4
		CSTR:ARG:处女丧失履历 = 自慰时不小心弄破了
	ELSE
		IF !RAND:5 && (TALENT:ARG:贞操 < 1 || RANK)
			TALENT:ARG:风骚 = 1
			ABL:ARG:Ｃ感觉 += RAND:2 + 2 + RANK * 3
			ABL:ARG:Ｂ感觉 += RAND:2 + 2 + RANK * 3
			ABL:ARG:Ａ感觉 += RAND:2 + 2 + RANK * 2
			ABL:ARG:Ｖ感觉 += RAND:2 + 2 + RANK * 3
			EXP:ARG:Ｖ经验 += 50 + RAND:20 + RANK * 30
		ENDIF
		IF ARGS == "魅魔"
			LESBIAN = 0
		ELSEIF TALENT:ARG:性别嗜好 == -1 && RAND:2
			LESBIAN = 1
		ELSEIF TALENT:ARG:性别嗜好 == 3
			LESBIAN = -1
		ELSEIF TALENT:ARG:性别嗜好 == 1
			LESBIAN = 1
		ELSE
			LESBIAN = 0
		ENDIF
		EXP:ARG:Ｖ性交经验 = EXP:ARG:Ｖ经验
		EXP:ARG:精液经验 = (EXP:ARG:Ｖ性交经验 * 3 / 4 ) + RAND:((10  + RANK * 60) * POWER(1 + TALENT:ARG:风骚, 2))
		EXP:ARG:膣射经验 = EXP:ARG:Ｖ性交经验 * 3 / 4 + (RANK * RAND:30)
		IF RANK
			EXP:ARG:子宫口开发经验 = EXP:ARG:Ｖ性交经验 / 4 * 3 
			TALENT:ARG:子宫口性感 = EXP:ARG:子宫口开发经验 > 50 ? 1 # 0
		ENDIF
		IF !RAND:(9 - TALENT:ARG:贞操) && !GROUPMATCH(ARGS, "町娘", "泡姫", "魅魔", "​学生​")
			TALENT:ARG:人妻 = 1
			SIF !RAND:5
				TALENT:ARG:人妻 = 2
		ENDIF
		IF !RAND:15
			IF TALENT:ARG:人类
				CSTR:ARG:处女丧失履历 = %TEXTR("卖了钱/被妖精的恶作剧夺走/被人间之里的男人强奸夺走/被妖怪强奸夺走/喝醉了酒被男人们玩弄失去了")%
			ELSEIF ARGS == "鬼"
				CSTR:ARG:处女丧失履历 = %TEXTR("在酒醉醺醺的时候被夺走了/打架输了、被为所欲为的被夺走了")%
			ELSEIF ARGS == "魅魔"
				;CSTR:ARG:处女丧失履历 = %TEXTR("部下に关系を强迫して/酒に醉って男たちを玩具にしながら/妖怪退治屋を逆强奸して")%舍てた
				CSTR:ARG:处女丧失履历 = %TEXTR("强迫下属发生关系/喝醉了酒把男人当成玩具玩弄/逆强奸妖怪猎手")%失去了
			ELSE
				CSTR:ARG:处女丧失履历 = %TEXTR("被上司强迫发生了关系/喝醉了酒被男人们玩弄失去了/被妖怪猎手强奸夺走")%
			ENDIF
		ELSEIF TALENT:ARG:倒错的 && !RAND:10 && !LESBIAN
			CSTR:ARG:处女丧失履历 = 和%TEXTR("弟弟/兄长")%互相献上了第一次
		ELSEIF !RAND:7 && !TALENT:ARG:人类 && !LESBIAN
			CSTR:ARG:处女丧失履历 = 随手送给了被绑架的人类%TEXTR("男子/孩子")%
		ELSEIF TALENT:ARG:人妻 && !RAND:2 && !LESBIAN
			CSTR:ARG:处女丧失履历 = 献给了%TEXTR("心爱/不爱")%的丈夫
		ELSEIF ARGS == "魅魔"
			;CSTR:ARG:处女丧失履历 = %TEXTR("乱交中いつの间にか失っていた/物心がついた时には失っていた/初めて见た人类をその场で袭って舍てた")%
			CSTR:ARG:处女丧失履历 = %TEXTR("在乱交中不知什么时候失去了/懂事的时候已经失去了/第一次见到人类时当场袭击了对方并失去了")%
		ELSE
			CSTR:ARG:处女丧失履历 = 献给了%TEXTR("男朋友/前男友/同事/不熟悉的路人")%
		ENDIF
		SIF TALENT:ARG:人妻
			CSTR:ARG:处女丧失履历 = %REPLACE(@"%CSTR:ARG:处女丧失履历%","男朋友","前男友")%
		SIF RANK && STRCOUNT(CSTR:ARG:处女丧失履历, "(夺走|失去|不熟悉|同事)") && RAND:2
			CSTR:ARG:处女丧失履历 = %TEXTR("被第一个顾客夺走了/高价卖给了第一个顾客/因第一个顾客而失去了")%
	ENDIF
	IF ARGS == "町娘"
		CSTR:ARG:处女丧失履历 = %REPLACE(@"%CSTR:ARG:处女丧失履历%","同事","同学")%
	ENDIF
	IF LESBIAN == 1
		CSTR:ARG:处女丧失履历 = %REPLACE(@"%CSTR:ARG:处女丧失履历%","男朋友","女朋友")%
		CSTR:ARG:处女丧失履历 = %REPLACE(@"%CSTR:ARG:处女丧失履历%","前男友","前女友")%
	ENDIF
ENDIF
;Ａ性交关系 Ｖ经验とは干渉无
IF !RAND:(10 - TALENT:ARG:快感应答 - TALENT:ARG:污臭耐性 - TALENT:ARG:性的兴趣 - TALENT:ARG:Ａ感度) || (RANK && !RAND(5 - RANK)) || (ARGS == "魅魔" && !TALENT:ARG:处女)
	EXP:ARG:Ａ性交经验 = 10 + RAND:20 + RANK * 20
	EXP:ARG:Ａ经验 = 40 + EXP:ARG:Ａ性交经验 + RANK * 30
	EXP:ARG:肛射经验 = EXP:ARG:Ａ性交经验 * 3 / 4 + (RANK * RAND:8)
	EXP:ARG:精液经验 += EXP:ARG:Ａ性交经验 * 3 / 4 + (RANK * RAND:12)
	ABL:ARG:Ａ感觉 = MIN(ABL:ARG:Ａ感觉 + 2, 10)
	ABL:ARG:肛门 += 2 + (RANK > 0)
	;非处女の场合、50％は丧失履历を揃える
	IF !RAND:2 && !TALENT:ARG:处女 && CSTR:ARG:处女丧失履历 != "自慰时不小心弄破了"
		CSTR:ARG:肛门处女丧失履历 = %CSTR:ARG:处女丧失履历%
	ELSE
		IF !RAND:15
			IF TALENT:ARG:人类
				CSTR:ARG:肛门处女丧失履历 = %TEXTR("这里的话、卖给别人享用了/被妖精的恶作剧夺走了/这里的话、在男人的逼迫下、献出去了")%
			ELSEIF ARGS == "鬼"
				CSTR:ARG:肛门处女丧失履历 = %TEXTR("在酒醉醺醺的时候被夺走了/打架输了、被为所欲为的被夺走了")%
			ELSEIF ARGS == "魅魔"
				;CSTR:ARG:肛门处女丧失履历 = 逆强奸のついでに舍てた
				CSTR:ARG:肛门处女丧失履历 = 逆强奸的时候顺手舍弃了
			ELSE
				CSTR:ARG:肛门处女丧失履历 = %TEXTR("被上司强迫、不得已才献上的/被妖怪退治者强奸夺走")%
			ENDIF
		ELSEIF TALENT:ARG:倒错的 && !RAND:10 && !LESBIAN
			CSTR:ARG:肛门处女丧失履历 =献给了%TEXTR("弟弟/兄长")%
		ELSEIF !RAND:7 && !TALENT:ARG:人类 && !LESBIAN
			CSTR:ARG:肛门处女丧失履历 = 对被绑架的人类%TEXTR("男子/孩子")%起了兴趣
		ELSEIF TALENT:ARG:人妻 && !RAND:2 && !LESBIAN
			CSTR:ARG:肛门处女丧失履历 = 献给了%TEXTR("心爱的丈夫/不爱的丈夫/出轨对象/前任上司")%
		ELSEIF ARGS == "魅魔"
			;CSTR:ARG:肛门处女丧失履历 = %TEXTR("适当な男を袭って舍てた/见ず知らずの男にくれてやった/")%
			CSTR:ARG:肛门处女丧失履历 = %TEXTR("袭击了适合的男性失去了/给了一个陌生男性/")%
		ELSE
			CSTR:ARG:肛门处女丧失履历 = 献给了%TEXTR("男朋友/前男友/同事/不熟悉的路人")%
		ENDIF
		SIF RANK && STRCOUNT(CSTR:ARG:处女丧失履历, "(夺走|失去|不熟悉|同事)") && RAND:2
			CSTR:ARG:处女丧失履历 = 被%TEXTR("第一个/咄咄逼人的/有兴味的")%顾客夺走了
	ENDIF
	IF TALENT:ARG:处女
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","献给了弟弟","只有这里、献给了弟弟")%
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","献给了兄长","只有这里、献给了兄长")%
	ENDIF
	SIF TALENT:ARG:人妻
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","男朋友","前男友")%
	SIF ARGS == "町娘"
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","同事","同学")%
	IF LESBIAN == 1
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","男朋友","女朋友")%
		CSTR:ARG:肛门处女丧失履历 = %REPLACE(@"%CSTR:ARG:肛门处女丧失履历%","前男友","前女友")%
	ENDIF
	;丧失履历の消失除け
	CFLAG:ARG:肛门处女丧失纪念日 = DAY
ELSEIF RANK
	EXP:ARG:Ａ经验 = 19 + RAND:5
ENDIF
;いずれかで性交经验がある场合、侍奉系经验・技能を设定
IF EXP:ARG:Ｖ性交经验 || EXP:ARG:Ａ性交经验
	IF !RAND:2 || RANK
		EXP:ARG:精饮经验 = RAND:(MAX(EXP:ARG:精液经验 - EXP:ARG:膣射经验 - EXP:ARG:肛射经验, 1)) 
		EXP:ARG:口淫经验 = EXP:ARG:精饮经验 + RAND:(30 * POWER(1 + TALENT:ARG:风骚, 2))  + RAND:(1 + RANK * 10 * POWER(RANK, 2)) 
		ABL:ARG:舌 = MIN(MAX(EXP:ARG:口淫经验 / 50, 1) + MAX(TALENT:ARG:习得速度, 0), 4) + RANK 
	ENDIF
	IF !RAND:(4 - TALENT:ARG:胸围) || RANK
		SIF EXP:ARG:精饮经验 == 0
			EXP:ARG:精饮经验 = RAND:(MAX(EXP:ARG:精液经验 - EXP:ARG:膣射经验, 1))
		EXP:ARG:乳交经验 = EXP:ARG:精饮经验 + RAND:(30 * POWER(1 + TALENT:ARG:风骚, 2)) + RANK * 30
		ABL:ARG:胸 = MIN(MAX(EXP:ARG:乳交经验 / 40, 1) + MAX(TALENT:ARG:习得速度, 0), 4) + RANK
	ENDIF
	EXP:ARG:手淫经验 += RAND:(30 * POWER(1 + TALENT:ARG:风骚, 2) + RANK * 10)
	SIF EXP:ARG:手淫经验
		ABL:ARG:指 = MIN(MAX(EXP:ARG:手淫经验 / 50, 1) + MAX(TALENT:ARG:习得速度, 0), 4) + RANK
ENDIF

;露出系
IF RANK
	ABL:ARG:露出癖 += RANK * 2
	EXP:ARG:露出快乐经验 += MAX(RAND:100, RANK * 20 + RAND:10)
ELSEIF !RAND:(8 - TALENT:ARG:快感应答 - TALENT:ARG:性的兴趣 + TALENT:ARG:羞耻心 + TALENT:ARG:贞操)
	ABL:ARG:露出癖 += 1
	EXP:ARG:露出快乐经验 += MAX(RAND:30, 1)
ENDIF
;腰技能
SIF EXP:ARG:Ｖ性交经验 || EXP:ARG:Ａ性交经验
	ABL:ARG:腰 += MAX((EXP:ARG:Ｖ性交经验 + EXP:ARG:Ａ性交经验) / 200, 1) + MAX(TALENT:ARG:习得速度, 0) + RANK
;技巧
ABL:ARG:技巧 = MIN(ABL:ARG:技巧 + MAX(ABL:ARG:指, ABL:ARG:舌, ABL:ARG:胸, ABL:ARG:腰, 0), 4) + RANK
SIF TALENT:ARG:RANK
	ABL:ARG:技巧 = MAX(ABL:ARG:技巧, 3)

SIF TALENT:ARG:施虐狂
	ABL:ARG:施虐属性 = 2 + RAND:2
SIF TALENT:ARG:受虐狂
	ABL:ARG:受虐属性 = 2 + RAND:2
;各种经验 基本は感觉があるもののみ追加 Ｍ感觉に关しては接吻经验とも络むので稍微特殊
SIF ABL:ARG:Ｃ感觉
	EXP:ARG:Ｃ经验 = RAND:(MAX((ABL:ARG:Ｃ感觉 + TALENT:ARG:容易自慰) * 40, MAX(ABL:ARG:Ｃ感觉, 1) * 10))
SIF ABL:ARG:Ａ感觉 && EXP:ARG:Ａ经验 < 50;Ａ性交で加算されてる场合は避ける
	EXP:ARG:Ａ经验 += RAND:(MAX((ABL:ARG:Ａ感觉 + TALENT:ARG:容易自慰) * 30, MAX(ABL:ARG:Ａ感觉, 1) * 10))
SIF ABL:ARG:Ｂ感觉 || EXP:ARG:乳交经验
	EXP:ARG:Ｂ经验 = RAND:(MAX((ABL:ARG:Ｂ感觉 + TALENT:ARG:容易自慰) * 40, MAX(ABL:ARG:Ｂ感觉, 1) * 10)) + EXP:ARG:乳交经验
IF ABL:ARG:Ｍ感觉 || EXP:ARG:口淫经验 || RANK
	EXP:ARG:Ｍ经验 = RAND:(MAX(ABL:ARG:Ｍ感觉 * 15, MAX(ABL:ARG:Ｍ感觉, 1) * 5)) + EXP:ARG:口淫经验
	SIF TALENT:ARG:无接吻经验 && EXP:ARG:口淫经验 == 0
		EXP:ARG:Ｍ经验 = 0
	SIF TALENT:ARG:无接吻经验 == 0
		EXP:ARG:接吻经验 = EXP:ARG:Ｍ经验 - EXP:ARG:口淫经验
	IF RANK
		EXP:ARG:接吻经验 += EXP:ARG:口淫经验
		ABL:ARG:Ｍ感觉 = (ABL:ARG:Ｃ感觉+ ABL:ARG:Ｖ感觉 + ABL:ARG:Ｂ感觉) / 3
	ENDIF
ENDIF
;自慰经验 未亡人・容易自慰に
EXP:ARG:自慰经验 = (10 * POWER(TALENT:ARG:人妻, 2)) + RAND:(25 * (1 + (TALENT:ARG:容易自慰 * 3)))
;自慰经验と比较して一応辻褄合わせ
SIF EXP:ARG:自慰经验 > EXP:ARG:Ｃ经验 + EXP:ARG:Ｖ经验 + EXP:ARG:Ａ经验 + EXP:ARG:Ｂ经验 + EXP:ARG:Ｍ经验
	EXP:ARG:Ｃ经验 += EXP:ARG:自慰经验 - (EXP:ARG:Ｃ经验 + EXP:ARG:Ｖ经验 + EXP:ARG:Ａ经验 + EXP:ARG:Ｂ经验 + EXP:ARG:Ｍ经验)

;各部位绝顶经验 とりあえず
EXP:ARG:Ｃ绝顶经验 = ABL:ARG:Ｃ感觉  
EXP:ARG:Ｖ绝顶经验 = ABL:ARG:Ｖ感觉
EXP:ARG:Ａ绝顶经验 = ABL:ARG:Ａ感觉
EXP:ARG:Ｂ绝顶经验 = ABL:ARG:Ｂ感觉
EXP:ARG:Ｍ绝顶经验 = ABL:ARG:Ｍ感觉

;中毒と绝顶を水增し
IF RANK
	FOR COUNT, 5, 10
		EXP:ARG:COUNT += (EXP:ARG:COUNT * 5) + RAND:9
	NEXT
	EXP:ARG:绝顶经验 = SUMARRAY(EXP:ARG:0, 5, 10) + SUMARRAY(ABL:ARG:0, 0, 5)
	ABL:ARG:精液中毒 = EXP:ARG:精液经验 / 25
	ABL:ARG:膣射中毒 = EXP:ARG:膣射经验 / 12
	ABL:ARG:肛射中毒 = EXP:ARG:肛射经验 / 8
	SIF ABL:ARG:精液中毒 < ABL:ARG:膣射中毒
		ABL:ARG:精液中毒 = ABL:ARG:膣射中毒
ELSE
	EXP:ARG:绝顶经验 = ABL:ARG:Ｃ感觉+ ABL:ARG:Ｖ感觉 + ABL:ARG:Ａ感觉 + ABL:ARG:Ｂ感觉 + ABL:ARG:Ｍ感觉
ENDIF
CFLAG:ARG:积攒度 = RAND:(ABL:ARG:欲望 * 50 + 100) + RAND:(ABL:ARG:欲望 * 50 + 100) + RAND:(RANK * 250 + 1)
;[娼妇]と魅魔には[淫乱]付与
IF RANK > 1
	TALENT:ARG:淫乱 = 1
	;实绩解除済み＆敏感素質有りなら上位快感应答素質も付与
	FOR COUNT, 1, 6
		SIF !GETBIT (FLAG:技能BOUNS取得状况, COUNT) || TALENT:ARG:(100 + (COUNT == 5) + COUNT) < 1
			CONTINUE
		TALENT:ARG:(72 + COUNT) = 1
	NEXT
ENDIF
;----------------------------------------------------------------------------------------
;BIASED_RANDOMを使用して离散的な数值のTALENTを设定する函数
;----------------------------------------------------------------------------------------
@SET_BIASED_TALENT(C_ID, TAL_NAME, 候补:1, 概率:1, 候补:2, 概率:2, 候补:3, 概率:3, 候补:4, 概率:4, 候补:5, 概率:5)
#DIM  C_ID
#DIMS TAL_NAME
#DIM  候补,6
#DIM  概率,6
CALL BIASED_RANDOM(候补:1, 概率:1, 候补:2, 概率:2, 候补:3, 概率:3, 候补:4, 概率:4, 候补:5, 概率:5)
TALENT:C_ID:TAL_NAME = RESULT

;----------------------------------------------------------------------------------------
;候补と概率を入れると随机で数字を返すよ
;たとえばBIASED_RANDOM(1, 100, 2, 50, 3, 200, 10, 10)だと
;100/1000で1, 50/1000で2, 200/1000で3, 10/1000で10が返ってくるよ
;----------------------------------------------------------------------------------------
@BIASED_RANDOM(候补:1,概率:1,候补:2,概率:2,候补:3,概率:3,候补:4,概率:4,候补:5,概率:5)

#DIM 候补,6
#DIM 概率,6
CALL FISHER_YATES_SHAFFLE(6)
FOR LOCAL:1, 0 , 6
	LOCAL = SHAFFLE_ARRAY:(LOCAL:1)
	SIF !候补:LOCAL
		CONTINUE
	SIF 概率:LOCAL > RAND:1000
		RETURN 候补:LOCAL
NEXT
RETURN 0


[SKIPSTART]
妄想してるだけだから气にするな
たぶんMAKE_YUKIZURI(ARG,ARGS)侧も想定してるだろうが、
ARGSとしてMOB娘の种别ARGSを渡すことで各种种族をつくることができる

@RAND_NAPNA_TARGET(SPOT_ID)
#FUNCTIONS
#DIM  P_ID
IF GET_MAPID(P_ID) == MAIN_MAP
	SELECTCASE P_ID
	CASE 202, 803
	;人里は人类やら妖怪やら多种族が充实？
	;索道站、人は多そう
		RETURNF TEXTR("町娘/人妻/幽灵/妖怪娘/妖精女仆/路人因幡/妖精娘/魔法使/天狗/河童/鬼")
	CASE 121
	;墓地、幽灵と妖怪、夜限定とかだと面白いが活动时间を设定するのは面倒？？？
		RETURNF TEXTR("幽灵/妖怪娘")
	CASE 309, 323
	;红魔馆
		RETURNF "妖精女仆"
	CASE 403
	;永远亭
		RETURNF "路人因幡"
	CASE 433
	;竹林
		RETURNF "妖怪娘"
	CASE 438
	;太阳畑
		RETURNF "妖精娘"
	CASE 508
	;魔法之森广场、魔法使
		RETURNF "魔法使"
	;妖怪之山关联はちと思いつかず
	;麓は妖怪と河童だろうか？
	
	CASE 814
	;湖畔、天狗？
		RETURNF "天狗"
	CASE 931
	;旧都大街、鬼や妖怪など
		RETURNF TEXTR("鬼/妖怪娘")
	
	;あといないのは付丧神や天人、仙人、死神、神など
	ENDSELECT
ELSE
	SELECTCASE P_ID
	CASE 210
	ENDSELECT
ENDIF

;保留中
@REVEAL_SUCCUBUS
@HIDE_SUCCUBUS
[SKIPEND]

@REVEAL_YOUKAI(ARG)
#DIMS ACC_EAR
#DIMS ACC_TAIL
#DIMS ACC_LEAF
SIF !TALENT:ARG:人类
	RETURN
SELECTCASE CFLAG:ARG:妖怪变化
	CASE 0
		RETURN
	CASE 1
		CSTR:ARG:路人子种族 = 妖怪狸
		ACC_EAR = 狸猫耳
		ACC_TAIL = 狸猫尾巴
		ACC_LEAF = 装饰_狸猫叶子
		TALENT:ARG:动物耳 = 1
	CASE 2
		CSTR:ARG:路人子种族 = 妖怪狐
		ACC_EAR = 狐耳
		ACC_TAIL = 狐尾巴
		TALENT:ARG:动物耳 = 1
		TALENT:ARG:妖狐 = 1
ENDSELECT
TALENT:ARG:人类 = 0
CALL COLORMESSAGE(@"外道照身灵波光线!看你的真面目！",C_YELLOW,2)
PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%的脑袋上蹦出一个妖怪的耳朵!
PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%竟然是变成人类的妖怪！

FOR LOCAL,30,36
	CSTR:ARG:LOCAL = %REPLACE(@"%CSTR:ARG:LOCAL%","[装饰1:装饰_无][装饰2:装饰_无]", @"[装饰1:装饰_%ACC_EAR%][装饰2:装饰_%ACC_TAIL%]")%
	SIF CFLAG:ARG:妖怪变化 == 1
		CSTR:ARG:LOCAL = %DIC_SET(CSTR:ARG:LOCAL,"装饰3",ACC_LEAF)%
NEXT

CSTR:ARG:路人子PROFILE１ = %REPLACE(@"%CSTR:ARG:路人子PROFILE１%","相遇的町娘", @"相遇的变化成町娘的%CSTR:ARG:路人子种族%")%

CALL 路人子画像リセット(ARG)

;路人子の一人称/二人称を设定する
@SET_MOB_PERSON(ARG, 敌对)
;TODO 也许要做学生相关的称谓内容
#DIM 年龄差
#DIM 体格差
#DIM 呼称
#DIM 敌对
呼称 = (TALENT:MASTER:性别 == 2)
年龄差 = TALENT:MASTER:年龄
体格差 = (TALENT:MASTER:体型 + 2 <= TALENT:ARG:体型)
IF TALENT:MASTER:幼稚 || TALENT:MASTER:幼儿／幼儿退行 || 年龄差 == -1
	IF TALENT:ARG:幼稚 || TALENT:ARG:幼儿／幼儿退行
		年龄差 = 0
	ELSE
		年龄差 = -1
	ENDIF
ELSEIF (TALENT:ARG:幼稚 || TALENT:ARG:幼儿／幼儿退行) && 年龄差 != 2
	年龄差 = 1
ENDIF
路人子一人称 = %TEXTR(@"咱/我/我/我/%NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%")%
IF CFLAG:ARG:性格倾向 == 2 || (TALENT:ARG:胆量 > 0 && TALENT:ARG:自尊心 > 0)
	SIF !RAND:5 && CSTR:ARG:路人子种族 == "鬼"
		路人子一人称 = %TEXTR("俺们/俺")%
	SIF !RAND:4
		路人子一人称 = %TEXTR(@"我/我/咱/%NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%")%
	路人子二人称 = %TEXTR("汝/你/你/你/您/您")%
	SIF STRCOUNT(路人子二人称, "(你)") && (!RAND:4 || TALENT:ARG:风俗娘)
		路人子二人称 = %路人子二人称%桑
	SIF RAND:3
		GOTO SKIP
	SIF !RAND:3 && !TALENT:ARG:人妻
		路人子二人称 = %\@ 呼称 ? %TEXTR("兄桑/哥哥酱/哥哥")% # %TEXTR("姊桑/姊酱/姐姐")% \@%
	SIF RAND:2
		GOTO SKIP
	IF 年龄差 > 0
		IF 呼称
			IF CSTR:ARG:路人子种族 == "鬼" && 敌对
				路人子二人称 = %\@ 年龄差 == 2 ? 老头 # 大叔 \@%
			ELSEIF RAND:2
				路人子二人称 = %\@ 年龄差 == 2 ? 爷爷 # 叔叔 \@%
			ELSE
				路人子二人称 = %\@ 年龄差 == 2 ? 老爷爷 # 叔叔桑 \@%
			ENDIF
		ELSE
			IF CSTR:ARG:路人子种族 == "鬼" && 敌对
				路人子二人称 = %\@ 年龄差 == 2 ? 老太婆 # 阿姨 \@%
			ELSEIF RAND:2
				路人子二人称 = %\@ 年龄差 == 2 ? 奶奶 # 老姐 \@%
			ELSE
				路人子二人称 = %\@ 年龄差 == 2 ? 老奶奶 # 老姐 \@%
			ENDIF
		ENDIF
	ELSEIF 体格差 > 0
		IF 敌对 && CSTR:ARG:路人子种族 == "鬼"
			路人子二人称 = %\@ 呼称 ? 小不点 # 小不点 \@%
		ELSE
			路人子二人称 = %\@ 呼称 ? 小不点桑 # 小不点酱 \@%
		ENDIF
	ELSEIF 年龄差 < 0 && 敌对 && CSTR:ARG:路人子种族 == "鬼"
		路人子二人称 = %\@ 呼称 ? 小孩 # 小女孩 \@%
	ENDIF
ELSE
	路人子二人称 = %TEXTR("你/您")%
	SIF TALENT:ARG:风俗娘
		路人子二人称 = 您
	IF CFLAG:ARG:性格倾向 == 4
		路人子一人称 = %TEXTR("人家/我/咱")%
		路人子二人称 = 您
		RETURN
	ELSEIF (RAND:2 && CFLAG:ARG:性格倾向 == 3) || !RAND:5
		路人子一人称 = %TEXTR(@"我/我/咱/%NAME_OUTPUT_TRANSLATION("CALLNAME", ARG)%")%
	ENDIF
	SIF RAND:3
		GOTO SKIP
	SIF !RAND:3 && !TALENT:ARG:人妻
		路人子二人称 = %\@ 呼称 ? %TEXTR("兄桑/欧尼桑")% # %TEXTR("姊桑/欧涅桑")% \@%
	SIF RAND:2
		GOTO SKIP
	IF 年龄差 > 0 
		IF 呼称
			SELECTCASE CFLAG:ARG:性格倾向
				CASE 1
					路人子二人称 = %\@ 年龄差 == 2 ? 爷爷桑 # 叔叔桑 \@%
				CASE 3
					路人子二人称 = %\@ 年龄差 == 2 ? 爷爷 # 叔叔 \@%
					SIF 年龄差 == 1 && RAND:3
						路人子二人称 = %TEXTR("哥哥酱/欧尼酱/哥哥")%
				CASE 5
					路人子二人称 = %\@ 年龄差 == 2 ? 老爷爷 # 叔叔桑 \@%
			ENDSELECT
		ELSE
			SELECTCASE CFLAG:ARG:性格倾向
				CASE 1
					路人子二人称 = %\@ 年龄差 == 2 ? 老奶奶 # 老姐 \@%
				CASE 3
					路人子二人称 = %\@ 年龄差 == 2 ? 奶奶 # 老姐 \@%
					SIF 年龄差 == 1 && RAND:3
						路人子二人称 = %TEXTR("姊ちゃん/お姊ちゃん/おねえちゃん")%
				CASE 5
					路人子二人称 = %\@ 年龄差 == 2 ? 老婆婆 # 阿姨 \@%
			ENDSELECT
		ENDIF
	ELSEIF 体格差 > 0 || 年龄差 < 0 
		路人子二人称 = %\@ 呼称 ? 公子 # 小姐姐 \@%
	ENDIF
ENDIF
$SKIP
SIF 路人子一人称 == CALLNAME:ARG && !RAND:3
	路人子一人称 += "酱"
RETURN
