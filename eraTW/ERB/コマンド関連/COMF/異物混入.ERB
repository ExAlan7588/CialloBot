;COMF413 制作料理.erbに统合されました＠料理改良パッチ
[SKIPSTART]
@MIX_MENU
PRINTL 要把什么混进去吗？
{
CALL ASK_M(
	"算了",  1,
	"更改调味", !GET_OPTION_COOKING("自动味付け设定"),
	"做出更刺激的味道",  GET_OPTION_COOKING("异物混入可能"),
	"混入药剂",  GET_OPTION_COOKING("药物混入可能") && MAX(ITEM:媚药, ITEM:利尿剂, ITEM:催情药, ITEM:睡眠药) > 0
	)
}
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	CALL MANUAL_SEASONING
CASE 2
	CALL MIXTURE_SPICE
CASE 3
	CALL MIXTURE_DRUG
ENDSELECT
RETURN RESULT



@AUTO_SEASONING
#DIM AUTO_TASTE
SIF TCVAR:MASTER:308
	RETURN
TCVAR:MASTER:308 = (GET_OPTION_COOKING("自动味付け设定") - 10)



@MANUAL_SEASONING
PRINTL 要变更调料吗？
CALL ASK_M("普通",  1, "重口味", 1, "清淡的味道",  1)
SELECTCASE RESULT
CASE 2
	PRINTL 将料理调整成清淡的了
CASE 1
	PRINTL 将料理调整成重口味了
CASE 0
	PRINTFORML 将料理调整成了%NAME_OUTPUT_TRANSLATION("CALLNAME", MASTER)%喜欢的口味
ENDSELECT
SIF RESULT
	TCVAR:MASTER:308 = RESULT
RETURN RESULT



@MIXTURE_SPICE
#DIM CONST BIT_MIX_SPICE = 0, 3, 4, 5, 6
PRINTL 要添加什么呢…
{
CALL ASK_M(
	"果然还是放弃",  1,
	"变态辣DEATH酱汁", 1,
	"超甜糖精",  1,
	"大量芥末",  1,
	"浓缩柠檬果汁",  1)
}
SIF RESULT
	SETBIT TCVAR:MASTER:308, BIT_MIX_SPICE:RESULT
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往作好的%DISH_NAME%里加入了DEATH酱汁
	PRINTFORML %DISH_NAME%眼看着被染成了一片椒红色
CASE 2
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往%DISH_NAME%里加入了白色粉末状的糖精 
	PRINTFORML 虽然看上去不起眼但甜度可是砂糖的300倍呢
CASE 3
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%把新鲜的山葵磨成芥末加进了%DISH_NAME%里
	PRINTFORML 冲击性的好味道刺激着%NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%的鼻子
CASE 4
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往%DISH_NAME%里加入了浓缩柠檬果汁
	PRINTFORML 虽然看上去不起眼但想必十分之酸吧
ENDSELECT
RETURN 1



@MIXTURE_DRUG
#DIM CONST BIT_MIX_DRUG = 0, 21, 22, 23, 24
PRINTL 要添加什么呢…
{
CALL ASK_M(
	"果然还是放弃",       1,
	"媚药",   ITEM:媚药   > 0,
	"利尿剂", ITEM:利尿剂 > 0,
	"催情药", ITEM:催情药 > 0,
	"睡眠药", ITEM:睡眠药 > 0)
}
SIF RESULT
	SETBIT TCVAR:MASTER:308, BIT_MIX_DRUG:RESULT
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从怀中拿出媚药、混进了%DISH_NAME%里…
	ITEM:媚药 --
CASE 2
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从怀中拿出利尿剂、混进了%DISH_NAME%里…
	ITEM:利尿剂 --
CASE 3
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%は怀から催情药を出すと、%DISH_NAME%に混ぜた…
	ITEM:催情药 --
CASE 4
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从怀中拿出睡眠药、混进了%DISH_NAME%里…
	ITEM:睡眠药 --
ENDSELECT
RETURN 1
[SKIPEND]


