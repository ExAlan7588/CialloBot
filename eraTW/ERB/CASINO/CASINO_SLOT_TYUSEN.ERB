;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;红魔CASINOスロットの样々な抽选判定;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;=====================================================
;32Ｇ连中(全部のレア役は中奖を行っている)
;=====================================================

;中段樱桃(BOUNS确定)
@中段樱桃_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1 TO 6
	RETURNF 100
CASEELSE
	RETURNF 0
ENDSELECT


;大樱桃(当选率1:60％,2:50％,3:60％,4:50％,5:60％,6:60％)
;奇数设定优遇(设定6除く)
@大樱桃_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1
	RETURNF 60
CASE 2
	RETURNF 50
CASE 3
	RETURNF 60
CASE 4
	RETURNF 50
CASE 5
	RETURNF 60
CASE 6
	RETURNF 60
CASEELSE
	RETURNF 0
ENDSELECT

;小樱桃(当选率1:20％,2:22％,3:25％,4:28％,5:30％,6:35％)
@小樱桃_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1
	RETURNF 20
CASE 2
	RETURNF 22
CASE 3
	RETURNF 25
CASE 4
	RETURNF 28
CASE 5
	RETURNF 30
CASE 6
	RETURNF 35
CASEELSE
	RETURNF 0
ENDSELECT

;强西瓜(当选率1:40％,2:50％,3:40％,4:50％,5:40％,6:50％)
;偶数设定优遇
@强西瓜_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1
	RETURNF 40
CASE 2
	RETURNF 50
CASE 3
	RETURNF 40
CASE 4
	RETURNF 50
CASE 5
	RETURNF 40
CASE 6
	RETURNF 50
CASEELSE
	RETURNF 0
ENDSELECT

;弱西瓜(当选率1:15％,2:16％,3:18％,4:20％,5:25％,6:30％)
@弱西瓜_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1
	RETURNF 15
CASE 2
	RETURNF 16
CASE 3
	RETURNF 18
CASE 4
	RETURNF 20
CASE 5
	RETURNF 25
CASE 6
	RETURNF 30
CASEELSE
	RETURNF 0
ENDSELECT

;ベル(当选率1:0.2％,2:0.2％,3:0.2％,4:0.5％,5:0.5％,6:1％)
;この函数は1000分率にて使用する ex)IF RAND(1000) < ベル_32G连中(设定)
@ベル_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1 TO 3
	RETURNF 2
CASE 4,5
	RETURNF 5
CASE 6
	RETURNF 10
CASEELSE
	RETURNF 0
ENDSELECT

;回放(当选率1:0.1％,2:0.1％,3:0.1％,4:0.1％,5:0.1％,6:0.1％)
;この函数は1000分率にて使用する ex)IF RAND(1000) < 回放_32G连中(设定)
@回放_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1 TO 6
	RETURNF 1
CASEELSE
	RETURNF 0
ENDSELECT

;落空了(当选率1:20％,2:20％,3:33％,4:33％,5:50％,6:50％)
;高设定优遇(设定判别要素)
@落空了_32G连中(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定
CASE 1
	RETURNF 20
CASE 2
	RETURNF 20
CASE 3
	RETURNF 33
CASE 4
	RETURNF 33
CASE 5
	RETURNF 50
CASE 6
	RETURNF 50
CASEELSE
	RETURNF 0
ENDSELECT

;=====================================================
;通常,高确,超高确(全部のレア役は中奖を行っている)
;BOUNS当选で1を返し非当选で0を返す
;=====================================================
@中奖_非32G连(当选的小役,设定,内部状态)
#FUNCTION
#DIM REF 当选的小役
#DIM REF 设定
#DIM REF 内部状态

#DIM 当选率

;当选小役の种类
#DIM CONST 当选小役_大樱桃 = 4
#DIM CONST 当选小役_小樱桃 = 5
#DIM CONST 当选小役_强西瓜 = 6
#DIM CONST 当选小役_弱西瓜 = 7
#DIM CONST 当选小役_ベル = 8
#DIM CONST 当选小役_回放 = 9
#DIM CONST 当选小役_落空了 = 99

SELECTCASE 当选的小役
	;===================================
	;大樱桃
	;	设定	1	2	3	4	5	6
	;	概率	18％19％21％22％24％25％
	;===================================
	CASE 当选小役_大樱桃
		SELECTCASE 设定
			CASE 1
				当选率 = 18
			CASE 2
				当选率 = 19
			CASE 3
				当选率 = 21
			CASE 4
				当选率 = 22
			CASE 5
				当选率 = 24
			CASE 6
				当选率 = 25
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(100) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	;===================================
	;小樱桃
	;	设定	1	2	3	4	5	6
	;	概率	09％09％10％10％12％12％
	;===================================
	CASE 当选小役_小樱桃
		SELECTCASE 设定
			CASE 1
				当选率 = 9
			CASE 2
				当选率 = 9
			CASE 3
				当选率 = 10
			CASE 4
				当选率 = 10
			CASE 5
				当选率 = 12
			CASE 6
				当选率 = 12
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(100) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	;===================================
	;强西瓜
	;	设定	1	2	3	4	5	6
	;	概率	15％16％17％18％19％20％
	;===================================
	CASE 当选小役_强西瓜
		SELECTCASE 设定
			CASE 1
				当选率 = 15
			CASE 2
				当选率 = 16
			CASE 3
				当选率 = 17
			CASE 4
				当选率 = 18
			CASE 5
				当选率 = 19
			CASE 6
				当选率 = 20
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(100) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	;===================================
	;弱西瓜
	;	设定	1	2	3	4	5	6
	;	概率	07％08％08％09％09％10％
	;===================================
	CASE 当选小役_弱西瓜
		SELECTCASE 设定
			CASE 1
				当选率 = 7
			CASE 2
				当选率 = 8
			CASE 3
				当选率 = 8
			CASE 4
				当选率 = 9
			CASE 5
				当选率 = 9
			CASE 6
				当选率 = 10
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(100) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	;===================================
	;ベル
	;	设定	1	2	3	4	5	6
	;	概率	0％	0％	0％	0％	0％	0％
	;===================================
	CASE 当选小役_ベル
		RETURNF 0
	;========================================================
	;回放
	;	设定	1		2		3		4		5		6
	;	概率	0.2％	0.2％	0.2％	0.2％	0.3％	0.3％
	;========================================================
	CASE 当选小役_回放
		SELECTCASE 设定
			CASE 1
				当选率 = 2
			CASE 2
				当选率 = 2
			CASE 3
				当选率 = 2
			CASE 4
				当选率 = 2
			CASE 5
				当选率 = 3
			CASE 6
				当选率 = 3
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(1000) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	;========================================================
	;落空了
	;	设定	1		2		3		4		5		6
	;	概率	0.02％	0.02％	0.02％	0.02％	0.03％	0.03％
	;========================================================
	CASE 当选小役_落空了
		SELECTCASE 设定
			CASE 1
				当选率 = 2
			CASE 2
				当选率 = 2
			CASE 3
				当选率 = 2
			CASE 4
				当选率 = 2
			CASE 5
				当选率 = 3
			CASE 6
				当选率 = 3
			CASEELSE
				当选率 = 0
		ENDSELECT
		FOR LOCAL,0,内部状态
			SIF RAND(10000) < 当选率
				RETURNF 1
		NEXT
		RETURNF 0
	CASEELSE
		RETURNF 0
ENDSELECT

;=====================================================
;设定决定(设定)
;座ったスロットの设定を决める
;7のつく日は设定优遇(设定3以上确定)
;土日は设定优遇(设定2以上确定)
;=====================================================
@设定决定(设定)
#DIM REF 设定
#DIMS 曜日

曜日 = %GET_DAY()%
;7のつく日は设定优遇(设定3以上确定)
IF DAY:3 == 7 || DAY:3 == 17 || DAY:3 == 27
	设定 = RAND(4) + 3
;土日は设定优遇(设定2以上确定)
ELSEIF 曜日 == "土" || 曜日 == "日"
	设定 = RAND(5) + 2
ELSE
	设定 = RAND(6) + 1
ENDIF
;=====================================================
;短周期连结束时状态振り分け(设定)
;			1通常	2高确	3超高确
;	设定1	80％	10％	10％
;	设定2	68％	20％	12％
;	设定3	65％	20％	15％
;	设定4	50％	30％	20％
;	设定5	45％	30％	25％
;	设定6	30％	40％	30％
;=====================================================
@短周期连结束时状态振り分け(设定)
#FUNCTION
#DIM REF 设定

SELECTCASE 设定

;设定1
CASE 1
	SELECTCASE RAND(100)
	CASE 0 TO 79
		RETURNF 1
	CASE 80 TO 89
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

;设定2
CASE 2
	SELECTCASE RAND(100)
	CASE 0 TO 67
		RETURNF 1
	CASE 68 TO 87
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

;设定3
CASE 3
	SELECTCASE RAND(100)
	CASE 0 TO 64
		RETURNF 1
	CASE 65 TO 84
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

;设定4
CASE 4
	SELECTCASE RAND(100)
	CASE 0 TO 49
		RETURNF 1
	CASE 50 TO 79
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

;设定5
CASE 5
	SELECTCASE RAND(100)
	CASE 0 TO 44
		RETURNF 1
	CASE 45 TO 74
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

;设定6
CASE 6
	SELECTCASE RAND(100)
	CASE 0 TO 29
		RETURNF 1
	CASE 30 TO 69
		RETURNF 2
	CASEELSE
		RETURNF 3
	ENDSELECT

CASEELSE
	RETURNF 1
ENDSELECT

;=================================================================
;前兆设定(内部状态)当选までのG数を设定する
;			～8G	9~15G	16G		17~31G	32G
;	32G连	各1％	各1％	20％	各1％	50％ (但し天井优先)
;	以外	各1％	各1％	35％	各1％	35％ 
;=================================================================
@前兆设定(内部状态)
#FUNCTION
#DIM REF 内部状态
#DIM 振り分け
;32G连
IF 内部状态 == 4
	
	振り分け = RAND(100)
	
	SIF 振り分け < 50
		RETURNF 32
	
	SIF 振り分け < 70
		RETURNF 16
	
	振り分け = RAND(30) + 1
	SIF 振り分け > 15
		振り分け ++
	RETURNF 振り分け
;32G连以外
ELSE
	
	振り分け = RAND(100)
	
	SIF 振り分け < 35
		RETURNF 32
	
	SIF 振り分け < 70
		RETURNF 16
	
	振り分け = RAND(30) + 1
	SIF 振り分け > 15
		振り分け ++
	RETURNF 振り分け
ENDIF

;=================================================================
;短周期连继续率设定(设定)短周期连继续率を设定する
;	继续率	0～49％	50％	75％	80％	90％	95％	期待值
;	设定1	40.00％	47.00％	10.00％	02.00％	00.99％	00.01％	43.30％
;	设定2	30.00％	54.90％	11.00％	03.00％	01.08％	00.02％	46.44％
;	设定3	25.00％	59.05％	11.50％	03.25％	01.17％	00.03％	47.96％
;	设定4	20.00％	63.20％	12.00％	03.50％	01.26％	00.04％	49.47％
;	设定5	19.00％	63.10％	12.75％	03.75％	01.35％	00.05％	50.03％
;	设定6	16.00％	65.00％	13.50％	04.00％	01.44％	00.06％	51.10％
;=================================================================
@短周期连继续率设定(设定)
#FUNCTION
#DIM REF 设定
#DIM 继续率_５０％
#DIM 继续率_７５％
#DIM 继续率_８０％
#DIM 继续率_９０％
#DIM 继续率_９５％
#DIM 继续率

SELECTCASE 设定
	;设定1の场合
	CASE 1
		继续率_５０％ = 4700
		继续率_７５％ = 1000
		继续率_８０％ = 200
		继续率_９０％ = 99
		继续率_９５％ = 1
	;设定2の场合
	CASE 2
		继续率_５０％ = 5490
		继续率_７５％ = 1100
		继续率_８０％ = 300
		继续率_９０％ = 108
		继续率_９５％ = 2
	;设定3の场合
	CASE 3
		继续率_５０％ = 5905
		继续率_７５％ = 1150
		继续率_８０％ = 325
		继续率_９０％ = 117
		继续率_９５％ = 3
	;设定4の场合
	CASE 4
		继续率_５０％ = 6320
		继续率_７５％ = 1200
		继续率_８０％ = 350
		继续率_９０％ = 126
		继续率_９５％ = 4
	;设定5の场合
	CASE 5
		继续率_５０％ = 6310
		继续率_７５％ = 1275
		继续率_８０％ = 375
		继续率_９０％ = 135
		继续率_９５％ = 5
	;设定6の场合
	CASE 6
		继续率_５０％ = 6500
		继续率_７５％ = 1350
		继续率_８０％ = 400
		继续率_９０％ = 144
		继续率_９５％ = 6
ENDSELECT

继续率 = RAND(10000)
;继续率98％
SIF 继续率 < 继续率_９５％
	RETURNF 95
;继续率90％
SIF 继续率 < 继续率_９５％ + 继续率_９０％
	RETURNF 90
;继续率80％
SIF 继续率 < 继续率_９５％ + 继续率_９０％ +继续率_８０％
	RETURNF 80
;继续率75％
SIF 继续率 < 继续率_９５％ + 继续率_９０％ +继续率_８０％ + 继续率_７５％
	RETURNF 75
;继续率50％
SIF 继续率 < 继续率_９５％ + 继续率_９０％ +继续率_８０％ + 继续率_７５％ + 继续率_５０％
	RETURNF 50
;继续率0～49％
RETURNF RAND(50)

;=================================================================
;短周期连继续率变更(设定)
;	增加率	1％		2％		3％		5％		10％	20％	期待值
;	设定1	80％	15％	4.0％	0.90％	0.09％	0.01％	1.276
;	设定2	75％	16％	7.0％	1.80％	0.18％	0.02％	1.392
;	设定3	70％	18％	9.0％	2.67％	0.30％	0.03％	1.4995
;	设定4	65％	20％	10％	4.50％	0.45％	0.05％	1.63
;	设定5	60％	21％	11％	7.25％	0.67％	0.08％	1.7955
;	设定6	50％	25％	15％	9.00％	0.90％	0.10％	2.01
;=================================================================
@短周期连继续率变更(设定)
#FUNCTION
#DIM REF 设定
#DIM 增加_１％
#DIM 增加_２％
#DIM 增加_３％
#DIM 增加_５％
#DIM 增加_１０％
#DIM 增加_２０％
#DIM 增加

SELECTCASE 设定
	;设定1の场合
	CASE 1
		增加_１％ = 8000
		增加_２％ = 1500
		增加_３％ = 400
		增加_５％ = 90
		增加_１０％ = 9
		增加_２０％ = 1
	;设定2の场合
	CASE 2
		增加_１％ = 7500
		增加_２％ = 1600
		增加_３％ = 700
		增加_５％ = 180
		增加_１０％ = 18
		增加_２０％ = 2
	;设定3の场合
	CASE 3
		增加_１％ = 7000
		增加_２％ = 1800
		增加_３％ = 900
		增加_５％ = 267
		增加_１０％ = 30
		增加_２０％ = 3
	;设定4の场合
	CASE 4
		增加_１％ = 6500
		增加_２％ = 2000
		增加_３％ = 1000
		增加_５％ = 450
		增加_１０％ = 45
		增加_２０％ = 5
	;设定5の场合
	CASE 5
		增加_１％ = 6000
		增加_２％ = 2100
		增加_３％ = 1100
		增加_５％ = 725
		增加_１０％ = 67
		增加_２０％ = 8
	;设定6の场合
	CASE 6
		增加_１％ = 5000
		增加_２％ = 2500
		增加_３％ = 1500
		增加_５％ = 900
		增加_１０％ = 90
		增加_２０％ = 10
ENDSELECT

增加 = RAND(10000)
SIF 增加 < 增加_２０％
	RETURNF 20
SIF 增加 < 增加_２０％ + 增加_１０％
	RETURNF 10
SIF 增加 < 增加_２０％ + 增加_１０％ + 增加_５％
	RETURNF 5
SIF 增加 < 增加_２０％ + 增加_１０％ + 增加_５％ + 增加_３％
	RETURNF 3
SIF 增加 < 增加_２０％ + 增加_１０％ + 增加_５％ + 增加_３％ + 增加_２％
	RETURNF 2
SIF 增加 < 增加_２０％ + 增加_１０％ + 增加_５％ + 增加_３％ + 增加_２％ + 增加_１％
	RETURNF 1
RETURNF 1
;=================================================================
;小役抽选(内部状态)
;	各子役を抽选する
;	全体	131072	
;	中チェ	4		(1/32768)(0.003%)
;	强チェ	350		(1/374.5)(0.267%)
;	弱チェ	1050	(1/124.8)(0.801%)
;	强スイ	450		(1/291.3)(0.343%)
;	弱スイ	1350	(1/97.09)(1.030%)
;	ベル	12000	(1/10.92)(9.155%)
;	リプ	14000	(1/9.362)(10.68%)
;	ハズレ	101468	(1/1.287)(77.72%)

;	全体	131072	
;	中チェ	4		(1/32768)(0.003%)
;	强チェ	400		(1/327.6)(0.305%)
;	弱チェ	1200	(1/109.2)(0.916%)
;	强スイ	500		(1/262.1)(0.381%)
;	弱スイ	1500	(1/87.38)(1.144%)
;	ベル	40460	(1/3.240)(30.86%)
;	リプ	86508	(1/1.515)(66.00%)
;	ハズレ	500		(1/262.1)(0.381%)
;=================================================================
@小役抽选(内部状态)
#FUNCTION
#DIM CONST 中段樱桃概率 = 4
#DIM CONST 大樱桃概率 = 350
#DIM CONST 小樱桃概率 = 1050
#DIM CONST 强西瓜概率 = 450
#DIM CONST 弱西瓜概率 = 1350
#DIM CONST ベル概率 = 12000
#DIM CONST 回放概率 = 14000

#DIM CONST 中段樱桃概率_３２Ｇ连中 = 4
#DIM CONST 大樱桃概率_３２Ｇ连中 = 400
#DIM CONST 小樱桃概率_３２Ｇ连中 = 1200
#DIM CONST 强西瓜概率_３２Ｇ连中 = 500
#DIM CONST 弱西瓜概率_３２Ｇ连中 = 1500
#DIM CONST ベル概率_３２Ｇ连中 = 40460
#DIM CONST 回放概率_３２Ｇ连中 = 86508

#DIM REF 内部状态

#DIM 抽选番号

抽选番号 = RAND(131072)
IF 内部状态 == 4
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中
		RETURNF 3
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中
		RETURNF 4
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中 + 小樱桃概率_３２Ｇ连中
		RETURNF 5
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中 + 小樱桃概率_３２Ｇ连中 + 强西瓜概率_３２Ｇ连中
		RETURNF 6
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中 + 小樱桃概率_３２Ｇ连中 + 强西瓜概率_３２Ｇ连中 + 弱西瓜概率_３２Ｇ连中
		RETURNF 7
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中 + 小樱桃概率_３２Ｇ连中 + 强西瓜概率_３２Ｇ连中 + 弱西瓜概率_３２Ｇ连中 + ベル概率_３２Ｇ连中
		RETURNF 8
	SIF 抽选番号 < 中段樱桃概率_３２Ｇ连中 + 大樱桃概率_３２Ｇ连中 + 小樱桃概率_３２Ｇ连中 + 强西瓜概率_３２Ｇ连中 + 弱西瓜概率_３２Ｇ连中 + ベル概率_３２Ｇ连中 + 回放概率_３２Ｇ连中
		RETURNF 9
	
	RETURNF 99
ELSE
	SIF 抽选番号 < 中段樱桃概率
		RETURNF 3
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率
		RETURNF 4
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率 + 小樱桃概率
		RETURNF 5
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率 + 小樱桃概率 + 强西瓜概率
		RETURNF 6
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率 + 小樱桃概率 + 强西瓜概率 + 弱西瓜概率
		RETURNF 7
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率 + 小樱桃概率 + 强西瓜概率 + 弱西瓜概率 + ベル概率
		RETURNF 8
	SIF 抽选番号 < 中段樱桃概率 + 大樱桃概率 + 小樱桃概率 + 强西瓜概率 + 弱西瓜概率 + ベル概率 + 回放概率
		RETURNF 9

	RETURNF 99
ENDIF
;=========================================================================================================================
;@スロット绘柄决定(当选的小役,绘柄_左上,绘柄_左中,绘柄_左下,绘柄_中上,绘柄_中中,绘柄_中下,绘柄_右上,绘柄_右中,绘柄_右下)
;リール配列
;	左  	中  	右 
;1	REP 	MEL 	BEL
;2	BL7 	BL7 	BL7
;3	CHE 	REP 	MEL
;4	MEL 	BEL 	CHE
;5	BEL 	CHE 	REP
;6	REP 	CHE 	BEL
;7	CHE 	BAR 	RD7
;8	BAR 	REP 	MEL
;9	MEL 	BEL 	BAR
;10	BEL 	CHE 	REP
;11	REP 	RD7 	BEL
;12	BAR 	CHE 	BEL
;13	CHE 	REP 	MEL
;14	MEL 	BEL 	CHE
;15	BEL 	BAR 	REP
;16	REP 	MEL 	BEL
;17	RD7 	CHE 	BAR
;18	CHE 	REP 	MEL
;19	MEL 	BEL 	CHE
;20	BEL 	CHE 	REP
;
;
;当选的小役 
;0:斯卡雷特BB当选
;1:咲夜BB当选
;2:REG当选
;3:中段樱桃当选
;4:大樱桃当选
;5:小樱桃当选
;6:强西瓜当选
;7:弱西瓜当选
;8:ベル当选
;9:回放当选
;99:落空了
;
;左リールの基本的な静止形
;BEL
;REP
;RD7
;西瓜及びベルの一部
;MEL
;BEL
;REP
;チェリーの静止系
;REP
;RD7
;CHE
;中段樱桃
;RD7
;CHE
;MEL
;=========================================================================================================================
@スロット绘柄决定(当选的小役,绘柄_左上,绘柄_左中,绘柄_左下,绘柄_中上,绘柄_中中,绘柄_中下,绘柄_右上,绘柄_右中,绘柄_右下)

#DIM REF 当选的小役

#DIM REF 绘柄_左上
#DIM REF 绘柄_左中
#DIM REF 绘柄_左下
#DIM REF 绘柄_中上
#DIM REF 绘柄_中中
#DIM REF 绘柄_中下
#DIM REF 绘柄_右上
#DIM REF 绘柄_右中
#DIM REF 绘柄_右下

;各绘柄の略称(B_E_Rのみ5文字なのに注意!!)
#DIM CONST RD7 = 1
#DIM CONST BL7 = 2
#DIM CONST BEL = 3
#DIM CONST CHE = 4
#DIM CONST MEL = 5
#DIM CONST B_A_R = 6
#DIM CONST REP = 7
#DIM CONST NUL = 8

;当选小役の种类
#DIM CONST 当选小役_赤7BOUNS = 0
#DIM CONST 当选小役_青7BOUNS = 1
#DIM CONST 当选小役_レギュラーBOUNS = 2
#DIM CONST 当选小役_中樱桃 = 3
#DIM CONST 当选小役_大樱桃 = 4
#DIM CONST 当选小役_小樱桃 = 5
#DIM CONST 当选小役_强西瓜 = 6
#DIM CONST 当选小役_弱西瓜 = 7
#DIM CONST 当选小役_ベル = 8
#DIM CONST 当选小役_回放 = 9
#DIM CONST 当选小役_落空了 = 99

SELECTCASE 当选的小役
	;===================================
	;当选小役_赤7BOUNSは以下の1街道
	;	REP		CHE		BEL
	;	RD7		RD7		RD7
	;	CHE		CHE		MEL
	;===================================
	CASE 当选小役_赤7BOUNS
		绘柄_左上 = REP
		绘柄_左中 = RD7
		绘柄_左下 = CHE
		绘柄_中上 = CHE
		绘柄_中中 = RD7
		绘柄_中下 = CHE
		绘柄_右上 = BEL
		绘柄_右中 = RD7
		绘柄_右下 = MEL
	;===================================
	;当选小役_青7BOUNSは以下の1街道
	;	REP		MEL		BEL
	;	BL7		BL7		BL7
	;	CHE		REP		MEL
	;===================================
	CASE 当选小役_青7BOUNS
		绘柄_左上 = REP
		绘柄_左中 = BL7
		绘柄_左下 = CHE
		绘柄_中上 = MEL
		绘柄_中中 = BL7
		绘柄_中下 = REP
		绘柄_右上 = BEL
		绘柄_右中 = BL7
		绘柄_右下 = MEL
	;===================================
	;当选小役_レギュラーBOUNSは以下の1街道
	;	REP		CHE		BEL
	;	RD7		RD7		B_A_R
	;	CHE		CHE		MEL
	;===================================
	CASE 当选小役_レギュラーBOUNS
		绘柄_左上 = REP
		绘柄_左中 = RD7
		绘柄_左下 = CHE
		绘柄_中上 = CHE
		绘柄_中中 = RD7
		绘柄_中下 = CHE
		绘柄_右上 = BEL
		绘柄_右中 = B_A_R
		绘柄_右下 = MEL
	;===================================
	;当选小役_中樱桃
	;	B_A_R	---		---
	;	CHE		B_A_R	---
	;	MEL		---		B_A_R
	;===================================
	CASE 当选小役_中樱桃
		绘柄_左上 = B_A_R
		绘柄_左中 = CHE
		绘柄_左下 = MEL
		;中リールにて上の停止系は2街道(6,14)
		IF !RAND(2)
			绘柄_中上 = CHE
			绘柄_中中 = B_A_R
			绘柄_中下 = REP
		ELSE
			绘柄_中上 = BEL
			绘柄_中中 = B_A_R
			绘柄_中下 = MEL
		ENDIF
		;右リールにて上の停止系は2街道(8,16)
		IF !RAND(2)
			绘柄_右上 = RD7
			绘柄_右中 = MEL
			绘柄_右下 = B_A_R
		ELSE
			绘柄_右上 = REP
			绘柄_右中 = BEL
			绘柄_右下 = B_A_R
		ENDIF
	;===================================
	;当选小役_大樱桃
	;	REP		---		CHE
	;	RD7		CHE		REP
	;	CHE		---		BEL
	;===================================
	CASE 当选小役_大樱桃
		绘柄_左上 = REP
		绘柄_左中 = RD7
		绘柄_左下 = CHE
		;中リールにて上の停止系は6街道(4,5,9,11,16,19)
		SELECTCASE RAND(6)
		CASE 0
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = CHE
		CASE 1
			绘柄_中上 = CHE
			绘柄_中中 = CHE
			绘柄_中下 = B_A_R
		CASE 2
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = RD7
		CASE 3
			绘柄_中上 = RD7
			绘柄_中中 = CHE
			绘柄_中下 = REP
		CASE 4
			绘柄_中上 = MEL
			绘柄_中中 = CHE
			绘柄_中下 = REP
		CASEELSE
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = MEL
		ENDSELECT
		绘柄_右上 = CHE
		绘柄_右中 = REP
		绘柄_右下 = BEL
	;===================================
	;当选小役_小樱桃
	;右リールはチェリー外し
	;	REP		---		---
	;	RD7		CHE		---
	;	CHE		---		---
	;===================================
	CASE 当选小役_小樱桃
		绘柄_左上 = REP
		绘柄_左中 = RD7
		绘柄_左下 = CHE
		;中リールにて上の停止系は6街道(4,5,9,11,16,19)
		SELECTCASE RAND(6)
		CASE 0
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = CHE
		CASE 1
			绘柄_中上 = CHE
			绘柄_中中 = CHE
			绘柄_中下 = B_A_R
		CASE 2
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = RD7
		CASE 3
			绘柄_中上 = RD7
			绘柄_中中 = CHE
			绘柄_中下 = REP
		CASE 4
			绘柄_中上 = MEL
			绘柄_中中 = CHE
			绘柄_中下 = REP
		CASEELSE
			绘柄_中上 = BEL
			绘柄_中中 = CHE
			绘柄_中下 = MEL
		ENDSELECT
		;右リールにてチェリーこぼしは2街道
		IF !RAND(2)
			绘柄_右上 = MEL
			绘柄_右中 = CHE
			绘柄_右下 = REP
		ELSE
			绘柄_右上 = REP
			绘柄_右中 = BEL
			绘柄_右下 = B_A_R
		ENDIF
	;===================================
	;当选小役_强西瓜
	;小Ｖ字西瓜
	;	MEL		---		MEL
	;	BEL		MEL		---
	;	REP		---		REP
	;===================================
	CASE 当选小役_强西瓜
		绘柄_左上 = MEL
		绘柄_左中 = BEL
		绘柄_左下 = REP
		;中リールにて上の停止系は2街道
		IF !RAND(2)
			绘柄_中上 = CHE
			绘柄_中中 = MEL
			绘柄_中下 = BL7
		ELSE
			绘柄_中上 = B_A_R
			绘柄_中中 = MEL
			绘柄_中下 = CHE
		ENDIF
		;右リールにて上の停止系は2街道
		IF !RAND(2)
			绘柄_右上 = MEL
			绘柄_右中 = CHE
			绘柄_右下 = REP
		ELSE
			绘柄_右上 = MEL
			绘柄_右中 = B_A_R
			绘柄_右下 = REP
		ENDIF
	;===================================
	;当选小役_弱西瓜
	;右下がり西瓜
	;	MEL		---		BEL
	;	BEL		MEL		---
	;	REP		---		MEL
	;===================================
	CASE 当选小役_弱西瓜
		绘柄_左上 = MEL
		绘柄_左中 = BEL
		绘柄_左下 = REP
		;中リールにて上の停止系は2街道
		IF !RAND(2)
			绘柄_中上 = CHE
			绘柄_中中 = MEL
			绘柄_中下 = BL7
		ELSE
			绘柄_中上 = B_A_R
			绘柄_中中 = MEL
			绘柄_中下 = CHE
		ENDIF
		;右リールにて上の停止系は4街道
		SELECTCASE RAND(4)
		CASE 0
			绘柄_右上 = BEL
			绘柄_右中 = B_A_R
			绘柄_右下 = MEL
		CASE 1
			绘柄_右上 = BEL
			绘柄_右中 = BL7
			绘柄_右下 = MEL
		CASE 2
			绘柄_右上 = BEL
			绘柄_右中 = RD7
			绘柄_右下 = MEL
		CASEELSE
			绘柄_右上 = BEL
			绘柄_右中 = BEL
			绘柄_右下 = MEL
		ENDSELECT
	;===================================
	;当选小役_ベル
	;右下がりベル
	;	BEL		---		---
	;	REP		BEL		---
	;	RD7		---		BEL
	;
	;上段ベル
	;	BEL		BEL		BEL
	;	REP		---		---
	;	RD7		---		---
	;
	;西瓜滑りからの中段ベル
	;	MEL		REP		REP
	;	BEL		BEL		BEL
	;	REP		B_A_R	---
	;===================================
	CASE 当选小役_ベル
		;西瓜滑りからの中段ベル
		;出现频度を下げたいためにベル当选时の1/20で出现
		IF !RAND(20)
			绘柄_左上 = MEL
			绘柄_左中 = BEL
			绘柄_左下 = REP
			绘柄_中上 = REP
			绘柄_中中 = BEL
			绘柄_中下 = B_A_R
			;右リールにて上の停止系は4街道
			SELECTCASE RAND(4)
			CASE 0
				绘柄_右上 = REP
				绘柄_右中 = BEL
				绘柄_右下 = BL7
			CASE 1
				绘柄_右上 = REP
				绘柄_右中 = BEL
				绘柄_右下 = RD7
			CASE 2
				绘柄_右上 = REP
				绘柄_右中 = BEL
				绘柄_右下 = BEL
			CASEELSE
				绘柄_右上 = REP
				绘柄_右中 = BEL
				绘柄_右下 = B_A_R
			ENDSELECT
		;右下がりベル
		ELSEIF !RAND(2)
			绘柄_左上 = BEL
			绘柄_左中 = REP
			绘柄_左下 = RD7
			;中リールにて上の停止系は2街道
			IF !RAND(2)
				绘柄_中上 = REP
				绘柄_中中 = BEL
				绘柄_中下 = B_A_R
			ELSE
				绘柄_中上 = REP
				绘柄_中中 = BEL
				绘柄_中下 = CHE
			ENDIF
			;右リールにて上の停止系は3街道
			SELECTCASE RAND(3)
			CASE 0
				绘柄_右上 = CHE
				绘柄_右中 = REP
				绘柄_右下 = BEL
			CASE 1
				绘柄_右上 = B_A_R
				绘柄_右中 = REP
				绘柄_右下 = BEL
			CASEELSE
				绘柄_右上 = REP
				绘柄_右中 = BEL
				绘柄_右下 = BEL
			ENDSELECT
		;上段ベル
		ELSE
			绘柄_左上 = BEL
			绘柄_左中 = REP
			绘柄_左下 = RD7
			;中リールにて上の停止系は4街道
			SELECTCASE RAND(4)
			CASE 0
				绘柄_中上 = BEL
				绘柄_中中 = CHE
				绘柄_中下 = CHE
			CASE 1
				绘柄_中上 = BEL
				绘柄_中中 = CHE
				绘柄_中下 = RD7
			CASE 2
				绘柄_中上 = BEL
				绘柄_中中 = B_A_R
				绘柄_中下 = MEL
			CASEELSE
				绘柄_中上 = BEL
				绘柄_中中 = CHE
				绘柄_中下 = MEL
			ENDSELECT
			;右リールにて上の停止系は5街道
			SELECTCASE RAND(5)
			CASE 0
				绘柄_右上 = BEL
				绘柄_右中 = BL7
				绘柄_右下 = MEL
			CASE 1
				绘柄_右上 = BEL
				绘柄_右中 = RD7
				绘柄_右下 = MEL
			CASE 2
				绘柄_右上 = BEL
				绘柄_右中 = BEL
				绘柄_右下 = MEL
			CASE 3
				绘柄_右上 = BEL
				绘柄_右中 = MEL
				绘柄_右下 = CHE
			CASEELSE
				绘柄_右上 = BEL
				绘柄_右中 = B_A_R
				绘柄_右下 = MEL
			ENDSELECT
		ENDIF
	;===================================
	;当选小役_回放
	;中段回放
	;	BEL		---		---
	;	REP		REP		REP
	;	RD7		BEL		BEL
	;===================================
	CASE 当选小役_回放
		绘柄_左上 = BEL
		绘柄_左中 = REP
		绘柄_左下 = RD7
		;中リールにて上の停止系は3街道
		SELECTCASE RAND(3)
		CASE 0
			绘柄_中上 = BL7
			绘柄_中中 = REP
			绘柄_中下 = BEL
		CASE 1
			绘柄_中上 = B_A_R
			绘柄_中中 = REP
			绘柄_中下 = BEL
		CASEELSE
			绘柄_中上 = CHE
			绘柄_中中 = REP
			绘柄_中下 = BEL
		ENDSELECT
		;右リールにて上の停止系は2街道
		IF !RAND(2)
			绘柄_右上 = B_A_R
			绘柄_右中 = REP
			绘柄_右下 = BEL
		ELSE
			绘柄_右上 = CHE
			绘柄_右中 = REP
			绘柄_右下 = BEL
		ENDIF
	;===================================
	;当选小役_落空了
	;右下がりベルこぼし
	;	BEL		---		---
	;	REP		BEL		BEL
	;	RD7		---		---
	;
	;上段ベルこぼし
	;	BEL		BEL		REP
	;	REP		---		BEL
	;	RD7		---		---
	;
	;中段回放上こぼし
	;	BEL		---		REP
	;	REP		REP		BEL
	;	RD7		BEL		---
	;中段回放下こぼし
	;	BEL		---		MEL
	;	REP		REP		---
	;	RD7		BEL		REP
	;===================================
	CASE 当选小役_落空了
		绘柄_左上 = BEL
		绘柄_左中 = REP
		绘柄_左下 = RD7
		;ベルこぼしパターン
		IF !RAND(5)
			;右下がりベルこぼし
			IF !RAND(2)
				;中リールにて上の停止系は2街道
				IF !RAND(2)
					绘柄_中上 = REP
					绘柄_中中 = BEL
					绘柄_中下 = B_A_R
				ELSE
					绘柄_中上 = REP
					绘柄_中中 = BEL
					绘柄_中下 = CHE
				ENDIF
				;右リールにて上の停止系は4街道
				SELECTCASE RAND(4)
				CASE 0
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = RD7
				CASE 1
					绘柄_右上 = BEL
					绘柄_右中 = BEL
					绘柄_右下 = MEL
				CASE 2
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = B_A_R
				CASEELSE
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = BL7
				ENDSELECT
			;上段ベルこぼし
			ELSE
				;中リールにて上の停止系は3街道
				SELECTCASE RAND(3)
				CASE 0
					绘柄_中上 = BEL
					绘柄_中中 = CHE
					绘柄_中下 = CHE
				CASE 1
					绘柄_中上 = BEL
					绘柄_中中 = B_A_R
					绘柄_中下 = MEL
				CASEELSE
					绘柄_中上 = BEL
					绘柄_中中 = CHE
					绘柄_中下 = MEL
				ENDSELECT
				;右リールにて上の停止系は4街道
				SELECTCASE RAND(4)
				CASE 0
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = RD7
				CASE 1
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = BEL
				CASE 2
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = B_A_R
				CASEELSE
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = BL7
				ENDSELECT
			ENDIF
		;回放こぼしパターン
		ELSEIF !RAND(4)
			;中リールにて上の停止系は3街道
			SELECTCASE RAND(3)
			CASE 0
				绘柄_中上 = BL7
				绘柄_中中 = REP
				绘柄_中下 = BEL
			CASE 1
				绘柄_中上 = B_A_R
				绘柄_中中 = REP
				绘柄_中下 = BEL
			CASEELSE
				绘柄_中上 = CHE
				绘柄_中中 = REP
				绘柄_中下 = BEL
			ENDSELECT
			
			;中段回放上こぼし
			IF !RAND(2)
				;右リールにて上の停止系は4街道
				SELECTCASE RAND(4)
				CASE 0
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = RD7
				CASE 1
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = BEL
				CASE 2
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = B_A_R
				CASEELSE
					绘柄_右上 = REP
					绘柄_右中 = BEL
					绘柄_右下 = BL7
				ENDSELECT
			;中段回放下こぼし
			ELSE
				;右リールにて上の停止系は2街道
				IF !RAND(2)
					绘柄_右上 = MEL
					绘柄_右中 = CHE
					绘柄_右下 = REP
				ELSE
					绘柄_右上 = MEL
					绘柄_右中 = B_A_R
					绘柄_右下 = REP
				ENDIF
			ENDIF
		;ただのハズレパターン(中リールBELが入ってこない)
		ELSE
			;中リールの配置の仕方によって变化
			SELECTCASE RAND(3)
			;中リールBOUNS图柄上段
			CASE 0
				IF !RAND(2)
					绘柄_中上 = RD7
					绘柄_中中 = CHE
					绘柄_中下 = REP
				ELSE
					绘柄_中上 = B_A_R
					绘柄_中中 = MEL
					绘柄_中下 = CHE
				ENDIF
				;右リールBOUNS图柄が上段に来るようにする
				SELECTCASE RAND(6)
				CASE 0
					绘柄_右上 = BL7
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				CASE 1
					绘柄_右上 = RD7
					绘柄_右中 = MEL
					绘柄_右下 = B_A_R
				CASE 2
					绘柄_右上 = B_A_R
					绘柄_右中 = REP
					绘柄_右下 = BEL
				CASE 3
					绘柄_右上 = B_A_R
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				;例外1(右リールは4つ滑ってもBOUNS图柄が上段に来ない时がある)
				CASE 4
					绘柄_右上 = BEL
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				;例外2(右リールは4つ滑ってもBOUNS图柄が上段に来ない时がある)
				CASEELSE
					绘柄_右上 = MEL
					绘柄_右中 = CHE
					绘柄_右下 = REP
				ENDSELECT
			;中リールBOUNS图柄中段
			CASE 1
				SELECTCASE RAND(3)
				CASE 0
					绘柄_中上 = MEL
					绘柄_中中 = BL7
					绘柄_中下 = REP
				CASE 1
					绘柄_中上 = CHE
					绘柄_中中 = B_A_R
					绘柄_中下 = REP
				CASE 2
					绘柄_中上 = CHE
					绘柄_中中 = RD7
					绘柄_中下 = CHE
				ENDSELECT
				;右リールBOUNS图柄が中段に来るようにする
				SELECTCASE RAND(5)
				CASE 0
					绘柄_右上 = BEL
					绘柄_右中 = BL7
					绘柄_右下 = MEL
				CASE 1
					绘柄_右上 = BEL
					绘柄_右中 = RD7
					绘柄_右下 = MEL
				CASE 2
					绘柄_右上 = MEL
					绘柄_右中 = B_A_R
					绘柄_右下 = REP
				CASE 3
					绘柄_右上 = BEL
					绘柄_右中 = B_A_R
					绘柄_右下 = MEL
				;これだけ例外(右リールは4つ滑ってもBOUNS图柄が中段に来ない时がある)
				CASEELSE
					绘柄_右上 = BEL
					绘柄_右中 = BEL
					绘柄_右下 = MEL
				ENDSELECT
			;中リールBOUNS图柄下段
			CASEELSE
				IF !RAND(2)
					绘柄_中上 = CHE
					绘柄_中中 = CHE
					绘柄_中下 = B_A_R
				ELSE
					绘柄_中上 = CHE
					绘柄_中中 = MEL
					绘柄_中下 = BL7
				ENDIF
				;右リールBOUNS图柄が上中段に来るようにする
				SELECTCASE RAND(10)
				CASE 0
					绘柄_右上 = BL7
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				CASE 1
					绘柄_右上 = B_A_R
					绘柄_右中 = REP
					绘柄_右下 = BEL
				CASE 2
					绘柄_右上 = B_A_R
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				CASE 3
					绘柄_右上 = BEL
					绘柄_右中 = BL7
					绘柄_右下 = MEL
				CASE 4
					绘柄_右上 = BEL
					绘柄_右中 = RD7
					绘柄_右下 = MEL
				CASE 5
					绘柄_右上 = MEL
					绘柄_右中 = B_A_R
					绘柄_右下 = REP
				CASE 6
					绘柄_右上 = BEL
					绘柄_右中 = B_A_R
					绘柄_右下 = MEL
				CASE 7
					绘柄_右上 = BEL
					绘柄_右中 = MEL
					绘柄_右下 = CHE
				CASE 8
					绘柄_右上 = MEL
					绘柄_右中 = CHE
					绘柄_右下 = REP
				CASEELSE
					绘柄_右上 = BEL
					绘柄_右中 = BEL
					绘柄_右下 = MEL
				ENDSELECT
			ENDSELECT
		ENDIF
	CASEELSE
ENDSELECT

;============================================
;当选ゲーム数
;天井999Ｇ
;1/6で333Ｇ1/6で666Ｇ1/3で999Ｇあとの1/3は等概率で选择
;レア小役による短缩はあり
;============================================
@当选ゲーム数设定()
#FUNCTION
#DIM 当选ゲーム
IF !RAND(6)
	RETURNF 333
ELSEIF !RAND(5)
	RETURNF 666
ELSEIF !RAND(2)
	RETURNF 999
ELSE
	当选ゲーム = RAND(996) +1
	SIF 当选ゲーム >= 333
		当选ゲーム ++
	SIF 当选ゲーム >= 666
		当选ゲーム ++
	RETURNF 当选ゲーム
ENDIF
;================================================================================================================
;暗转设定(当选的小役,暗转_左上,暗转_左中,暗转_左下,暗转_中上,暗转_中中,暗转_中下,暗转_右上,暗转_右中,暗转_右下)
;レア小役に応じて暗转を设定
;================================================================================================================
@暗转设定(当选的小役,暗转_左上,暗转_左中,暗转_左下,暗转_中上,暗转_中中,暗转_中下,暗转_右上,暗转_右中,暗转_右下)

#DIM REF 当选的小役

#DIM REF 暗转_左上
#DIM REF 暗转_左中
#DIM REF 暗转_左下
#DIM REF 暗转_中上
#DIM REF 暗转_中中
#DIM REF 暗转_中下
#DIM REF 暗转_右上
#DIM REF 暗转_右中
#DIM REF 暗转_右下

;当选小役の种类
#DIM CONST 当选小役_赤7BOUNS = 0
#DIM CONST 当选小役_青7BOUNS = 1
#DIM CONST 当选小役_レギュラーBOUNS = 2
#DIM CONST 当选小役_中樱桃 = 3
#DIM CONST 当选小役_大樱桃 = 4
#DIM CONST 当选小役_小樱桃 = 5
#DIM CONST 当选小役_强西瓜 = 6
#DIM CONST 当选小役_弱西瓜 = 7
#DIM CONST 当选小役_ベル = 8
#DIM CONST 当选小役_回放 = 9
#DIM CONST 当选小役_落空了 = 99


SELECTCASE 当选的小役
	
	;各种BOUNSは中段ラインに揃う
	CASE 当选小役_赤7BOUNS, 当选小役_青7BOUNS, 当选小役_レギュラーBOUNS
		暗转_左上 = 1
		暗转_左中 = 0
		暗转_左下 = 1
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 1
		暗转_右中 = 0
		暗转_右下 = 1
	
	;中段樱桃は左リール中段のチェリーと右下がりBAR揃いを明るく
	CASE 当选小役_中樱桃
		暗转_左上 = 0
		暗转_左中 = 0
		暗转_左下 = 1
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 1
		暗转_右中 = 1
		暗转_右下 = 0
	
	;大樱桃は右上がりチェリー揃いを明るく
	CASE 当选小役_大樱桃
		暗转_左上 = 1
		暗转_左中 = 1
		暗转_左下 = 0
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 0
		暗转_右中 = 1
		暗转_右下 = 1
	
	;小樱桃は左リール下段チェリー中央チェリーを明るく
	CASE 当选小役_小樱桃
		暗转_左上 = 1
		暗转_左中 = 1
		暗转_左下 = 0
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 1
		暗转_右中 = 1
		暗转_右下 = 1
	
	;强西瓜は小Ｖ字西瓜を明るく
	CASE 当选小役_强西瓜
		暗转_左上 = 0
		暗转_左中 = 1
		暗转_左下 = 1
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 0
		暗转_右中 = 1
		暗转_右下 = 1
	
	;弱西瓜は右下がり西瓜を明るく
	CASE 当选小役_弱西瓜
		暗转_左上 = 0
		暗转_左中 = 1
		暗转_左下 = 1
		暗转_中上 = 1
		暗转_中中 = 0
		暗转_中下 = 1
		暗转_右上 = 1
		暗转_右中 = 1
		暗转_右下 = 0
	
	;其他については暗转は发生しない
	CASEELSE
		
ENDSELECT
